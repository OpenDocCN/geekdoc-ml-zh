<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Loops, part 2: for</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Loops, part 2: for</h1>
<blockquote>原文：<a href="https://rust-exercises.com/100-exercises/02_basic_calculator/07_for.html">https://rust-exercises.com/100-exercises/02_basic_calculator/07_for.html</a></blockquote>
                        
<p>Having to manually increment a counter variable is somewhat tedious. The pattern is also extremely common!<br/>
To make this easier, Rust provides a more concise way to iterate over a range of values: the <code>for</code> loop.</p>
<h2 id="the-for-loop"><a class="header" href="#the-for-loop">The <code>for</code> loop</a></h2>
<p>A <code>for</code> loop is a way to execute a block of code for each element in an iterator<sup class="footnote-reference" id="fr-iterator-1"><a href="#footnote-iterator">1</a></sup>.</p>
<p>Here's the general syntax:</p>
<pre><code class="language-rust">for &lt;element&gt; in &lt;iterator&gt; {
    // code to execute
}</code></pre>
<h2 id="ranges"><a class="header" href="#ranges">Ranges</a></h2>
<p>Rust's standard library provides <strong>range</strong> type that can be used to iterate over a sequence of numbers<sup class="footnote-reference" id="fr-weird-ranges-1"><a href="#footnote-weird-ranges">2</a></sup>.</p>
<p>For example, if we want to sum the numbers from 1 to 5:</p>
<pre><code class="language-rust">let mut sum = 0;
for i in 1..=5 {
    sum += i;
}</code></pre>
<p>Every time the loop runs, <code>i</code> will be assigned the next value in the range before executing the block of code.</p>
<p>There are five kinds of ranges in Rust:</p>
<ul>
<li><code>1..5</code>: A (half-open) range. It includes all numbers from 1 to 4. It doesn't include the last value, 5.</li>
<li><code>1..=5</code>: An inclusive range. It includes all numbers from 1 to 5. It includes the last value, 5.</li>
<li><code>1..</code>: An open-ended range. It includes all numbers from 1 to infinity (well, until the maximum value of the integer type).</li>
<li><code>..5</code>: A range that starts at the minimum value for the integer type and ends at 4. It doesn't include the last value, 5.</li>
<li><code>..=5</code>: A range that starts at the minimum value for the integer type and ends at 5. It includes the last value, 5.</li>
</ul>
<p>You can use a <code>for</code> loop with the first three kinds of ranges, where the starting point
is explicitly specified. The last two range types are used in other contexts, that we'll cover later.</p>
<p>The extreme values of a range don't have to be integer literals—they can be variables or expressions too!</p>
<p>For example:</p>
<pre><code class="language-rust">let end = 5;
let mut sum = 0;

for i in 1..(end + 1) {
    sum += i;
}</code></pre>
<h2 id="further-reading"><a class="header" href="#further-reading">Further reading</a></h2>
<ul>
<li><a href="https://doc.rust-lang.org/std/keyword.for.html"><code>for</code> loop documentation</a></li>
</ul>
<h2 id="exercise"><a class="header" href="#exercise">Exercise</a></h2>
<p>The exercise for this section is located in <a href="https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/02_basic_calculator/07_for"><code>02_basic_calculator/07_for</code></a></p>
<hr/>
<ol class="footnote-definition"><li id="footnote-iterator">
<p>Later in the course we'll give a precise definition of what counts as an "iterator".
For now, think of it as a sequence of values that you can loop over. <a href="#fr-iterator-1">↩</a></p>
</li>
<li id="footnote-weird-ranges">
<p>You can use ranges with other types too (e.g. characters and IP addresses),
but integers are definitely the most common case in day-to-day Rust programming. <a href="#fr-weird-ranges-1">↩</a></p>
</li>
</ol>
                        
</body>
</html>