<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Loops, part 1: while</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Loops, part 1: while</h1>
<blockquote>原文：<a href="https://rust-exercises.com/100-exercises/02_basic_calculator/06_while.html">https://rust-exercises.com/100-exercises/02_basic_calculator/06_while.html</a></blockquote>
                        
<p>Your implementation of <code>factorial</code> has been forced to use recursion.<br/>
This may feel natural to you, especially if you're coming from a functional programming background.
Or it may feel strange, if you're used to more imperative languages like C or Python.</p>
<p>Let's see how you can implement the same functionality using a <strong>loop</strong> instead.</p>
<h2 id="the-while-loop"><a class="header" href="#the-while-loop">The <code>while</code> loop</a></h2>
<p>A <code>while</code> loop is a way to execute a block of code as long as a <strong>condition</strong> is true.<br/>
Here's the general syntax:</p>
<pre><code class="language-rust">while &lt;condition&gt; {
    // code to execute
}</code></pre>
<p>For example, we might want to sum the numbers from 1 to 5:</p>
<pre><code class="language-rust">let sum = 0;
let i = 1;
// "while i is less than or equal to 5"
while i &lt;= 5 {
    // `+=` is a shorthand for `sum = sum + i`
    sum += i;
    i += 1;
}</code></pre>
<p>This will keep adding 1 to <code>i</code> and <code>i</code> to <code>sum</code> until <code>i</code> is no longer less than or equal to 5.</p>
<h2 id="the-mut-keyword"><a class="header" href="#the-mut-keyword">The <code>mut</code> keyword</a></h2>
<p>The example above won't compile as is. You'll get an error like:</p>
<pre><code class="language-text">error[E0384]: cannot assign twice to immutable variable `sum`
 --&gt; src/main.rs:7:9
  |
2 |     let sum = 0;
  |         ---
  |         |
  |         first assignment to `sum`
  |         help: consider making this binding mutable: `mut sum`
...
7 |         sum += i;
  |         ^^^^^^^^ cannot assign twice to immutable variable

error[E0384]: cannot assign twice to immutable variable `i`
 --&gt; src/main.rs:8:9
  |
3 |     let i = 1;
  |         -
  |         |
  |         first assignment to `i`
  |         help: consider making this binding mutable: `mut i`
...
8 |         i += 1;
  |         ^^^^^^ cannot assign twice to immutable variable
</code></pre>
<p>This is because variables in Rust are <strong>immutable</strong> by default.<br/>
You can't change their value once it has been assigned.</p>
<p>If you want to allow modifications, you have to declare the variable as <strong>mutable</strong> using the <code>mut</code> keyword:</p>
<pre><code class="language-rust">// `sum` and `i` are mutable now!
let mut sum = 0;
let mut i = 1;

while i &lt;= 5 {
    sum += i;
    i += 1;
}</code></pre>
<p>This will compile and run without errors.</p>
<h2 id="further-reading"><a class="header" href="#further-reading">Further reading</a></h2>
<ul>
<li><a href="https://doc.rust-lang.org/std/keyword.while.html"><code>while</code> loop documentation</a></li>
</ul>
<h2 id="exercise"><a class="header" href="#exercise">Exercise</a></h2>
<p>The exercise for this section is located in <a href="https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/02_basic_calculator/06_while"><code>02_basic_calculator/06_while</code></a></p>

                        
</body>
</html>