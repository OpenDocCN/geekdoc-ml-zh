- en: Gradient Boosting Trees
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ¢¯åº¦æå‡æ ‘
- en: åŸæ–‡ï¼š[https://geostatsguy.github.io/MachineLearningDemos_Book/MachineLearning_gradient_boosting.html](https://geostatsguy.github.io/MachineLearningDemos_Book/MachineLearning_gradient_boosting.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://geostatsguy.github.io/MachineLearningDemos_Book/MachineLearning_gradient_boosting.html](https://geostatsguy.github.io/MachineLearningDemos_Book/MachineLearning_gradient_boosting.html)
- en: Michael J. Pyrcz, Professor, The University of Texas at Austin
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Michael J. Pyrczï¼Œæ•™æˆï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡
- en: '[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [Website](http://michaelpyrcz.com) | [GoogleScholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [Book](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Applied
    Geostats in Python e-book](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [ç½‘ç«™](http://michaelpyrcz.com) | [Google Scholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [ä¹¦ç±](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Pythonåº”ç”¨åœ°è´¨ç»Ÿè®¡å­¦ç”µå­ä¹¦](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
- en: 'Chapter of e-book â€œApplied Machine Learning in Python: a Hands-on Guide with
    Codeâ€.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ç”µå­ä¹¦â€œPythonåº”ç”¨æœºå™¨å­¦ä¹ ï¼šå¸¦ä»£ç çš„æ‰‹å†Œâ€çš„ä¸€ç« ã€‚
- en: 'Cite this e-Book as:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: å¼•ç”¨æ­¤ç”µå­ä¹¦å¦‚ä¸‹ï¼š
- en: 'Pyrcz, M.J., 2024, *Applied Machine Learning in Python: A Hands-on Guide with
    Code* [e-book]. Zenodo. doi:10.5281/zenodo.15169138 [![DOI](../Images/7e4ea662f44af1eae87e87ecbb962ff4.png)](https://doi.org/10.5281/zenodo.15169138)'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Pyrcz, M.J., 2024, *Pythonåº”ç”¨æœºå™¨å­¦ä¹ ï¼šå¸¦ä»£ç çš„æ‰‹å†Œ* [ç”µå­ä¹¦]. Zenodo. doi:10.5281/zenodo.15169138
    [![DOI](../Images/7e4ea662f44af1eae87e87ecbb962ff4.png)](https://doi.org/10.5281/zenodo.15169138)
- en: 'The workflows in this book and more are available here:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ä¹¦ä¸­çš„å·¥ä½œæµç¨‹ä»¥åŠæ›´å¤šå†…å®¹å¯åœ¨ä»¥ä¸‹é“¾æ¥æ‰¾åˆ°ï¼š
- en: 'Cite the MachineLearningDemos GitHub Repository as:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å¼•ç”¨ MachineLearningDemos GitHub ä»“åº“å¦‚ä¸‹ï¼š
- en: 'Pyrcz, M.J., 2024, *MachineLearningDemos: Python Machine Learning Demonstration
    Workflows Repository* (0.0.3) [Software]. Zenodo. DOI: 10.5281/zenodo.13835312\.
    GitHub repository: [GeostatsGuy/MachineLearningDemos](https://github.com/GeostatsGuy/MachineLearningDemos)
    [![DOI](../Images/4e3a59c17d684b06a170c4af84e0f631.png)](https://zenodo.org/doi/10.5281/zenodo.13835312)'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 'Pyrcz, M.J., 2024, *MachineLearningDemos: Pythonæœºå™¨å­¦ä¹ æ¼”ç¤ºå·¥ä½œæµç¨‹ä»“åº“* (0.0.3) [è½¯ä»¶].
    Zenodo. DOI: 10.5281/zenodo.13835312\. GitHub ä»“åº“ï¼š[GeostatsGuy/MachineLearningDemos](https://github.com/GeostatsGuy/MachineLearningDemos)
    [![DOI](../Images/4e3a59c17d684b06a170c4af84e0f631.png)](https://zenodo.org/doi/10.5281/zenodo.13835312)'
- en: By Michael J. Pyrcz
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…ï¼šMichael J. Pyrcz
- en: Â© Copyright 2024.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Â© ç‰ˆæƒæ‰€æœ‰ 2024ã€‚
- en: This chapter is a tutorial for / demonstration of **Gradient Boosting Trees**.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« æ˜¯å…³äº **æ¢¯åº¦æå‡æ ‘** çš„æ•™ç¨‹å’Œæ¼”ç¤ºã€‚
- en: '**YouTube Lecture**: check out my lectures on:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**YouTube è®²åº§**ï¼šè¯·æŸ¥çœ‹æˆ‘åœ¨ä»¥ä¸‹ä¸»é¢˜ä¸Šçš„è®²åº§ï¼š'
- en: '[Introduction to Machine Learning](https://youtu.be/zOUM_AnI1DQ?si=wzWdJ35qJ9n8O6Bl)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[æœºå™¨å­¦ä¹ ç®€ä»‹](https://youtu.be/zOUM_AnI1DQ?si=wzWdJ35qJ9n8O6Bl)'
- en: '[Decision Tree](https://youtu.be/JUGo1Pu3QT4?si=ebQXv6Yglar0mYWp)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å†³ç­–æ ‘](https://youtu.be/JUGo1Pu3QT4?si=ebQXv6Yglar0mYWp)'
- en: '[Random Forest](https://youtu.be/m5_wk310fho?si=up-mzVPHvniXsYE6)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[éšæœºæ£®æ—](https://youtu.be/m5_wk310fho?si=up-mzVPHvniXsYE6)'
- en: '[Gradient Boosting](https://youtu.be/___T8_ixIwc?si=ozHR_eIuMF3SPTxJ)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[æ¢¯åº¦æå‡](https://youtu.be/___T8_ixIwc?si=ozHR_eIuMF3SPTxJ)'
- en: These lectures are all part of my [Machine Learning Course](https://youtube.com/playlist?list=PLG19vXLQHvSC2ZKFIkgVpI9fCjkN38kwf&si=XonjO2wHdXffMpeI)
    on YouTube with linked well-documented Python workflows and interactive dashboards.
    My goal is to share accessible, actionable, and repeatable educational content.
    If you want to know about my motivation, check out [Michaelâ€™s Story](https://michaelpyrcz.com/my-story).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›è®²åº§éƒ½æ˜¯æˆ‘ YouTube ä¸Šçš„ [æœºå™¨å­¦ä¹ è¯¾ç¨‹](https://youtube.com/playlist?list=PLG19vXLQHvSC2ZKFIkgVpI9fCjkN38kwf&si=XonjO2wHdXffMpeI)
    çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­åŒ…å«æœ‰è‰¯å¥½æ–‡æ¡£è®°å½•çš„ Python å·¥ä½œæµç¨‹å’Œäº¤äº’å¼ä»ªè¡¨æ¿ã€‚æˆ‘çš„ç›®æ ‡æ˜¯åˆ†äº«æ˜“äºç†è§£ã€å¯æ“ä½œå’Œå¯é‡å¤çš„æ•™è‚²å†…å®¹ã€‚å¦‚æœæ‚¨æƒ³äº†è§£æˆ‘çš„åŠ¨æœºï¼Œè¯·æŸ¥çœ‹ [Michaelçš„æ•…äº‹](https://michaelpyrcz.com/my-story)ã€‚
- en: Motivations for Gradient Boosting Trees
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¢¯åº¦æå‡æ ‘çš„åŠ¨åŠ›
- en: Before we can understand gradient boosting trees we first need to cover decision
    trees. Hereâ€™s the critical concepts for decision trees.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬èƒ½å¤Ÿç†è§£æ¢¯åº¦æå‡æ ‘ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£å†³ç­–æ ‘ã€‚ä»¥ä¸‹æ˜¯å†³ç­–æ ‘çš„å…³é”®æ¦‚å¿µã€‚
- en: Decision Tree
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å†³ç­–æ ‘
- en: '**Prediction**'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '**é¢„æµ‹**'
- en: estimate a function \(\hat{f}\) such that we predict a response feature \(Y\)
    from a set of predictor features \(X_1,\ldots,X_m\).
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¼°è®¡ä¸€ä¸ªå‡½æ•° \(\hat{f}\)ï¼Œä»¥ä¾¿æˆ‘ä»¬ä»ä¸€ç»„é¢„æµ‹ç‰¹å¾ \(X_1,\ldots,X_m\) ä¸­é¢„æµ‹å“åº”ç‰¹å¾ \(Y\)ã€‚
- en: the prediction is of the form \(\hat{Y} = \hat{f}(X_1,\ldots,X_m)\)
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¢„æµ‹å½¢å¼ä¸º \(\hat{Y} = \hat{f}(X_1,\ldots,X_m)\)
- en: '**Supervised Learning**'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç›‘ç£å­¦ä¹ **'
- en: the response feature label, \(Y\), is available over the training and testing
    data
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å“åº”ç‰¹å¾æ ‡ç­¾ï¼Œ\(Y\)ï¼Œåœ¨è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ä¸­éƒ½æ˜¯å¯ç”¨çš„
- en: '**Based on an Ensemble of Decision Trees**'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**åŸºäºå†³ç­–æ ‘é›†æˆ**'
- en: These are the concepts related to decision tree.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ˜¯ä¸å†³ç­–æ ‘ç›¸å…³çš„æ¦‚å¿µã€‚
- en: '**Hierarchical, Binary Segmentation of the Feature Space**'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç‰¹å¾ç©ºé—´çš„åˆ†å±‚ã€äºŒåˆ†åˆ†å‰²**'
- en: The fundamental idea is to divide the predictor space, \(ğ‘‹_1,\ldots,X_m\), into
    \(J\) mutually exclusive, exhaustive regions
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬æ€æƒ³æ˜¯å°†é¢„æµ‹ç©ºé—´ï¼Œ\(ğ‘‹_1,\ldots,X_m\)ï¼Œåˆ’åˆ†ä¸º \(J\) ä¸ªäº’æ–¥ã€ç©·å°½çš„åŒºåŸŸ
- en: '**mutually exclusive** â€“ any combination of predictors only belongs to a single
    region, \(R_j\)'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**äº’æ–¥æ€§** â€“ ä»»ä½•é¢„æµ‹å› å­çš„ç»„åˆåªå±äºä¸€ä¸ªå•ä¸€çš„åŒºåŸŸï¼Œ\(R_j\)'
- en: '**exhaustive** â€“ all combinations of predictors belong a region, \(R_j\), regions
    cover entire feature space (range of the variables being considered)'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç©·å°½æ€§** â€“ æ‰€æœ‰é¢„æµ‹å› å­çš„ç»„åˆéƒ½å±äºä¸€ä¸ªåŒºåŸŸï¼Œ\(R_j\)ï¼Œè¿™äº›åŒºåŸŸè¦†ç›–æ•´ä¸ªç‰¹å¾ç©ºé—´ï¼ˆè€ƒè™‘çš„å˜é‡çš„èŒƒå›´ï¼‰'
- en: For every observation in a region, \(R_j\), we use the same prediction, \(\hat{Y}(R_j)\)
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºåŒºåŸŸ \(R_j\) ä¸­çš„æ¯ä¸ªè§‚æµ‹å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ç›¸åŒçš„é¢„æµ‹ï¼Œ\(\hat{Y}(R_j)\)
- en: For example predict production, \(\hat{Y}\), from porosity, \({X_1}\)
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä»å­”éš™ç‡ï¼Œ\({X_1}\) é¢„æµ‹ç”Ÿäº§ï¼Œ\(\hat{Y}\)
- en: given the data within a mD feature space, \(X_1,\ldots,X_m\), find that boundary
    maximizes the gap between the two categories
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»™å®šä¸€ä¸ª mD ç‰¹å¾ç©ºé—´å†…çš„æ•°æ®ï¼Œ\(X_1,\ldots,X_m\)ï¼Œæ‰¾åˆ°è¾¹ç•Œæœ€å¤§åŒ–ä¸¤ä¸ªç±»åˆ«ä¹‹é—´çš„å·®è·
- en: new cases are classified based on where they fall relative to this boundary
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–°æ¡ˆä¾‹æ ¹æ®å®ƒä»¬ç›¸å¯¹äºè¿™ä¸ªè¾¹ç•Œçš„ç›¸å¯¹ä½ç½®è¿›è¡Œåˆ†ç±»
- en: '**Procedure for Tree Construction**'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ ‘æ„å»ºçš„æ­¥éª¤**'
- en: The tree is constructed from the top down. We begin with a single region that
    covers the entire feature space and then proceed with a sequence of splits.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‘æ˜¯ä»ä¸Šå¾€ä¸‹æ„å»ºçš„ã€‚æˆ‘ä»¬ä»ä¸€ä¸ªè¦†ç›–æ•´ä¸ªç‰¹å¾ç©ºé—´çš„å•ä¸€åŒºåŸŸå¼€å§‹ï¼Œç„¶åè¿›è¡Œä¸€ç³»åˆ—çš„åˆ†å‰²ã€‚
- en: '**Scan All Possible Splits** over all regions and over all features.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ‰«ææ‰€æœ‰å¯èƒ½çš„åˆ†å‰²**è¦†ç›–æ‰€æœ‰åŒºåŸŸå’Œæ‰€æœ‰ç‰¹å¾ã€‚'
- en: '**Greedy Optimization** The method proceeds by finding the first segmentation
    (split) in any feature that minimizes the residual sum of squares of errors over
    all the training data \(y_i\) over all of the regions \(j = 1,\ldots,J\).'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è´ªå©ªä¼˜åŒ–**è¯¥æ–¹æ³•é€šè¿‡æ‰¾åˆ°ä»»ä½•ç‰¹å¾ä¸­çš„ç¬¬ä¸€ä¸ªåˆ†å‰²ï¼ˆåˆ†å‰²ï¼‰æ¥æœ€å°åŒ–æ‰€æœ‰è®­ç»ƒæ•°æ® \(y_i\) åœ¨æ‰€æœ‰åŒºåŸŸ \(j = 1,\ldots,J\) ä¸Šçš„æ®‹å·®å¹³æ–¹å’Œã€‚'
- en: \[ RSS = \sum^{J}_{j=1} \sum_{i \in R_j} (y_i - \hat{y}_{R_j})^2 \]
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: \[ RSS = \sum^{J}_{j=1} \sum_{i \in R_j} (y_i - \hat{y}_{R_j})^2 \]
- en: '**Stopping Criteria** is typically based on minimum number of training data
    in each region for a robust estimation and / or minimum reduction in RSS for the
    next split'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**åœæ­¢æ ‡å‡†**é€šå¸¸æ˜¯æ¯ä¸ªåŒºåŸŸä¸­è®­ç»ƒæ•°æ®çš„æœ€å°æ•°é‡ï¼Œä»¥è¿›è¡Œç¨³å¥ä¼°è®¡ï¼Œä»¥åŠ/æˆ–ä¸‹ä¸€ä¸ªåˆ†å‰²çš„æœ€å° RSS å‡å°‘é‡'
- en: Now we can cover gradient boosting trees that build on the concept of decision
    trees.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¯ä»¥ä»‹ç»åŸºäºå†³ç­–æ ‘æ¦‚å¿µçš„æ¢¯åº¦æå‡æ ‘ã€‚
- en: Boosting Models
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¢å¼ºæ¨¡å‹
- en: Boosting additively applies multiple week learners to build a stronger learner.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: å¢å¼ºé€šè¿‡æ·»åŠ å¤šä¸ªå¼±å­¦ä¹ å™¨æ¥æ„å»ºä¸€ä¸ªæ›´å¼ºçš„å­¦ä¹ å™¨ã€‚
- en: a weak learner is one that offers predictions just marginally better than random
    selection
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¼±å­¦ä¹ å™¨æ˜¯æŒ‡æä¾›é¢„æµ‹ç»“æœä»…ç•¥å¥½äºéšæœºé€‰æ‹©çš„æ¨¡å‹
- en: Iâ€™ll explain the method with words and then with equations.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä¼šç”¨æ–‡å­—å’Œæ–¹ç¨‹å¼æ¥è§£é‡Šè¿™ä¸ªæ–¹æ³•ã€‚
- en: build a simple model with a high error rate, the model can be quite inaccurate,
    but moves in the correct direction
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ªè¯¯å·®ç‡é«˜çš„ç®€å•æ¨¡å‹ï¼Œæ¨¡å‹å¯èƒ½éå¸¸ä¸å‡†ç¡®ï¼Œä½†æ–¹å‘æ˜¯æ­£ç¡®çš„
- en: calculate the error from the model
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¡ç®—æ¨¡å‹çš„è¯¯å·®
- en: fit another model to the error
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†å¦ä¸€ä¸ªæ¨¡å‹æ‹Ÿåˆåˆ°è¯¯å·®ä¸Š
- en: calculate the error from this addition of the first and second model
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¡ç®—ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ¨¡å‹æ·»åŠ åçš„è¯¯å·®
- en: repeat until the desired accuracy is obtained or some other stopping criteria
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é‡å¤ç›´åˆ°è¾¾åˆ°æ‰€éœ€çš„å‡†ç¡®åº¦æˆ–æ»¡è¶³å…¶ä»–åœæ­¢æ ‡å‡†
- en: 'The general workflow for predicting \(Y\) from \(X_1,\ldots,X_m\) is:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: ä» \(X_1,\ldots,X_m\) é¢„æµ‹ \(Y\) çš„ä¸€èˆ¬å·¥ä½œæµç¨‹æ˜¯ï¼š
- en: build a week learner to predict \(Y\) from \(X_1,\ldots,X_m\), \(\hat{F}_k(X)\)
    from the training data \(x_{i,j}\).
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ªå¼±å­¦ä¹ å™¨æ¥ä» \(X_1,\ldots,X_m\) é¢„æµ‹ \(Y\)ï¼Œä»è®­ç»ƒæ•°æ® \(x_{i,j}\) é¢„æµ‹ \(\hat{F}_k(X)\)ã€‚
- en: loop over number of desired estimators, \(k = 1,\ldots,K\)
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éå†æ‰€éœ€ä¼°è®¡å™¨çš„æ•°é‡ï¼Œ\(k = 1,\ldots,K\)
- en: calculate the residuals at the training data, \(h_k(x_{i}) = y_i - \hat{F}_k(x_{i})\)
  id: totrans-56
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®¡ç®—è®­ç»ƒæ•°æ®ä¸­çš„æ®‹å·®ï¼Œ\(h_k(x_{i}) = y_i - \hat{F}_k(x_{i})\)
- en: fit another week learner to predict \(h_k\) from \(X_1,\ldots,X_m\), \(\hat{F}_k(X)\)
    from the training data \(x_{i,j}\).
  id: totrans-57
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°†å¦ä¸€ä¸ªå¼±å­¦ä¹ å™¨æ‹Ÿåˆåˆ°ä» \(X_1,\ldots,X_m\) é¢„æµ‹ \(h_k\)ï¼Œä»è®­ç»ƒæ•°æ® \(x_{i,j}\) é¢„æµ‹ \(\hat{F}_k(X)\)ã€‚
- en: We have a hierarchy of simple \(K\) models.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„ \(K\) æ¨¡å‹å±‚æ¬¡ç»“æ„ã€‚
- en: each model builds on the previous to improve the accuracy
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªæ¨¡å‹éƒ½æ˜¯åŸºäºå‰ä¸€ä¸ªæ¨¡å‹æ¥æé«˜å‡†ç¡®æ€§çš„
- en: Our regression estimator is the summation over the \(K\) simple models.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„å›å½’ä¼°è®¡é‡æ˜¯ \(K\) ä¸ªç®€å•æ¨¡å‹çš„å’Œã€‚
- en: \[ \hat{Y} =\sum_{k=1}^{K} F_k(X_1,\ldots,X_m) \]
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \hat{Y} =\sum_{k=1}^{K} F_k(X_1,\ldots,X_m) \]
- en: Gradient Boosting Methods
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¢¯åº¦æå‡æ–¹æ³•
- en: If you look at the previous method, it becomes clear that it could be mapped
    to a gradient descent problem
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ çœ‹ä¸€ä¸‹å‰é¢çš„æ–¹æ³•ï¼Œå®ƒå°±æ¸…æ¥šå¯ä»¥æ˜ å°„åˆ°ä¸€ä¸ªæ¢¯åº¦ä¸‹é™é—®é¢˜
- en: At each step, \(k\), a model is being fit, then the error is calculated, \(h_k(X_1,\ldots,X_m)\).
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ¯ä¸ªæ­¥éª¤ \(k\)ï¼Œéƒ½åœ¨æ‹Ÿåˆä¸€ä¸ªæ¨¡å‹ï¼Œç„¶åè®¡ç®—è¯¯å·®ï¼Œ\(h_k(X_1,\ldots,X_m)\)ã€‚
- en: We can assign a loss function
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥åˆ†é…ä¸€ä¸ªæŸå¤±å‡½æ•°
- en: \[ L\left(y,F(X)\right) = \frac{\left(y - F(X)\right)^2}{2} \]
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: \[ L\left(y,F(X)\right) = \frac{\left(y - F(X)\right)^2}{2} \]
- en: 'So we want to minimize the \(\ell2\) loss function:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬æƒ³è¦æœ€å°åŒ– \(\ell2\) æŸå¤±å‡½æ•°ï¼š
- en: \[ J = \sum_{i=1}^{n} L\left(y_i, F_k(X) \right) \]
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: \[ J = \sum_{i=1}^{n} L\left(y_i, F_k(X) \right) \]
- en: by adjusting our model result over our training data \(F(x_1), F(x_2),\ldots,F(x_n)\).
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡è°ƒæ•´æˆ‘ä»¬çš„æ¨¡å‹ç»“æœæ¥è°ƒæ•´æˆ‘ä»¬çš„è®­ç»ƒæ•°æ® \(F(x_1), F(x_2),\ldots,F(x_n)\)ã€‚
- en: We can take the partial derivative of the error vs. our model.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è®¡ç®—è¯¯å·®ç›¸å¯¹äºæˆ‘ä»¬æ¨¡å‹çš„åå¯¼æ•°ã€‚
- en: \[ \frac{\partial J}{\partial F(x_i)} = F(x_i) - y_i \]
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial J}{\partial F(x_i)} = F(x_i) - y_i \]
- en: We can interpret the residuals as negative gradients.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°†æ®‹å·®è§£é‡Šä¸ºè´Ÿæ¢¯åº¦ã€‚
- en: \[ y_i - F(x_i) = -1 \frac{\partial J}{\partial F(x_i)} \]
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: \[ y_i - F(x_i) = -1 \frac{\partial J}{\partial F(x_i)} \]
- en: 'So now we have a gradient descent problem:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ¢¯åº¦ä¸‹é™é—®é¢˜ï¼š
- en: \[ F_{k+1}(X_i) = F_k(X_i) + h(X_i) \]\[ F_{k+1}(X_i) = F_k(X_i) + y_i - F_k(X_i)
    \]\[ F_{k+1}(X_i) = F_k(X_i) - 1 \frac{\partial J}{\partial F_k(X_i)} \]
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: \[ F_{k+1}(X_i) = F_k(X_i) + h(X_i) \]\[ F_{k+1}(X_i) = F_k(X_i) + y_i - F_k(X_i)
    \]\[ F_{k+1}(X_i) = F_k(X_i) - 1 \frac{\partial J}{\partial F_k(X_i)} \]
- en: 'Of the general form:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: é€šç”¨å½¢å¼å¦‚ä¸‹ï¼š
- en: \[ \phi_{k+1} = \phi_k - \rho \frac{\partial J}{\partial \phi_k} \]
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \phi_{k+1} = \phi_k - \rho \frac{\partial J}{\partial \phi_k} \]
- en: where \(phi_k\) is the current state, \(\rho\) is the learning rate, \(J\) is
    the loss function, and \(\phi_{k+1}\) is the next state of our estimator.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ \(phi_k\) æ˜¯å½“å‰çŠ¶æ€ï¼Œ\(\rho\) æ˜¯å­¦ä¹ ç‡ï¼Œ\(J\) æ˜¯æŸå¤±å‡½æ•°ï¼Œè€Œ \(\phi_{k+1}\) æ˜¯æˆ‘ä»¬ä¼°è®¡å™¨çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚
- en: If we consider our residual at training data to be a gradient then we are performing
    gradient descent.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬å°†è®­ç»ƒæ•°æ®ä¸­çš„æ®‹å·®è§†ä¸ºæ¢¯åº¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ­£åœ¨è¿›è¡Œæ¢¯åº¦ä¸‹é™ã€‚
- en: fitting a series of models to negative gradients
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹è´Ÿæ¢¯åº¦æ‹Ÿåˆä¸€ç³»åˆ—æ¨¡å‹
- en: By approaching the problem as a gradient decent problem we are able to apply
    a variety of loss functions
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡å°†é—®é¢˜è§†ä¸ºæ¢¯åº¦ä¸‹é™é—®é¢˜ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåº”ç”¨å„ç§æŸå¤±å‡½æ•°
- en: \(\ell2\) is our \(\frac{\left(y - F(X)\right)^2}{2}\) is practical, but is
    not robust with outliers
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(\ell2\) æ˜¯æˆ‘ä»¬çš„ \(\frac{\left(y - F(X)\right)^2}{2}\) æ˜¯å®ç”¨çš„ï¼Œä½†å¯¹å¤–éƒ¨å¼‚å¸¸å€¼ä¸ç¨³å¥
- en: \[ - 1 \frac{\partial J}{\partial F_k(X_i)} = y_i - F_k(X_i) \]
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: \[ - 1 \frac{\partial J}{\partial F_k(X_i)} = y_i - F_k(X_i) \]
- en: \(\ell1\) is our \(|y - F(X)|\) is more robust with outliers
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(\ell1\) æ˜¯æˆ‘ä»¬çš„ \(|y - F(X)|\) å¯¹å¤–éƒ¨å¼‚å¸¸å€¼æ›´ç¨³å¥
- en: \[ - 1 \frac{\partial J}{\partial F_k(X_i)} = sign(y_i - F_k(X_i)) \]
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: \[ - 1 \frac{\partial J}{\partial F_k(X_i)} = sign(y_i - F_k(X_i)) \]
- en: there are others like Huber Loss
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿˜æœ‰å…¶ä»–ä¸€äº›ï¼Œå¦‚ Huber æŸå¤±
- en: '**Interpretability**'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯è§£é‡Šæ€§**'
- en: Compared to decision trees, the ensemble methods have reduced interpretability.
    One tool to improve model interpretability is feature importance.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸å†³ç­–æ ‘ç›¸æ¯”ï¼Œé›†æˆæ–¹æ³•çš„å¯è§£é‡Šæ€§è¾ƒä½ã€‚æé«˜æ¨¡å‹å¯è§£é‡Šæ€§çš„ä¸€ä¸ªå·¥å…·æ˜¯ç‰¹å¾é‡è¦æ€§ã€‚
- en: 'We calculate variable importance through calculating the average of:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€šè¿‡è®¡ç®—ä»¥ä¸‹å¹³å‡æ¥è®¡ç®—å˜é‡é‡è¦æ€§ï¼š
- en: residual sum of square reduction for all splits involving each predictor feature
    for regression
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹æ‰€æœ‰æ¶‰åŠæ¯ä¸ªé¢„æµ‹ç‰¹å¾çš„åˆ†éš”è¿›è¡Œæ®‹å·®å¹³æ–¹å’Œå‡å°‘ï¼Œä»¥è¿›è¡Œå›å½’
- en: the decrease in the Gini index for all splits involving each predictor feature
    for classification
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰æ¶‰åŠæ¯ä¸ªé¢„æµ‹ç‰¹å¾çš„åˆ†éš”ï¼Œé™ä½ Gini æŒ‡æ•°
- en: Both are standardized to sum to 1.0 over the features.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸¤ä¸ªåº“éƒ½æ ‡å‡†åŒ–ä¸ºåœ¨ç‰¹å¾ä¸Šçš„å’Œä¸º 1.0ã€‚
- en: Classification
  id: totrans-93
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ†ç±»
- en: The response is a finite set of possible categories.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: å“åº”æ˜¯å¯èƒ½çš„æœ‰é™ç±»åˆ«é›†åˆã€‚
- en: For each training data the truth is 100% probability in the observed category
    and 0% otherwise
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºæ¯ä¸ªè®­ç»ƒæ•°æ®ï¼ŒçœŸå®å€¼åœ¨è§‚å¯Ÿç±»åˆ«ä¸­çš„æ¦‚ç‡ä¸º 100%ï¼Œå¦åˆ™ä¸º 0%
- en: Estimate the probability of each category with the a decision tree
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å†³ç­–æ ‘ä¼°è®¡æ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡
- en: Use a measure of difference between the true and estimated distributions as
    the loss function to minimize
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨çœŸå®åˆ†å¸ƒå’Œä¼°è®¡åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚åº¦ä½œä¸ºæŸå¤±å‡½æ•°æ¥æœ€å°åŒ–
- en: Load the Required Libraries
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½æ‰€éœ€çš„åº“
- en: We will also need some standard packages. These should have been installed with
    Anaconda 3.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›æ ‡å‡†åº“ã€‚è¿™äº›åº“åº”è¯¥å·²ç»ä¸ Anaconda 3 ä¸€èµ·å®‰è£…ã€‚
- en: '[PRE0]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If you get a package import error, you may have to first install some of these
    packages. This can usually be accomplished by opening up a command window on Windows
    and then typing â€˜python -m pip install [package-name]â€™. More assistance is available
    with the respective package docs.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨é‡åˆ°åŒ…å¯¼å…¥é”™è¯¯ï¼Œæ‚¨å¯èƒ½é¦–å…ˆéœ€è¦å®‰è£…è¿™äº›åŒ…ä¸­çš„ä¸€äº›ã€‚è¿™é€šå¸¸å¯ä»¥é€šè¿‡åœ¨Windowsä¸Šæ‰“å¼€å‘½ä»¤çª—å£ç„¶åè¾“å…¥â€˜python -m pip install
    [package-name]â€™æ¥å®Œæˆã€‚æœ‰å…³ç›¸åº”åŒ…çš„æ›´å¤šå¸®åŠ©ï¼Œè¯·å‚é˜…å„è‡ªçš„åŒ…æ–‡æ¡£ã€‚
- en: Declare Functions
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å£°æ˜å‡½æ•°
- en: Letâ€™s define a couple of functions to streamline plotting correlation matrices
    and visualization of a decision tree regression model.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å®šä¹‰å‡ ä¸ªå‡½æ•°æ¥ç®€åŒ–ç»˜åˆ¶ç›¸å…³çŸ©é˜µå’Œå†³ç­–æ ‘å›å½’æ¨¡å‹çš„å¯è§†åŒ–ã€‚
- en: '[PRE1]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Set the Working Directory
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½®å·¥ä½œç›®å½•
- en: I always like to do this so I donâ€™t lose files and to simplify subsequent read
    and writes (avoid including the full address each time).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ€»æ˜¯è¿™æ ·åšï¼Œè¿™æ ·æˆ‘å°±ä¸ä¼šä¸¢å¤±æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥ç®€åŒ–åç»­çš„è¯»å–å’Œå†™å…¥ï¼ˆé¿å…æ¯æ¬¡éƒ½åŒ…å«å®Œæ•´åœ°å€ï¼‰ã€‚
- en: '[PRE2]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: You will have to update the part in quotes with your own working directory and
    the format is different on a Mac (e.g. â€œ~/PGEâ€).
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å°†ä¸å¾—ä¸æ›´æ–°å¼•å·å†…çš„éƒ¨åˆ†ï¼Œä»¥ä½¿ç”¨æ‚¨è‡ªå·±çš„å·¥ä½œç›®å½•ï¼Œå¹¶ä¸”åœ¨Macä¸Šæ ¼å¼ä¸åŒï¼ˆä¾‹å¦‚ï¼šâ€œ~/PGEâ€ï¼‰ã€‚
- en: Loading Data
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½æ•°æ®
- en: 'Letâ€™s load the provided multivariate, spatial dataset [unconv_MV.csv](https://raw.githubusercontent.com/GeostatsGuy/GeoDataSets/master/unconv_MV.csv)
    available in my GeoDataSet repo. It is a comma delimited file with:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åŠ è½½æä¾›çš„å¤šå…ƒã€ç©ºé—´æ•°æ®é›† [unconv_MV.csv](https://raw.githubusercontent.com/GeostatsGuy/GeoDataSets/master/unconv_MV.csv)ï¼Œå®ƒåœ¨æˆ‘çš„GeoDataSetä»“åº“ä¸­å¯ç”¨ã€‚å®ƒæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- en: well index (integer)
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: äº•æŒ‡æ•°ï¼ˆæ•´æ•°ï¼‰
- en: porosity (%)
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡ (%)
- en: permeability (\(mD\))
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¸—é€ç‡ (\(mD\))
- en: acoustic impedance (\(\frac{kg}{m^3} \cdot \frac{m}{s} \cdot 10^6\)).
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å£°æ³¢é˜»æŠ— (\(\frac{kg}{m^3} \cdot \frac{m}{s} \cdot 10^6\))ã€‚
- en: brittleness (%)
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å²©è„†æ€§ (%)
- en: total organic carbon (%)
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ€»æœ‰æœºç¢³ (%)
- en: vitrinite reflectance (%)
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»ç’ƒå…‰æ³½åå°„ç‡ (%)
- en: initial gas production (90 day average) (MCFPD)
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åˆå§‹æ°”äº§é‡ï¼ˆ90å¤©å¹³å‡ï¼‰ï¼ˆMCFPDï¼‰
- en: We load it with the pandas â€˜read_csvâ€™ function into a data frame we called â€˜dfâ€™
    and then preview it to make sure it loaded correctly.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨pandasçš„â€˜read_csvâ€™å‡½æ•°å°†å…¶åŠ è½½åˆ°æˆ‘ä»¬ç§°ä¸ºâ€˜dfâ€™çš„æ•°æ®æ¡†ä¸­ï¼Œç„¶åé¢„è§ˆä»¥ç¡®ä¿æ­£ç¡®åŠ è½½ã€‚
- en: '**Python Tip: using functions from a package** just type the label for the
    package that we declared at the beginning:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**PythonæŠ€å·§ï¼šä½¿ç”¨åŒ…ä¸­çš„å‡½æ•°**åªéœ€è¾“å…¥æˆ‘ä»¬åœ¨å¼€å¤´å£°æ˜çš„åŒ…çš„æ ‡ç­¾ï¼š'
- en: '[PRE3]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'so we can access the pandas function â€˜read_csvâ€™ with the command:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è®¿é—®pandaså‡½æ•°â€˜read_csvâ€™ï¼š
- en: '[PRE4]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: but read csv has required input parameters. The essential one is the name of
    the file. For our circumstance all the other default parameters are fine. If you
    want to see all the possible parameters for this function, just go to the docs
    [here](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html).
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†è¯»å–csvéœ€è¦è¾“å…¥å‚æ•°ã€‚æœ€é‡è¦çš„æ˜¯æ–‡ä»¶åã€‚åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å…¶ä»–é»˜è®¤å‚æ•°éƒ½å¾ˆå¥½ã€‚å¦‚æœæ‚¨æƒ³æŸ¥çœ‹æ­¤å‡½æ•°çš„æ‰€æœ‰å¯èƒ½å‚æ•°ï¼Œè¯·è®¿é—®[æ­¤å¤„](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html)çš„æ–‡æ¡£ã€‚
- en: The docs are always helpful
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–‡æ¡£æ€»æ˜¯å¾ˆæœ‰å¸®åŠ©
- en: There is often a lot of flexibility for Python functions, possible through using
    various inputs parameters
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºPythonå‡½æ•°ï¼Œé€šå¸¸æœ‰å¾ˆå¤šçµæ´»æ€§ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨å„ç§è¾“å…¥å‚æ•°æ¥å®ç°ã€‚
- en: also, the program has an output, a pandas DataFrame loaded from the data. So
    we have to specficy the name / variable representing that new object.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œç¨‹åºæœ‰ä¸€ä¸ªè¾“å‡ºï¼Œå³ä»æ•°æ®åŠ è½½çš„pandas DataFrameã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»æŒ‡å®šä»£è¡¨è¯¥æ–°å¯¹è±¡çš„åç§°/å˜é‡ã€‚
- en: '[PRE5]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Letâ€™s run this command to load the data and then this command to extract a random
    subset of the data.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬è¿è¡Œæ­¤å‘½ä»¤æ¥åŠ è½½æ•°æ®ï¼Œç„¶åè¿è¡Œæ­¤å‘½ä»¤æ¥æå–æ•°æ®çš„éšæœºå­é›†ã€‚
- en: '[PRE6]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Feature Engineering
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾å·¥ç¨‹
- en: 'Letâ€™s make some changes to the data to improve the workflow:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œä¸€äº›ä¿®æ”¹ä»¥æ”¹è¿›å·¥ä½œæµç¨‹ï¼š
- en: '**Select the predictor features (x2) and the response feature (x1)**, make
    sure the metadata is also consistent.'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é€‰æ‹©é¢„æµ‹ç‰¹å¾ï¼ˆx2ï¼‰å’Œå“åº”ç‰¹å¾ï¼ˆx1ï¼‰**ï¼Œç¡®ä¿å…ƒæ•°æ®ä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚'
- en: '**Metadata** encoding such as the units, labels and display ranges for each
    feature.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å…ƒæ•°æ®ç¼–ç **ï¼Œå¦‚æ¯ä¸ªç‰¹å¾çš„å•ä½ã€æ ‡ç­¾å’Œæ˜¾ç¤ºèŒƒå›´ã€‚'
- en: '**Reduce the number of data** for ease of visualization (hard to see if too
    many points on our plots).'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ä¸ºäº†ä¾¿äºå¯è§†åŒ–å‡å°‘æ•°æ®æ•°é‡**ï¼ˆå¦‚æœå›¾è¡¨ä¸Šæœ‰å¤ªå¤šç‚¹å°±éš¾ä»¥çœ‹æ¸…ï¼‰ã€‚'
- en: '**Train and test data split** to demonstrate and visualize simple hyperparameter
    tuning.'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è®­ç»ƒå’Œæµ‹è¯•æ•°æ®åˆ†å‰²**ä»¥æ¼”ç¤ºå’Œå¯è§†åŒ–ç®€å•çš„è¶…å‚æ•°è°ƒæ•´ã€‚'
- en: '**Add random noise to the data** to demonstrate model overfit. The original
    data is error free and does not readily demonstrate overfit.'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å‘æ•°æ®æ·»åŠ éšæœºå™ªå£°**ä»¥æ¼”ç¤ºæ¨¡å‹è¿‡æ‹Ÿåˆã€‚åŸå§‹æ•°æ®æ²¡æœ‰é”™è¯¯ï¼Œå¹¶ä¸å®¹æ˜“å±•ç¤ºè¿‡æ‹Ÿåˆã€‚'
- en: Given this is properly set, one should be able to use any dataset and features
    for this demonstration.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾è¿™ä¸ªè®¾ç½®æ˜¯æ­£ç¡®çš„ï¼Œé‚£ä¹ˆåº”è¯¥èƒ½å¤Ÿä½¿ç”¨ä»»ä½•æ•°æ®é›†å’Œç‰¹å¾è¿›è¡Œè¿™ä¸ªæ¼”ç¤ºã€‚
- en: for brevity we donâ€™t show any feature selection here. Previous chapter, e.g.,
    k-nearest neighbours include some feature selection methods, but see the feature
    selection chapter for many possible methods with codes for feature selection.
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘ä»¬è¿™é‡Œä¸å±•ç¤ºä»»ä½•ç‰¹å¾é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œå‰ä¸€ç« ä¸­çš„k-æœ€è¿‘é‚»åŒ…æ‹¬ä¸€äº›ç‰¹å¾é€‰æ‹©æ–¹æ³•ï¼Œä½†è¯·å‚é˜…ç‰¹å¾é€‰æ‹©ç« èŠ‚ï¼Œä»¥äº†è§£è®¸å¤šå¯èƒ½çš„ç‰¹å¾é€‰æ‹©æ–¹æ³•åŠå…¶ä»£ç ã€‚
- en: 'Optional: Add Random Noise to the Response Feature'
  id: totrans-140
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯é€‰ï¼šå‘å“åº”ç‰¹å¾æ·»åŠ éšæœºå™ªå£°
- en: We can do this to observe the impact of data noise on overfit and hyperparameter
    tuning.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¿™æ ·åšæ¥è§‚å¯Ÿæ•°æ®å™ªå£°å¯¹è¿‡æ‹Ÿåˆå’Œè¶…å‚æ•°è°ƒæ•´çš„å½±å“ã€‚
- en: This is for experiential learning, of course we wouldnâ€™t add random noise to
    our data
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸ºäº†ç»éªŒå­¦ä¹ ï¼Œå½“ç„¶æˆ‘ä»¬ä¸ä¼šå‘æˆ‘ä»¬çš„æ•°æ®æ·»åŠ éšæœºå™ªå£°
- en: We set the random number seed for reproducibility
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è®¾ç½®äº†éšæœºæ•°ç§å­ä»¥ç¡®ä¿å¯é‡å¤æ€§
- en: '[PRE7]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Letâ€™s make sure that we have selected reasonable features to build a model
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç¡®ä¿æˆ‘ä»¬å·²ç»é€‰æ‹©äº†åˆç†çš„ç‰¹å¾æ¥æ„å»ºæ¨¡å‹
- en: the 2 predictor features are not collinear, as this would result in an unstable
    prediction model
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªé¢„æµ‹ç‰¹å¾ä¸å…±çº¿æ€§ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´é¢„æµ‹æ¨¡å‹ä¸ç¨³å®š
- en: each of the features are related to the response feature, the predictor features
    inform the response
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªç‰¹å¾éƒ½ä¸å“åº”ç‰¹å¾ç›¸å…³ï¼Œé¢„æµ‹ç‰¹å¾é€šçŸ¥å“åº”
- en: Calculate the Correlation Matrix and Correlation with Response Ranking
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¡ç®—ç›¸å…³æ€§çŸ©é˜µå’Œä¸å“åº”æ’åçš„ç›¸å…³æ€§
- en: Letâ€™s start with correlation analysis. We can calculate and view the correlation
    matrix and correlation to the response features with these previously declared
    functions.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ç›¸å…³æ€§åˆ†æå¼€å§‹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰å£°æ˜çš„å‡½æ•°æ¥è®¡ç®—å’ŒæŸ¥çœ‹ç›¸å…³æ€§çŸ©é˜µä»¥åŠä¸å“åº”ç‰¹å¾çš„å…³è”ã€‚
- en: correlation analysis is based on the assumption of linear relationships, but
    it is a good start
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç›¸å…³æ€§åˆ†æåŸºäºçº¿æ€§å…³ç³»çš„å‡è®¾ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªè‰¯å¥½çš„èµ·ç‚¹
- en: '[PRE8]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![_images/f16d805e35f1c39ce293ec74df9132232e9f79c7ca0cb2ab8b63641a714d99c3.png](../Images/3e93a8978cec90fe97483ce65cda346f.png)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![_images/f16d805e35f1c39ce293ec74df9132232e9f79c7ca0cb2ab8b63641a714d99c3.png](../Images/3e93a8978cec90fe97483ce65cda346f.png)'
- en: Note the 1.0 diagonal resulting from the correlation of each variable with themselves.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ç”±äºæ¯ä¸ªå˜é‡ä¸å…¶è‡ªèº«çš„ç›¸å…³æ€§è€Œäº§ç”Ÿçš„1.0å¯¹è§’çº¿ã€‚
- en: This looks good. There is a mix of correlation magnitudes. Of course, correlation
    coefficients are limited to degree of linear correlations.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™çœ‹èµ·æ¥ä¸é”™ã€‚å­˜åœ¨ä¸åŒå¤§å°çš„ç›¸å…³æ€§ã€‚å½“ç„¶ï¼Œç›¸å…³ç³»æ•°é™äºçº¿æ€§ç›¸å…³ç¨‹åº¦ã€‚
- en: Letâ€™s look at the matrix scatter plot to see the pairwise relationship between
    the features.
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹çŸ©é˜µæ•£ç‚¹å›¾ï¼Œä»¥äº†è§£ç‰¹å¾ä¹‹é—´çš„æˆå¯¹å…³ç³»ã€‚
- en: '[PRE9]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![_images/b641089892114f3044ca3ab9a43c2723da5e4105a26416ee749176d163822c57.png](../Images/8f6fc0dc9253e57bb674c41069015dde.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![_images/b641089892114f3044ca3ab9a43c2723da5e4105a26416ee749176d163822c57.png](../Images/8f6fc0dc9253e57bb674c41069015dde.png)'
- en: Train and Test Split
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®­ç»ƒå’Œæµ‹è¯•åˆ†å‰²
- en: For convenience and simplicity we use scikit-learnâ€™s random train and test split.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ–¹ä¾¿å’Œç®€å•ï¼Œæˆ‘ä»¬ä½¿ç”¨scikit-learnçš„éšæœºè®­ç»ƒå’Œæµ‹è¯•åˆ†å‰²ã€‚
- en: '[PRE10]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Visualize the DataFrame
  id: totrans-161
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–DataFrame
- en: Visualizing the train and test DataFrame is useful check before we build our
    models.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–è®­ç»ƒå’Œæµ‹è¯•DataFrameæ˜¯åœ¨æˆ‘ä»¬æ„å»ºæ¨¡å‹ä¹‹å‰çš„ä¸€ä¸ªæœ‰ç”¨çš„æ£€æŸ¥ã€‚
- en: many things can go wrong, e.g., we loaded the wrong data, all the features did
    not load, etc.
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¸å¤šäº‹æƒ…å¯èƒ½ä¼šå‡ºé”™ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬åŠ è½½äº†é”™è¯¯çš„æ•°æ®ï¼Œæ‰€æœ‰ç‰¹å¾éƒ½æ²¡æœ‰åŠ è½½ç­‰ã€‚
- en: We can preview by utilizing the â€˜headâ€™ DataFrame member function (with a nice
    and clean format, see below).
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨DataFrameçš„â€˜headâ€™æˆå‘˜å‡½æ•°æ¥é¢„è§ˆï¼ˆæ ¼å¼æ•´æ´ï¼Œè§ä¸‹æ–‡ï¼‰ã€‚
- en: '[PRE11]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[PRE12]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '|  | Por | Brittle | Production |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Brittle | Production |'
- en: '| --- | --- | --- | --- |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| 86 | 12.83 | 29.87 | 995.700671 |'
  id: totrans-169
  prefs: []
  type: TYPE_TB
  zh: '| 86 | 12.83 | 29.87 | 995.700671 |'
- en: '| 35 | 17.39 | 56.43 | 6060.760806 |'
  id: totrans-170
  prefs: []
  type: TYPE_TB
  zh: '| 35 | 17.39 | 56.43 | 6060.760806 |'
- en: '| 75 | 12.23 | 40.67 | 3744.177137 |'
  id: totrans-171
  prefs: []
  type: TYPE_TB
  zh: '| 75 | 12.23 | 40.67 | 3744.177137 |'
- en: '| 36 | 13.72 | 40.24 | 4203.470533 |'
  id: totrans-172
  prefs: []
  type: TYPE_TB
  zh: '| 36 | 13.72 | 40.24 | 4203.470533 |'
- en: '| 126 | 12.83 | 17.20 | 2917.165695 |'
  id: totrans-173
  prefs: []
  type: TYPE_TB
  zh: '| 126 | 12.83 | 17.20 | 2917.165695 |'
- en: '|  | Por | Brittle | Production |'
  id: totrans-174
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Brittle | Production |'
- en: '| --- | --- | --- | --- |'
  id: totrans-175
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| 5 | 15.55 | 58.25 | 5619.930037 |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 15.55 | 58.25 | 5619.930037 |'
- en: '| 46 | 20.21 | 23.78 | 3897.440411 |'
  id: totrans-177
  prefs: []
  type: TYPE_TB
  zh: '| 46 | 20.21 | 23.78 | 3897.440411 |'
- en: '| 96 | 15.07 | 39.39 | 4504.608029 |'
  id: totrans-178
  prefs: []
  type: TYPE_TB
  zh: '| 96 | 15.07 | 39.39 | 4504.608029 |'
- en: '| 45 | 12.10 | 63.24 | 3613.953926 |'
  id: totrans-179
  prefs: []
  type: TYPE_TB
  zh: '| 45 | 12.10 | 63.24 | 3613.953926 |'
- en: '| 105 | 19.54 | 37.40 | 5314.937997 |'
  id: totrans-180
  prefs: []
  type: TYPE_TB
  zh: '| 105 | 19.54 | 37.40 | 5314.937997 |'
- en: Summary Statistics for Tabular Data
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¡¨æ ¼æ•°æ®çš„æ±‡æ€»ç»Ÿè®¡
- en: There are a lot of efficient methods to calculate summary statistics from tabular
    data in DataFrames.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨DataFramesä¸­ï¼Œæœ‰è®¸å¤šé«˜æ•ˆçš„æ–¹æ³•å¯ä»¥è®¡ç®—è¡¨æ ¼æ•°æ®çš„æ±‡æ€»ç»Ÿè®¡ã€‚
- en: The describe command provides count, mean, minimum, maximum in a nice data table.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: describeå‘½ä»¤ä»¥ç¾è§‚çš„æ•°æ®è¡¨å½¢å¼æä¾›è®¡æ•°ã€å¹³å‡å€¼ã€æœ€å°å€¼ã€æœ€å¤§å€¼ã€‚
- en: '[PRE13]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[PRE14]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '|  | Por | Brittle | Production |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Brittle | Production |'
- en: '| --- | --- | --- | --- |'
  id: totrans-187
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| count | 105.000000 | 105.000000 | 105.000000 |'
  id: totrans-188
  prefs: []
  type: TYPE_TB
  zh: '| count | 105.000000 | 105.000000 | 105.000000 |'
- en: '| mean | 14.859238 | 48.861143 | 4192.479746 |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '| mean | 14.859238 | 48.861143 | 4192.479746 |'
- en: '| std | 3.057228 | 14.432050 | 1347.391355 |'
  id: totrans-190
  prefs: []
  type: TYPE_TB
  zh: '| std | 3.057228 | 14.432050 | 1347.391355 |'
- en: '| min | 7.220000 | 10.940000 | 357.449794 |'
  id: totrans-191
  prefs: []
  type: TYPE_TB
  zh: '| min | 7.220000 | 10.940000 | 357.449794 |'
- en: '| max | 23.550000 | 84.330000 | 7934.478879 |'
  id: totrans-192
  prefs: []
  type: TYPE_TB
  zh: '| max | 23.550000 | 84.330000 | 7934.478879 |'
- en: '|  | Por | Brittle | Production |'
  id: totrans-193
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Brittle | Production |'
- en: '| --- | --- | --- | --- |'
  id: totrans-194
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| count | 35.000000 | 35.000000 | 35.000000 |'
  id: totrans-195
  prefs: []
  type: TYPE_TB
  zh: '| count | 35.000000 | 35.000000 | 35.000000 |'
- en: '| mean | 15.011714 | 46.798286 | 4431.830496 |'
  id: totrans-196
  prefs: []
  type: TYPE_TB
  zh: '| mean | 15.011714 | 46.798286 | 4431.830496 |'
- en: '| std | 3.574467 | 13.380910 | 1487.184992 |'
  id: totrans-197
  prefs: []
  type: TYPE_TB
  zh: '| std | 3.574467 | 13.380910 | 1487.184992 |'
- en: '| min | 6.550000 | 20.120000 | 1572.738774 |'
  id: totrans-198
  prefs: []
  type: TYPE_TB
  zh: '| min | 6.550000 | 20.120000 | 1572.738774 |'
- en: '| max | 20.860000 | 68.760000 | 7668.639376 |'
  id: totrans-199
  prefs: []
  type: TYPE_TB
  zh: '| max | 20.860000 | 68.760000 | 7668.639376 |'
- en: It is good that we checked the summary statistics.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: å¾ˆå¥½ï¼Œæˆ‘ä»¬å·²ç»æ£€æŸ¥äº†æ‘˜è¦ç»Ÿè®¡ã€‚
- en: there are no obvious issues
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ²¡æœ‰æ˜æ˜¾çš„é”™è¯¯
- en: check out the range of values for each feature to set up and adjust plotting
    limits. See above.
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥æ¯ä¸ªç‰¹å¾çš„å€¼èŒƒå›´ï¼Œä»¥è®¾ç½®å’Œè°ƒæ•´ç»˜å›¾é™åˆ¶ã€‚è§ä¸Šå›¾ã€‚
- en: Visualize the Train and Test Splits
  id: totrans-203
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–è®­ç»ƒå’Œæµ‹è¯•åˆ†å‰²
- en: Letâ€™s check the consistency and coverage of training and testing with histograms
    and scatter plots.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ£€æŸ¥ä½¿ç”¨ç›´æ–¹å›¾å’Œæ•£ç‚¹å›¾è®­ç»ƒå’Œæµ‹è¯•çš„ä¸€è‡´æ€§å’Œè¦†ç›–èŒƒå›´ã€‚
- en: check to make sure the training and testing cover the range of possible feature
    combinations
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ä»¥ç¡®ä¿è®­ç»ƒå’Œæµ‹è¯•è¦†ç›–äº†å¯èƒ½çš„ç‰¹å¾ç»„åˆèŒƒå›´
- en: ensure we are not extrapolating beyond the training data with the testing cases
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¡®ä¿æµ‹è¯•æ¡ˆä¾‹ä¸ä¼šè¶…å‡ºè®­ç»ƒæ•°æ®çš„èŒƒå›´è¿›è¡Œå¤–æ¨
- en: '[PRE15]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![_images/39becd8bd5d8101d8e6567bb5e26eb2b8fbe6499ce965fd4f72fdc3d8b7a3013.png](../Images/6c7c51e5c24b5320a250e5d2881b5021.png)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![_images/39becd8bd5d8101d8e6567bb5e26eb2b8fbe6499ce965fd4f72fdc3d8b7a3013.png](../Images/6c7c51e5c24b5320a250e5d2881b5021.png)'
- en: Sometimes I find it more convenient to compare distributions by looking at CDFâ€™s
    instead of histograms.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰æ—¶æˆ‘å‘ç°é€šè¿‡æŸ¥çœ‹ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆCDFï¼‰è€Œä¸æ˜¯ç›´æ–¹å›¾æ¥æ¯”è¾ƒåˆ†å¸ƒæ›´æ–¹ä¾¿ã€‚
- en: we avoid the arbitrary choice of histogram bin size, because CDFâ€™s are at the
    data resolution.
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é¿å…ä»»æ„é€‰æ‹©ç›´æ–¹å›¾æŸ±çŠ¶å¤§å°ï¼Œå› ä¸ºç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆCDFï¼‰ä¸æ•°æ®åˆ†è¾¨ç‡ä¸€è‡´ã€‚
- en: '[PRE16]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '![_images/26e6503a4d7debf39d1789ec8242383e943228b6a4f2f3dfc0a0f10cd99a5b46.png](../Images/e1017bcd0dfe07284cc05b94b7dd3861.png)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![_images/26e6503a4d7debf39d1789ec8242383e943228b6a4f2f3dfc0a0f10cd99a5b46.png](../Images/e1017bcd0dfe07284cc05b94b7dd3861.png)'
- en: Once again, the distributions are well behaved,
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡å¼ºè°ƒï¼Œåˆ†å¸ƒè¡¨ç°è‰¯å¥½ï¼Œ
- en: we cannot observe obvious gaps nor truncations.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ— æ³•è§‚å¯Ÿåˆ°æ˜æ˜¾çš„é—´éš™æˆ–æˆªæ–­ã€‚
- en: check coverage of the train and test data
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥è®­ç»ƒå’Œæµ‹è¯•æ•°æ®çš„è¦†ç›–èŒƒå›´
- en: Letâ€™s look at a scatter plot of Porosity vs. Brittleness with points colored
    by Production.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹å­”éš™ç‡ä¸è„†æ€§ä¹‹é—´çš„æ•£ç‚¹å›¾ï¼Œç‚¹æ ¹æ®ç”Ÿäº§é‡ç€è‰²ã€‚
- en: '[PRE17]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![_images/1a847dd38c7158f07f58197cf7bfb88e46738dacb7622cd79a3a267a25a94494.png](../Images/79e12ff1ac255ff9811cd9900912d141.png)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![_images/1a847dd38c7158f07f58197cf7bfb88e46738dacb7622cd79a3a267a25a94494.png](../Images/79e12ff1ac255ff9811cd9900912d141.png)'
- en: Tree-based Boosting
  id: totrans-219
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŸºäºæ ‘çš„æå‡
- en: 'To perform tree-based boosting, gradient boosting tree regression we:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: è¦æ‰§è¡ŒåŸºäºæ ‘çš„æå‡ï¼Œæ¢¯åº¦æå‡æ ‘å›å½’ï¼Œæˆ‘ä»¬ï¼š
- en: set the hyperparameters for our model
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®¾ç½®æˆ‘ä»¬æ¨¡å‹çš„è¶…å‚æ•°
- en: '[PRE18]'
  id: totrans-222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: instantiate the model
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®ä¾‹åŒ–æ¨¡å‹
- en: '[PRE19]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: train the model
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®­ç»ƒæ¨¡å‹
- en: '[PRE20]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: visualize the model result over the feature space (easy to do as we have only
    2 predictor features)
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–æ¨¡å‹ç»“æœåœ¨ç‰¹å¾ç©ºé—´ä¸Šçš„ç»“æœï¼ˆç”±äºæˆ‘ä»¬åªæœ‰ä¸¤ä¸ªé¢„æµ‹ç‰¹å¾ï¼Œè¿™å¾ˆå®¹æ˜“åšåˆ°ï¼‰
- en: Demonstration of Boosting
  id: totrans-228
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æå‡æ¼”ç¤º
- en: For demonstration letâ€™s set tree maximum depth to 1 and 6 tree-based boosting
    regression trees.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬å°†æ ‘çš„æœ€å¤§æ·±åº¦è®¾ç½®ä¸º1å’Œ6æ£µåŸºäºæ ‘çš„æå‡å›å½’æ ‘ã€‚
- en: each tree only has a single split, called decision stumps. This will prevent
    interaction between the predictor features and be highly interpretable
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯æ£µæ ‘åªæœ‰ä¸€ä¸ªåˆ†å‰²ï¼Œç§°ä¸ºå†³ç­–æ ‘æ¡©ã€‚è¿™å°†é˜²æ­¢é¢„æµ‹ç‰¹å¾ä¹‹é—´çš„äº¤äº’ï¼Œå¹¶ä¸”æ˜“äºè§£é‡Š
- en: You should be able to observe the additive nature of the trees, see the first
    tree and then the first plus the second tree and so on.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åº”è¯¥èƒ½å¤Ÿè§‚å¯Ÿåˆ°æ ‘çš„ç´¯åŠ æ€§è´¨ï¼Œå…ˆçœ‹ç¬¬ä¸€æ£µæ ‘ï¼Œç„¶åæ˜¯ç¬¬ä¸€æ£µåŠ ä¸Šç¬¬äºŒæ£µï¼Œä¾æ­¤ç±»æ¨ã€‚
- en: recall the estimate is the summation of multiple trees
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›æƒ³ä¸€ä¸‹ï¼Œä¼°è®¡æ˜¯å¤šä¸ªæ ‘çš„æ±‚å’Œ
- en: since we are working with fitting a gradient after the first tree, we can have
    negative and positive estimates
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘ä»¬åœ¨ç¬¬ä¸€æ£µæ ‘ä¹‹åæ‹Ÿåˆæ¢¯åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰è´Ÿæ•°å’Œæ­£æ•°çš„ä¼°è®¡
- en: in this example we can see some production estimates that are actually negative
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€äº›å®é™…ä¸Šæ˜¯è´Ÿæ•°çš„ç”Ÿäº§ä¼°è®¡
- en: '[PRE21]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '![_images/0689fdfd411d646efca1490a036e9354bc12c7bd5797bac40f5b0295fb0f11a3.png](../Images/b2a16fd01b6c4a7a3f642f8cf90844b3.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![_images/0689fdfd411d646efca1490a036e9354bc12c7bd5797bac40f5b0295fb0f11a3.png](../Images/b2a16fd01b6c4a7a3f642f8cf90844b3.png)'
- en: Notice that there is significant misfit with the data
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œä¸æ•°æ®å­˜åœ¨æ˜¾è‘—çš„å¤±é…
- en: we have only used up to 6 decision stumps (1 decision tree)
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åªä½¿ç”¨äº†æœ€å¤š6ä¸ªå†³ç­–æ ‘æ¡©ï¼ˆ1ä¸ªå†³ç­–æ ‘ï¼‰
- en: Letâ€™s check the cross validation results with the withheld testing data.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ£€æŸ¥ä¿ç•™çš„æµ‹è¯•æ•°æ®é›†çš„äº¤å‰éªŒè¯ç»“æœã€‚
- en: '[PRE22]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '![_images/dca4db99b262b1382fe6624eace15ad6cfe1a52dd28209db869d61cb97d8a540.png](../Images/c19d0d925995b408d0e14db0f66b52ee.png)'
  id: totrans-241
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/c19d0d925995b408d0e14db0f66b52ee.png)'
- en: Of course with a single tree we do quite poorly, but by the time we get to 6
    stump trees we cut the MSE almost in half.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œç”¨ä¸€æ£µæ ‘æˆ‘ä»¬è¡¨ç°ç›¸å½“ç³Ÿç³•ï¼Œä½†å½“æˆ‘ä»¬è¾¾åˆ°6ä¸ªæ ‘æ¡©æ ‘æ—¶ï¼Œæˆ‘ä»¬å‡ ä¹å°†å‡æ–¹è¯¯å·®å‡åŠã€‚
- en: Time to Build More Trees
  id: totrans-243
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ˜¯æ—¶å€™ç§æ¤æ›´å¤šæ ‘æœ¨äº†
- en: Now letâ€™s demonstrate the result of utilizing many more trees in our tree-based
    boosting model.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å°†å±•ç¤ºåœ¨æˆ‘ä»¬çš„åŸºäºæ ‘çš„æå‡æ¨¡å‹ä¸­åˆ©ç”¨æ›´å¤šæ ‘æœ¨çš„ç»“æœã€‚
- en: we will still work with simple decision stumps, donâ€™t worry we will add more
    later
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»ç„¶å°†ä¸ç®€å•çš„å†³ç­–æ ‘æ¡©ä¸€èµ·å·¥ä½œï¼Œä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬ç¨åä¼šæ·»åŠ æ›´å¤š
- en: '[PRE23]'
  id: totrans-246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '![_images/ad50902645fae1091779c09e40ad78025d6ddf1261c9d5a405eb2af496ddd2df.png](../Images/3baea417052c8c32978d193e173228b1.png)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/3baea417052c8c32978d193e173228b1.png)'
- en: 'See the plaid pattern? It is due to the use of decision stumps, and:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹åˆ°æ ¼å­å›¾æ¡ˆå—ï¼Ÿè¿™æ˜¯ç”±äºä½¿ç”¨äº†å†³ç­–æ ‘æ¡©ï¼Œå¹¶ä¸”ï¼š
- en: an additive model
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªåŠ æ€§æ¨¡å‹
- en: all models contribute to all predictions
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‰€æœ‰æ¨¡å‹éƒ½å¯¹æ‰€æœ‰é¢„æµ‹æœ‰è´¡çŒ®
- en: See the dark and bright regions?
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹åˆ°æš—åŒºå’Œäº®åŒºäº†å—ï¼Ÿ
- en: the additive model may extrapolate outside the data range
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åŠ æ€§æ¨¡å‹å¯èƒ½ä¼šè¶…å‡ºæ•°æ®èŒƒå›´å¤–è¿›è¡Œå¤–æ¨
- en: Letâ€™s cross validate with our testing data to see how our model has improved
    with more trees.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨æˆ‘ä»¬çš„æµ‹è¯•æ•°æ®æ¥äº¤å‰éªŒè¯ï¼Œçœ‹çœ‹æˆ‘ä»¬çš„æ¨¡å‹åœ¨æ›´å¤šæ ‘æœ¨çš„æƒ…å†µä¸‹å¦‚ä½•æ”¹è¿›ã€‚
- en: '[PRE24]'
  id: totrans-254
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '![_images/f6fae7eb28cbf98d98c8bfbf82659a7d3bcb67136928521595c9e0374bdc1147.png](../Images/3f37a775a250322ae1595efdbfe1669d.png)'
  id: totrans-255
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/3f37a775a250322ae1595efdbfe1669d.png)'
- en: Around 20 trees we get our best performance and then we start to degrade, we
    are likely starting to overfit the training data.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: å¤§çº¦20æ£µæ ‘æ—¶ï¼Œæˆ‘ä»¬è·å¾—æœ€ä½³æ€§èƒ½ï¼Œç„¶åå¼€å§‹ä¸‹é™ï¼Œæˆ‘ä»¬å¯èƒ½å¼€å§‹è¿‡åº¦æ‹Ÿåˆè®­ç»ƒæ•°æ®ã€‚
- en: Going Beyond Decision Stumps
  id: totrans-257
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¶…è¶Šå†³ç­–æ ‘æ¡©
- en: As state before with decision stumps we prevent interactions between features.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚å‰æ‰€è¿°ï¼Œä½¿ç”¨å†³ç­–æ ‘æ¡©ï¼Œæˆ‘ä»¬é˜²æ­¢äº†ç‰¹å¾ä¹‹é—´çš„äº¤äº’ã€‚
- en: Letâ€™s extend to tree depth of 2
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ‰©å±•åˆ°æ ‘æ·±åº¦ä¸º2
- en: two nested decisions resulting in 4 terminal nodes
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªåµŒå¥—å†³ç­–å¯¼è‡´4ä¸ªç»ˆç«¯èŠ‚ç‚¹
- en: '[PRE25]'
  id: totrans-261
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '![_images/07951866b16ac8dd604974240c5a929632a2a45dccbbed9c7a5b1fcc6d5e3f6e.png](../Images/65161de226c63aae698a6005291afae4.png)'
  id: totrans-262
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/65161de226c63aae698a6005291afae4.png)'
- en: We have much more flexibility now.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨æœ‰æ›´å¤šçš„çµæ´»æ€§ã€‚
- en: with one tree we have 4 terminal nodes (regions)
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”¨ä¸€æ£µæ ‘æˆ‘ä»¬æœ‰4ä¸ªç»ˆç«¯èŠ‚ç‚¹ï¼ˆåŒºåŸŸï¼‰
- en: with only 6 trees we are capturing some complicate features
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»…ç”¨6æ£µæ ‘ï¼Œæˆ‘ä»¬å·²ç»æ•æ‰åˆ°ä¸€äº›å¤æ‚ç‰¹å¾
- en: Letâ€™s increase the tree depth one more time.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å†æ¬¡å¢åŠ æ ‘çš„æ·±åº¦ã€‚
- en: '[PRE26]'
  id: totrans-267
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '![_images/aba462916f779681b9aa90d6b1a3a548e3d43d5ad379c5af304e09a38658a793.png](../Images/b36175195239341c3b7ea8c842eea5b7.png)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/b36175195239341c3b7ea8c842eea5b7.png)'
- en: One more time, it is common to use trees with depths of 4-8, so letâ€™s try 5.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¥ä¸€æ¬¡ï¼Œä½¿ç”¨æ·±åº¦ä¸º4-8çš„æ ‘å¾ˆå¸¸è§ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å°è¯•5ã€‚
- en: '[PRE27]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '![_images/1739c0986e82122c4de50870f59b64abac148392710ba70c39c9f279197c0704.png](../Images/d2ae5319fcaa86e15b8c1c77df29902e.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/d2ae5319fcaa86e15b8c1c77df29902e.png)'
- en: Letâ€™s cross validate the model with testing data.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨æµ‹è¯•æ•°æ®æ¥äº¤å‰éªŒè¯æ¨¡å‹ã€‚
- en: '[PRE28]'
  id: totrans-273
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '![_images/76eb33533b0470061aefadc2a8ad8b34dcd8adaa5de34b3a7fef0efc8af812ca.png](../Images/cdbb3edec9e81f128298ed05c7cd6189.png)'
  id: totrans-274
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/cdbb3edec9e81f128298ed05c7cd6189.png)'
- en: With a max tree depth of 5 our model performance peaks early and the addition
    of more trees has no impact.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æ ‘çš„æœ€å¤§æ·±åº¦ä¸º5æ—¶ï¼Œæˆ‘ä»¬çš„æ¨¡å‹æ€§èƒ½æ—©æœŸè¾¾åˆ°å³°å€¼ï¼Œå¢åŠ æ›´å¤šæ ‘æœ¨æ²¡æœ‰å½±å“ã€‚
- en: of course this is not a thorough analysis
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå½»åº•çš„åˆ†æ
- en: Letâ€™s try something more thorough
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å°è¯•æ›´å½»åº•çš„æ–¹æ³•
- en: we will cross validate models with \(1,\ldots,100\) trees with max tree depths
    of \(1, 2, 3, 10\).
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä½¿ç”¨ \(1,\ldots,100\) æ£µæ ‘è¿›è¡Œäº¤å‰éªŒè¯ï¼Œæœ€å¤§æ ‘æ·±åº¦ä¸º \(1, 2, 3, 10\)ã€‚
- en: we also slow down the learning rate, I increased it above to amplify the difference
    of the outputs for demonstration, but know we want to see the best possible model.
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜é™ä½äº†å­¦ä¹ ç‡ï¼Œæˆ‘ä¹‹å‰æé«˜äº†å®ƒä»¥æ”¾å¤§è¾“å‡ºçš„å·®å¼‚ä»¥è¿›è¡Œæ¼”ç¤ºï¼Œä½†ç°åœ¨æˆ‘ä»¬æƒ³çœ‹åˆ°æœ€å¥½çš„æ¨¡å‹ã€‚
- en: '[PRE29]'
  id: totrans-280
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '![_images/ae7e45a290e0fe1fb8cb9fe76b23eff4132746b7765f4629c874d06b593e0ca6.png](../Images/c2ee3e9f993c37a05e91acb8b4ce5baf.png)'
  id: totrans-281
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/c2ee3e9f993c37a05e91acb8b4ce5baf.png)'
- en: 'Thatâ€™s interesting:'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: éå¸¸æœ‰è¶£ï¼š
- en: with increasing tree depths our model may improve
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éšç€æ ‘æ·±åº¦çš„å¢åŠ ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¯èƒ½ä¼šæ”¹è¿›
- en: more tree depth requires fewer trees for improved accuracy
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ›´æ·±çš„æ ‘æ·±åº¦éœ€è¦æ›´å°‘çš„æ ‘æ¥æé«˜å‡†ç¡®æ€§
- en: with tree depths of 2 and 3 the models behave the same and after 10-15 trees
    level off, they are resistant to overfit
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æ ‘æ·±åº¦ä¸º2å’Œ3æ—¶ï¼Œæ¨¡å‹è¡¨ç°ç›¸åŒï¼Œåœ¨10-15æ£µæ ‘ä¹‹åè¶‹äºå¹³ç¨³ï¼Œå®ƒä»¬å¯¹è¿‡åº¦æ‹Ÿåˆæœ‰æŠµæŠ—åŠ›
- en: with tree depth of 10, the number of trees has no impact of model performance
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨æ ‘æ·±åº¦ä¸º10çš„æƒ…å†µä¸‹ï¼Œæ ‘çš„æ•°é‡å¯¹æ¨¡å‹æ€§èƒ½æ²¡æœ‰å½±å“
- en: Gradient Descent Hyperparameters
  id: totrans-287
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¢¯åº¦ä¸‹é™è¶…å‚æ•°
- en: The learning rate scales the additive impact of each additive tree to the overall
    model prediction.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: å­¦ä¹ ç‡æŒ‰æ¯”ä¾‹æ”¾å¤§æ¯ä¸ªæ·»åŠ æ ‘å¯¹æ•´ä½“æ¨¡å‹é¢„æµ‹çš„é™„åŠ å½±å“ã€‚
- en: lower learning rate will slow the convergence to a solution
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¾ƒä½çš„å­¦ä¹ ç‡å°†å‡æ…¢æ”¶æ•›åˆ°è§£çš„é€Ÿåº¦
- en: lower learning rate will help us not skip over an optimum solution
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¾ƒä½çš„å­¦ä¹ ç‡å°†å¸®åŠ©æˆ‘ä»¬ä¸ä¼šè·³è¿‡æœ€ä¼˜è§£
- en: We wonâ€™t spend much time on this, but letâ€™s just try changing the learning rate.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¸ä¼šåœ¨è¿™ä¸ªé—®é¢˜ä¸ŠèŠ±è´¹å¤ªå¤šæ—¶é—´ï¼Œä½†è®©æˆ‘ä»¬è¯•ç€æ”¹å˜å­¦ä¹ ç‡ã€‚
- en: '[PRE30]'
  id: totrans-292
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '![_images/011852fab9e64d42c5e7ac6bcaa69e4f061994730784f35584ff27e0d4ba9831.png](../Images/d130f276273e2b117adb7bf8d1768618.png)'
  id: totrans-293
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/d130f276273e2b117adb7bf8d1768618.png)'
- en: Once again, a very interesting result.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡å¼ºè°ƒï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„ç»“æœã€‚
- en: regardless of tree complexity, it is better to learn slowly!
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ— è®ºæ ‘å¤æ‚åº¦å¦‚ä½•ï¼Œç¼“æ…¢å­¦ä¹ æ€»æ˜¯æ›´å¥½çš„ï¼
- en: Machine Learning Pipelines for Clean, Compact Machine Learning Code
  id: totrans-296
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¸…æ´ã€ç´§å‡‘çš„æœºå™¨å­¦ä¹ ä»£ç çš„æœºå™¨å­¦ä¹ ç®¡é“
- en: Pipelines are a scikit-learn class that allows for the encapsulation of a sequence
    of data preparation and modeling steps
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: ç®¡é“æ˜¯scikit-learnä¸­çš„ä¸€ä¸ªç±»ï¼Œå…è®¸å°è£…ä¸€ç³»åˆ—æ•°æ®å‡†å¤‡å’Œå»ºæ¨¡æ­¥éª¤
- en: then we can treat the pipeline as an object in our much condensed workflow
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å°†ç®¡é“è§†ä¸ºæˆ‘ä»¬é«˜åº¦ç²¾ç®€çš„å·¥ä½œæµç¨‹ä¸­çš„ä¸€ä¸ªå¯¹è±¡
- en: 'The pipeline class allows us to:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: ç®¡é“ç±»å…è®¸æˆ‘ä»¬ï¼š
- en: improve code readability and to keep everything straight
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æé«˜ä»£ç å¯è¯»æ€§å¹¶ä¿æŒä¸€åˆ‡äº•ç„¶æœ‰åº
- en: build complete workflows with very few lines of readable code
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨éå¸¸å°‘çš„å¯è¯»ä»£ç è¡Œæ„å»ºå®Œæ•´çš„å·¥ä½œæµç¨‹
- en: avoid common workflow problems like data leakage, testing data informing model
    parameter training
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¿å…å¸¸è§çš„æµç¨‹é—®é¢˜ï¼Œå¦‚æ•°æ®æ³„éœ²ã€æµ‹è¯•æ•°æ®å‘ŠçŸ¥æ¨¡å‹å‚æ•°è®­ç»ƒ
- en: abstract common machine learning modeling and focus on building the best model
    possible
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æŠ½è±¡å¸¸è§çš„æœºå™¨å­¦ä¹ å»ºæ¨¡ï¼Œä¸“æ³¨äºæ„å»ºå°½å¯èƒ½å¥½çš„æ¨¡å‹
- en: The fundamental philosophy is to treat machine learning as a combinatorial search
    to find the best model (AutoML)
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬å“²å­¦æ˜¯å°†æœºå™¨å­¦ä¹ è§†ä¸ºä¸€ç§ç»„åˆæœç´¢ï¼Œä»¥æ‰¾åˆ°æœ€ä½³æ¨¡å‹ï¼ˆAutoMLï¼‰
- en: For more information see my recorded lecture on [Machine Learning Pipelines](https://www.youtube.com/watch?v=tYrPs8s1l9U&list=PLG19vXLQHvSAufDFgZEFAYQEwMJXklnQV&index=5)
    and a well-documented demonstration [Machine Learning Pipeline Workflow](http://localhost:8892/notebooks/OneDrive%20-%20The%20University%20of%20Texas%20at%20Austin/Courses/Workflows/PythonDataBasics_Pipelines.ipynb).
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´å¤šä¿¡æ¯è¯·å‚é˜…æˆ‘å…³äº[æœºå™¨å­¦ä¹ ç®¡é“](https://www.youtube.com/watch?v=tYrPs8s1l9U&list=PLG19vXLQHvSAufDFgZEFAYQEwMJXklnQV&index=5)çš„å½•éŸ³è®²åº§å’Œä¸€ä»½è¯¦ç»†è®°å½•çš„æ¼”ç¤º[æœºå™¨å­¦ä¹ ç®¡é“å·¥ä½œæµç¨‹](http://localhost:8892/notebooks/OneDrive%20-%20The%20University%20of%20Texas%20at%20Austin/Courses/Workflows/PythonDataBasics_Pipelines.ipynb)ã€‚
- en: '[PRE31]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '[PRE32]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Comments
  id: totrans-308
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ³¨é‡Š
- en: I hope you found this chapter helpful. Much more could be done and discussed,
    I have many more resources. Check out my [shared resource inventory](https://michaelpyrcz.com/my-resources),
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›æ‚¨è§‰å¾—è¿™ä¸€ç« æœ‰å¸®åŠ©ã€‚è¿˜æœ‰æ›´å¤šå¯ä»¥åšçš„å’Œè®¨è®ºçš„ï¼Œæˆ‘æœ‰å¾ˆå¤šèµ„æºã€‚æŸ¥çœ‹æˆ‘çš„[å…±äº«èµ„æºæ¸…å•](https://michaelpyrcz.com/my-resources)ï¼Œ
- en: '*Michael*'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿ˆå…‹å°”*'
- en: 'The Author:'
  id: totrans-311
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½œè€…ï¼š
- en: Michael Pyrcz, Professor, The University of Texas at Austin *Novel Data Analytics,
    Geostatistics and Machine Learning Subsurface Solutions*
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡ï¼Œæ•™æˆï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡ *æ–°é¢–çš„æ•°æ®åˆ†æã€åœ°çƒç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ åœ°ä¸‹è§£å†³æ–¹æ¡ˆ*
- en: With over 17 years of experience in subsurface consulting, research and development,
    Michael has returned to academia driven by his passion for teaching and enthusiasm
    for enhancing engineersâ€™ and geoscientistsâ€™ impact in subsurface resource development.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”æ‹¥æœ‰è¶…è¿‡17å¹´çš„åœ°ä¸‹å’¨è¯¢ã€ç ”ç©¶å’Œå¼€å‘ç»éªŒï¼Œä»–å› å¯¹æ•™å­¦çš„çƒ­æƒ…å’Œå¯¹å¢å¼ºå·¥ç¨‹å¸ˆå’Œåœ°çƒç§‘å­¦å®¶åœ¨åœ°ä¸‹èµ„æºå¼€å‘ä¸­å½±å“çš„çƒ­æƒ…è€Œé‡è¿”å­¦æœ¯ç•Œã€‚
- en: 'For more about Michael check out these links:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: æƒ³äº†è§£æ›´å¤šå…³äºè¿ˆå…‹å°”çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹é“¾æ¥ï¼š
- en: '[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [Website](http://michaelpyrcz.com) | [GoogleScholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [Book](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Applied
    Geostats in Python e-book](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [ç½‘ç«™](http://michaelpyrcz.com) | [Google Scholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [ä¹¦ç±](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Pythonä¸­çš„åº”ç”¨åœ°çƒç»Ÿè®¡å­¦ç”µå­ä¹¦](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
- en: Want to Work Together?
  id: totrans-316
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æƒ³ä¸€èµ·å·¥ä½œå—ï¼Ÿ
- en: I hope this content is helpful to those that want to learn more about subsurface
    modeling, data analytics and machine learning. Students and working professionals
    are welcome to participate.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›è¿™äº›å†…å®¹å¯¹é‚£äº›æƒ³äº†è§£æ›´å¤šå…³äºåœ°ä¸‹å»ºæ¨¡ã€æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººæœ‰æ‰€å¸®åŠ©ã€‚å­¦ç”Ÿå’Œåœ¨èŒä¸“ä¸šäººå£«éƒ½æ¬¢è¿å‚åŠ ã€‚
- en: Want to invite me to visit your company for training, mentoring, project review,
    workflow design and / or consulting? Iâ€™d be happy to drop by and work with you!
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æƒ³é‚€è¯·æˆ‘åˆ°æ‚¨çš„å…¬å¸è¿›è¡ŒåŸ¹è®­ã€è¾…å¯¼ã€é¡¹ç›®å®¡æŸ¥ã€å·¥ä½œæµç¨‹è®¾è®¡å’Œ/æˆ–å’¨è¯¢å—ï¼Ÿæˆ‘å¾ˆä¹æ„æ‹œè®¿å¹¶ä¸æ‚¨åˆä½œï¼
- en: Interested in partnering, supporting my graduate student research or my Subsurface
    Data Analytics and Machine Learning consortium (co-PI is Professor John Foster)?
    My research combines data analytics, stochastic modeling and machine learning
    theory with practice to develop novel methods and workflows to add value. We are
    solving challenging subsurface problems!
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„Ÿå…´è¶£åˆä½œã€æ”¯æŒæˆ‘çš„ç ”ç©¶ç”Ÿç ”ç©¶æˆ–æˆ‘çš„åœ°ä¸‹æ•°æ®åˆ†æä¸æœºå™¨å­¦ä¹ è”ç›Ÿï¼ˆå…±åŒè´Ÿè´£äººæ˜¯çº¦ç¿°Â·ç¦æ–¯ç‰¹æ•™æˆï¼‰å—ï¼Ÿæˆ‘çš„ç ”ç©¶å°†æ•°æ®åˆ†æã€éšæœºå»ºæ¨¡å’Œæœºå™¨å­¦ä¹ ç†è®ºä¸å®è·µç›¸ç»“åˆï¼Œä»¥å¼€å‘æ–°çš„æ–¹æ³•å’Œå·¥ä½œæµç¨‹æ¥å¢åŠ ä»·å€¼ã€‚æˆ‘ä»¬æ­£åœ¨è§£å†³å…·æœ‰æŒ‘æˆ˜æ€§çš„åœ°ä¸‹é—®é¢˜ï¼
- en: I can be reached at [mpyrcz@austin.utexas.edu](mailto:mpyrcz%40austin.utexas.edu).
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘å¯ä»¥é€šè¿‡ [mpyrcz@austin.utexas.edu](mailto:mpyrcz%40austin.utexas.edu) è”ç³»åˆ°æ‚¨ã€‚
- en: Iâ€™m always happy to discuss,
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ€»æ˜¯å¾ˆé«˜å…´è®¨è®ºï¼Œ
- en: '*Michael*'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿ˆå…‹å°”*'
- en: Michael Pyrcz, Ph.D., P.Eng. Professor, Cockrell School of Engineering and The
    Jackson School of Geosciences, The University of Texas at Austin
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡ï¼Œåšå£«ï¼ŒP.Eng. æ•™æˆï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡ Cockrell å·¥ç¨‹å­¦é™¢å’Œ Jackson åœ°çƒç§‘å­¦å­¦é™¢
- en: 'More Resources Available at: [Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [Website](http://michaelpyrcz.com) | [GoogleScholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [Book](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Applied
    Geostats in Python e-book](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
  id: totrans-324
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ›´å¤šèµ„æºè¯·è®¿é—®ï¼š[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [ç½‘ç«™](http://michaelpyrcz.com) | [Google Scholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [ä¹¦ç±](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Python
    åœ°ç»Ÿè®¡å­¦ç”µå­ä¹¦](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html) | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)
- en: Motivations for Gradient Boosting Trees
  id: totrans-325
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¢¯åº¦æå‡æ ‘çš„åŠ¨æœº
- en: Before we can understand gradient boosting trees we first need to cover decision
    trees. Hereâ€™s the critical concepts for decision trees.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬èƒ½å¤Ÿç†è§£æ¢¯åº¦æå‡æ ‘ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£å†³ç­–æ ‘ã€‚ä»¥ä¸‹æ˜¯å†³ç­–æ ‘çš„å…³é”®æ¦‚å¿µã€‚
- en: Decision Tree
  id: totrans-327
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å†³ç­–æ ‘
- en: '**Prediction**'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: '**é¢„æµ‹**'
- en: estimate a function \(\hat{f}\) such that we predict a response feature \(Y\)
    from a set of predictor features \(X_1,\ldots,X_m\).
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¼°è®¡ä¸€ä¸ªå‡½æ•° \(\hat{f}\)ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½ä»ä¸€ç»„é¢„æµ‹ç‰¹å¾ \(X_1,\ldots,X_m\) ä¸­é¢„æµ‹å“åº”ç‰¹å¾ \(Y\)ã€‚
- en: the prediction is of the form \(\hat{Y} = \hat{f}(X_1,\ldots,X_m)\)
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¢„æµ‹çš„å½¢å¼ä¸º \(\hat{Y} = \hat{f}(X_1,\ldots,X_m)\)
- en: '**Supervised Learning**'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç›‘ç£å­¦ä¹ **'
- en: the response feature label, \(Y\), is available over the training and testing
    data
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å“åº”ç‰¹å¾æ ‡ç­¾ï¼Œ\(Y\)ï¼Œåœ¨è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ä¸­éƒ½æ˜¯å¯ç”¨çš„
- en: '**Based on an Ensemble of Decision Trees**'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: '**åŸºäºå†³ç­–æ ‘é›†æˆ**'
- en: These are the concepts related to decision tree.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ˜¯ä¸å†³ç­–æ ‘ç›¸å…³çš„æ¦‚å¿µã€‚
- en: '**Hierarchical, Binary Segmentation of the Feature Space**'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç‰¹å¾ç©ºé—´çš„åˆ†å±‚äºŒåˆ†åˆ†å‰²**'
- en: The fundamental idea is to divide the predictor space, \(ğ‘‹_1,\ldots,X_m\), into
    \(J\) mutually exclusive, exhaustive regions
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬æ€æƒ³æ˜¯å°†é¢„æµ‹ç©ºé—´ï¼Œ\(ğ‘‹_1,\ldots,X_m\)ï¼Œåˆ’åˆ†ä¸º \(J\) ä¸ªäº’æ–¥ã€ç©·å°½çš„åŒºåŸŸ
- en: '**mutually exclusive** â€“ any combination of predictors only belongs to a single
    region, \(R_j\)'
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**äº’æ–¥** â€“ ä»»ä½•é¢„æµ‹ç‰¹å¾çš„ç»„åˆåªå±äºå•ä¸ªåŒºåŸŸï¼Œ\(R_j\)'
- en: '**exhaustive** â€“ all combinations of predictors belong a region, \(R_j\), regions
    cover entire feature space (range of the variables being considered)'
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç©·å°½** â€“ æ‰€æœ‰é¢„æµ‹ç‰¹å¾çš„ç»„åˆéƒ½å±äºä¸€ä¸ªåŒºåŸŸï¼Œ\(R_j\)ï¼ŒåŒºåŸŸè¦†ç›–æ•´ä¸ªç‰¹å¾ç©ºé—´ï¼ˆè€ƒè™‘çš„å˜é‡çš„èŒƒå›´ï¼‰'
- en: For every observation in a region, \(R_j\), we use the same prediction, \(\hat{Y}(R_j)\)
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºåŒºåŸŸ \(R_j\) ä¸­çš„æ¯ä¸ªè§‚æµ‹å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ç›¸åŒçš„é¢„æµ‹ï¼Œ\(\hat{Y}(R_j)\)
- en: For example predict production, \(\hat{Y}\), from porosity, \({X_1}\)
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä»å­”éš™ç‡ï¼Œ\({X_1}\) é¢„æµ‹äº§é‡ï¼Œ\(\hat{Y}\)
- en: given the data within a mD feature space, \(X_1,\ldots,X_m\), find that boundary
    maximizes the gap between the two categories
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨ä¸€ä¸ª mD ç‰¹å¾ç©ºé—´å†…çš„æ•°æ®ä¸­ï¼Œ\(X_1,\ldots,X_m\)ï¼Œæ‰¾åˆ°æœ€å¤§åŒ–ä¸¤ä¸ªç±»åˆ«ä¹‹é—´å·®è·çš„è¾¹ç•Œ
- en: new cases are classified based on where they fall relative to this boundary
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–°æ¡ˆä¾‹æ ¹æ®å®ƒä»¬ç›¸å¯¹äºè¿™ä¸ªè¾¹ç•Œçš„ç›¸å¯¹ä½ç½®è¿›è¡Œåˆ†ç±»
- en: '**Procedure for Tree Construction**'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ ‘æ„å»ºè¿‡ç¨‹**'
- en: The tree is constructed from the top down. We begin with a single region that
    covers the entire feature space and then proceed with a sequence of splits.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‘æ˜¯ä»ä¸Šå¾€ä¸‹æ„å»ºçš„ã€‚æˆ‘ä»¬ä»ä¸€ä¸ªè¦†ç›–æ•´ä¸ªç‰¹å¾ç©ºé—´çš„å•ä¸€åŒºåŸŸå¼€å§‹ï¼Œç„¶åè¿›è¡Œä¸€ç³»åˆ—çš„åˆ†å‰²ã€‚
- en: '**Scan All Possible Splits** over all regions and over all features.'
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ‰«ææ‰€æœ‰å¯èƒ½çš„åˆ†å‰²** åœ¨æ‰€æœ‰åŒºåŸŸå’Œæ‰€æœ‰ç‰¹å¾ä¸Šã€‚'
- en: '**Greedy Optimization** The method proceeds by finding the first segmentation
    (split) in any feature that minimizes the residual sum of squares of errors over
    all the training data \(y_i\) over all of the regions \(j = 1,\ldots,J\).'
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è´ªå©ªä¼˜åŒ–** è¯¥æ–¹æ³•é€šè¿‡åœ¨ä»»æ„ç‰¹å¾ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªåˆ†å‰²ï¼ˆåˆ†å‰²ï¼‰ï¼Œä»¥æœ€å°åŒ–æ‰€æœ‰è®­ç»ƒæ•°æ® \(y_i\) åœ¨æ‰€æœ‰åŒºåŸŸ \(j = 1,\ldots,J\)
    ä¸Šçš„æ®‹å·®å¹³æ–¹å’Œã€‚'
- en: \[ RSS = \sum^{J}_{j=1} \sum_{i \in R_j} (y_i - \hat{y}_{R_j})^2 \]
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: \[ RSS = \sum^{J}_{j=1} \sum_{i \in R_j} (y_i - \hat{y}_{R_j})^2 \]
- en: '**Stopping Criteria** is typically based on minimum number of training data
    in each region for a robust estimation and / or minimum reduction in RSS for the
    next split'
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**åœæ­¢æ ‡å‡†** é€šå¸¸åŸºäºæ¯ä¸ªåŒºåŸŸçš„æœ€å°è®­ç»ƒæ•°æ®é‡ä»¥è¿›è¡Œç¨³å¥ä¼°è®¡ï¼Œä»¥åŠ/æˆ–ä¸‹ä¸€ä¸ªåˆ†å‰²çš„æœ€å°RSSå‡å°‘ã€‚'
- en: Now we can cover gradient boosting trees that build on the concept of decision
    trees.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¯ä»¥ä»‹ç»åŸºäºå†³ç­–æ ‘æ¦‚å¿µçš„æ¢¯åº¦æå‡æ ‘ã€‚
- en: Decision Tree
  id: totrans-350
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å†³ç­–æ ‘
- en: '**Prediction**'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: '**é¢„æµ‹**'
- en: estimate a function \(\hat{f}\) such that we predict a response feature \(Y\)
    from a set of predictor features \(X_1,\ldots,X_m\).
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¼°è®¡ä¸€ä¸ªå‡½æ•° \(\hat{f}\)ï¼Œä»¥ä¾¿æˆ‘ä»¬ä»ä¸€ä¸ªé¢„æµ‹ç‰¹å¾é›† \(X_1,\ldots,X_m\) ä¸­é¢„æµ‹å“åº”ç‰¹å¾ \(Y\)ã€‚
- en: the prediction is of the form \(\hat{Y} = \hat{f}(X_1,\ldots,X_m)\)
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¢„æµ‹å½¢å¼ä¸º \(\hat{Y} = \hat{f}(X_1,\ldots,X_m)\)ã€‚
- en: '**Supervised Learning**'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç›‘ç£å­¦ä¹ **'
- en: the response feature label, \(Y\), is available over the training and testing
    data
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å“åº”ç‰¹å¾æ ‡ç­¾ \(Y\) åœ¨è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ä¸­å¯ç”¨ã€‚
- en: '**Based on an Ensemble of Decision Trees**'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: '**åŸºäºå†³ç­–æ ‘é›†æˆ**'
- en: These are the concepts related to decision tree.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ˜¯ä¸å†³ç­–æ ‘ç›¸å…³çš„æ¦‚å¿µã€‚
- en: '**Hierarchical, Binary Segmentation of the Feature Space**'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç‰¹å¾ç©ºé—´çš„åˆ†å±‚äºŒåˆ†åˆ†å‰²**'
- en: The fundamental idea is to divide the predictor space, \(ğ‘‹_1,\ldots,X_m\), into
    \(J\) mutually exclusive, exhaustive regions
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬æ€æƒ³æ˜¯å°†é¢„æµ‹ç©ºé—´ \(ğ‘‹_1,\ldots,X_m\) åˆ’åˆ†ä¸º \(J\) ä¸ªç›¸äº’æ’æ–¥ã€ç©·å°½çš„åŒºåŸŸã€‚
- en: '**mutually exclusive** â€“ any combination of predictors only belongs to a single
    region, \(R_j\)'
  id: totrans-360
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç›¸äº’æ’æ–¥** â€“ ä»»ä½•é¢„æµ‹å™¨çš„ç»„åˆåªå±äºå•ä¸ªåŒºåŸŸ \(R_j\)ã€‚'
- en: '**exhaustive** â€“ all combinations of predictors belong a region, \(R_j\), regions
    cover entire feature space (range of the variables being considered)'
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç©·å°½** â€“ æ‰€æœ‰é¢„æµ‹å™¨çš„ç»„åˆå±äºä¸€ä¸ªåŒºåŸŸ \(R_j\)ï¼ŒåŒºåŸŸè¦†ç›–æ•´ä¸ªç‰¹å¾ç©ºé—´ï¼ˆè€ƒè™‘çš„å˜é‡çš„èŒƒå›´ï¼‰ã€‚'
- en: For every observation in a region, \(R_j\), we use the same prediction, \(\hat{Y}(R_j)\)
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºåŒºåŸŸ \(R_j\) ä¸­çš„æ¯ä¸ªè§‚æµ‹å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ç›¸åŒçš„é¢„æµ‹ï¼Œ\(\hat{Y}(R_j)\)ã€‚
- en: For example predict production, \(\hat{Y}\), from porosity, \({X_1}\)
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä»å­”éš™ç‡ \({X_1}\) é¢„æµ‹ç”Ÿäº§ï¼Œ\(\hat{Y}\)ã€‚
- en: given the data within a mD feature space, \(X_1,\ldots,X_m\), find that boundary
    maximizes the gap between the two categories
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»™å®šä¸€ä¸ª mD ç‰¹å¾ç©ºé—´å†…çš„æ•°æ®ï¼Œ\(X_1,\ldots,X_m\)ï¼Œæ‰¾åˆ°è¾¹ç•Œä»¥æœ€å¤§åŒ–ä¸¤ä¸ªç±»åˆ«ä¹‹é—´çš„å·®è·ã€‚
- en: new cases are classified based on where they fall relative to this boundary
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–°æ¡ˆä¾‹æ ¹æ®å®ƒä»¬ç›¸å¯¹äºè¿™ä¸ªè¾¹ç•Œçš„ä½ç½®è¿›è¡Œåˆ†ç±»ã€‚
- en: '**Procedure for Tree Construction**'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ ‘æ„å»ºè¿‡ç¨‹**'
- en: The tree is constructed from the top down. We begin with a single region that
    covers the entire feature space and then proceed with a sequence of splits.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‘æ˜¯ä»ä¸Šå¾€ä¸‹æ„å»ºçš„ã€‚æˆ‘ä»¬ä»ä¸€ä¸ªè¦†ç›–æ•´ä¸ªç‰¹å¾ç©ºé—´çš„å•ä¸€åŒºåŸŸå¼€å§‹ï¼Œç„¶åè¿›è¡Œä¸€ç³»åˆ—çš„åˆ†å‰²ã€‚
- en: '**Scan All Possible Splits** over all regions and over all features.'
  id: totrans-368
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ‰«ææ‰€æœ‰å¯èƒ½çš„åˆ†å‰²** åœ¨æ‰€æœ‰åŒºåŸŸå’Œæ‰€æœ‰ç‰¹å¾ä¸Šã€‚'
- en: '**Greedy Optimization** The method proceeds by finding the first segmentation
    (split) in any feature that minimizes the residual sum of squares of errors over
    all the training data \(y_i\) over all of the regions \(j = 1,\ldots,J\).'
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è´ªå©ªä¼˜åŒ–** è¯¥æ–¹æ³•é€šè¿‡åœ¨ä»»æ„ç‰¹å¾ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªåˆ†å‰²ï¼ˆåˆ†å‰²ï¼‰ï¼Œä»¥æœ€å°åŒ–æ‰€æœ‰è®­ç»ƒæ•°æ® \(y_i\) åœ¨æ‰€æœ‰åŒºåŸŸ \(j = 1,\ldots,J\)
    ä¸Šçš„æ®‹å·®å¹³æ–¹å’Œã€‚'
- en: \[ RSS = \sum^{J}_{j=1} \sum_{i \in R_j} (y_i - \hat{y}_{R_j})^2 \]
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: \[ RSS = \sum^{J}_{j=1} \sum_{i \in R_j} (y_i - \hat{y}_{R_j})^2 \]
- en: '**Stopping Criteria** is typically based on minimum number of training data
    in each region for a robust estimation and / or minimum reduction in RSS for the
    next split'
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**åœæ­¢æ ‡å‡†** é€šå¸¸åŸºäºæ¯ä¸ªåŒºåŸŸçš„æœ€å°è®­ç»ƒæ•°æ®é‡ä»¥è¿›è¡Œç¨³å¥ä¼°è®¡ï¼Œä»¥åŠ/æˆ–ä¸‹ä¸€ä¸ªåˆ†å‰²çš„æœ€å°RSSå‡å°‘ã€‚'
- en: Now we can cover gradient boosting trees that build on the concept of decision
    trees.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¯ä»¥ä»‹ç»åŸºäºå†³ç­–æ ‘æ¦‚å¿µçš„æ¢¯åº¦æå‡æ ‘ã€‚
- en: Boosting Models
  id: totrans-373
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¢é‡æ¨¡å‹
- en: Boosting additively applies multiple week learners to build a stronger learner.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: å¢é‡åœ°å°†å¤šä¸ªå¼±å­¦ä¹ å™¨åº”ç”¨äºæ„å»ºæ›´å¼ºçš„å­¦ä¹ å™¨ã€‚
- en: a weak learner is one that offers predictions just marginally better than random
    selection
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¼±å­¦ä¹ å™¨æ˜¯æŒ‡ä»…æä¾›ç•¥ä¼˜äºéšæœºé€‰æ‹©çš„é¢„æµ‹çš„å­¦ä¹ å™¨ã€‚
- en: Iâ€™ll explain the method with words and then with equations.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä¼šç”¨æ–‡å­—å’Œæ–¹ç¨‹æ¥è§£é‡Šè¿™ä¸ªæ–¹æ³•ã€‚
- en: build a simple model with a high error rate, the model can be quite inaccurate,
    but moves in the correct direction
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å»ºç«‹ä¸€ä¸ªè¯¯å·®ç‡é«˜çš„ç®€å•æ¨¡å‹ï¼Œæ¨¡å‹å¯èƒ½ç›¸å½“ä¸å‡†ç¡®ï¼Œä½†ä¼šæœç€æ­£ç¡®çš„æ–¹å‘ç§»åŠ¨
- en: calculate the error from the model
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¡ç®—æ¨¡å‹çš„è¯¯å·®
- en: fit another model to the error
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‹Ÿåˆå¦ä¸€ä¸ªæ¨¡å‹æ¥æ‹Ÿåˆè¯¯å·®
- en: calculate the error from this addition of the first and second model
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¡ç®—ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ¨¡å‹ç»„åˆçš„è¯¯å·®
- en: repeat until the desired accuracy is obtained or some other stopping criteria
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é‡å¤ç›´åˆ°è¾¾åˆ°æ‰€éœ€çš„ç²¾åº¦æˆ–æŸäº›å…¶ä»–åœæ­¢æ ‡å‡†
- en: 'The general workflow for predicting \(Y\) from \(X_1,\ldots,X_m\) is:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: ä» \(X_1,\ldots,X_m\) é¢„æµ‹ \(Y\) çš„ä¸€èˆ¬å·¥ä½œæµç¨‹æ˜¯ï¼š
- en: build a week learner to predict \(Y\) from \(X_1,\ldots,X_m\), \(\hat{F}_k(X)\)
    from the training data \(x_{i,j}\).
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å»ºç«‹ä¸€ä¸ªå¼±å­¦ä¹ è€…ä» \(X_1,\ldots,X_m\) é¢„æµ‹ \(Y\)ï¼Œä»è®­ç»ƒæ•°æ® \(x_{i,j}\) é¢„æµ‹ \(\hat{F}_k(X)\)ã€‚
- en: loop over number of desired estimators, \(k = 1,\ldots,K\)
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¾ªç¯éå†æ‰€éœ€ä¼°è®¡å™¨çš„æ•°é‡ï¼Œ\(k = 1,\ldots,K\)
- en: calculate the residuals at the training data, \(h_k(x_{i}) = y_i - \hat{F}_k(x_{i})\)
  id: totrans-385
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®¡ç®—è®­ç»ƒæ•°æ®ä¸­çš„æ®‹å·®ï¼Œ\(h_k(x_{i}) = y_i - \hat{F}_k(x_{i})\)
- en: fit another week learner to predict \(h_k\) from \(X_1,\ldots,X_m\), \(\hat{F}_k(X)\)
    from the training data \(x_{i,j}\).
  id: totrans-386
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å¦ä¸€å‘¨çš„å­¦ä¹ è€…ä» \(X_1,\ldots,X_m\) é¢„æµ‹ \(h_k\)ï¼Œä»è®­ç»ƒæ•°æ® \(x_{i,j}\) é¢„æµ‹ \(\hat{F}_k(X)\)ã€‚
- en: We have a hierarchy of simple \(K\) models.
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å• \(K\) æ¨¡å‹çš„å±‚æ¬¡ç»“æ„ã€‚
- en: each model builds on the previous to improve the accuracy
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªæ¨¡å‹éƒ½åŸºäºå‰ä¸€ä¸ªæ¨¡å‹æ¥æé«˜ç²¾åº¦
- en: Our regression estimator is the summation over the \(K\) simple models.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„å›å½’ä¼°è®¡å™¨æ˜¯ \(K\) ä¸ªç®€å•æ¨¡å‹çš„æ€»å’Œã€‚
- en: \[ \hat{Y} =\sum_{k=1}^{K} F_k(X_1,\ldots,X_m) \]
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \hat{Y} =\sum_{k=1}^{K} F_k(X_1,\ldots,X_m) \]
- en: Gradient Boosting Methods
  id: totrans-391
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¢¯åº¦æå‡æ–¹æ³•
- en: If you look at the previous method, it becomes clear that it could be mapped
    to a gradient descent problem
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ çœ‹ä¸€ä¸‹ä¹‹å‰çš„æ–¹æ³•ï¼Œå®ƒå¾ˆæ¸…æ¥šåœ°å¯ä»¥æ˜ å°„åˆ°ä¸€ä¸ªæ¢¯åº¦ä¸‹é™é—®é¢˜
- en: At each step, \(k\), a model is being fit, then the error is calculated, \(h_k(X_1,\ldots,X_m)\).
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ¯ä¸ªæ­¥éª¤ \(k\)ï¼Œéƒ½åœ¨æ‹Ÿåˆä¸€ä¸ªæ¨¡å‹ï¼Œç„¶åè®¡ç®—è¯¯å·®ï¼Œ\(h_k(X_1,\ldots,X_m)\)ã€‚
- en: We can assign a loss function
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥åˆ†é…ä¸€ä¸ªæŸå¤±å‡½æ•°
- en: \[ L\left(y,F(X)\right) = \frac{\left(y - F(X)\right)^2}{2} \]
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: \[ L\left(y,F(X)\right) = \frac{\left(y - F(X)\right)^2}{2} \]
- en: 'So we want to minimize the \(\ell2\) loss function:'
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›æœ€å°åŒ– \(\ell2\) æŸå¤±å‡½æ•°ï¼š
- en: \[ J = \sum_{i=1}^{n} L\left(y_i, F_k(X) \right) \]
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: \[ J = \sum_{i=1}^{n} L\left(y_i, F_k(X) \right) \]
- en: by adjusting our model result over our training data \(F(x_1), F(x_2),\ldots,F(x_n)\).
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡è°ƒæ•´æˆ‘ä»¬çš„æ¨¡å‹ç»“æœæ¥è¦†ç›–æˆ‘ä»¬çš„è®­ç»ƒæ•°æ® \(F(x_1), F(x_2),\ldots,F(x_n)\)ã€‚
- en: We can take the partial derivative of the error vs. our model.
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥æ±‚è¯¯å·®ç›¸å¯¹äºæˆ‘ä»¬æ¨¡å‹çš„åå¯¼æ•°ã€‚
- en: \[ \frac{\partial J}{\partial F(x_i)} = F(x_i) - y_i \]
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\partial J}{\partial F(x_i)} = F(x_i) - y_i \]
- en: We can interpret the residuals as negative gradients.
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°†æ®‹å·®è§£é‡Šä¸ºè´Ÿæ¢¯åº¦ã€‚
- en: \[ y_i - F(x_i) = -1 \frac{\partial J}{\partial F(x_i)} \]
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: \[ y_i - F(x_i) = -1 \frac{\partial J}{\partial F(x_i)} \]
- en: 'So now we have a gradient descent problem:'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ¢¯åº¦ä¸‹é™é—®é¢˜ï¼š
- en: \[ F_{k+1}(X_i) = F_k(X_i) + h(X_i) \]\[ F_{k+1}(X_i) = F_k(X_i) + y_i - F_k(X_i)
    \]\[ F_{k+1}(X_i) = F_k(X_i) - 1 \frac{\partial J}{\partial F_k(X_i)} \]
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: \[ F_{k+1}(X_i) = F_k(X_i) + h(X_i) \]\[ F_{k+1}(X_i) = F_k(X_i) + y_i - F_k(X_i)
    \]\[ F_{k+1}(X_i) = F_k(X_i) - 1 \frac{\partial J}{\partial F_k(X_i)} \]
- en: 'Of the general form:'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: çš„ä¸€èˆ¬å½¢å¼ï¼š
- en: \[ \phi_{k+1} = \phi_k - \rho \frac{\partial J}{\partial \phi_k} \]
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \phi_{k+1} = \phi_k - \rho \frac{\partial J}{\partial \phi_k} \]
- en: where \(phi_k\) is the current state, \(\rho\) is the learning rate, \(J\) is
    the loss function, and \(\phi_{k+1}\) is the next state of our estimator.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ \(\phi_k\) æ˜¯å½“å‰çŠ¶æ€ï¼Œ\(\rho\) æ˜¯å­¦ä¹ ç‡ï¼Œ\(J\) æ˜¯æŸå¤±å‡½æ•°ï¼Œè€Œ \(\phi_{k+1}\) æ˜¯æˆ‘ä»¬ä¼°è®¡å™¨çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚
- en: If we consider our residual at training data to be a gradient then we are performing
    gradient descent.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬æŠŠè®­ç»ƒæ•°æ®ä¸­çš„æ®‹å·®çœ‹ä½œæ¢¯åº¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ˜¯åœ¨æ‰§è¡Œæ¢¯åº¦ä¸‹é™ã€‚
- en: fitting a series of models to negative gradients
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‹Ÿåˆä¸€ç³»åˆ—æ¨¡å‹åˆ°è´Ÿæ¢¯åº¦
- en: By approaching the problem as a gradient decent problem we are able to apply
    a variety of loss functions
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡å°†é—®é¢˜è§†ä¸ºæ¢¯åº¦ä¸‹é™é—®é¢˜ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåº”ç”¨å„ç§æŸå¤±å‡½æ•°
- en: \(\ell2\) is our \(\frac{\left(y - F(X)\right)^2}{2}\) is practical, but is
    not robust with outliers
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(\ell2\) æ˜¯æˆ‘ä»¬çš„ \(\frac{\left(y - F(X)\right)^2}{2}\) å®é™…ä¸Šå¾ˆå®ç”¨ï¼Œä½†å¼‚å¸¸å€¼é²æ£’æ€§ä¸å¼º
- en: \[ - 1 \frac{\partial J}{\partial F_k(X_i)} = y_i - F_k(X_i) \]
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: \[ - 1 \frac{\partial J}{\partial F_k(X_i)} = y_i - F_k(X_i) \]
- en: \(\ell1\) is our \(|y - F(X)|\) is more robust with outliers
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(\ell1\) æ˜¯æˆ‘ä»¬çš„ \(|y - F(X)|\) å¯¹å¼‚å¸¸å€¼æ›´é²æ£’
- en: \[ - 1 \frac{\partial J}{\partial F_k(X_i)} = sign(y_i - F_k(X_i)) \]
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: \[ - 1 \frac{\partial J}{\partial F_k(X_i)} = sign(y_i - F_k(X_i)) \]
- en: there are others like Huber Loss
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿˜æœ‰å…¶ä»–åƒ Huber Loss è¿™æ ·çš„æ–¹æ³•ã€‚
- en: '**Interpretability**'
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯è§£é‡Šæ€§**'
- en: Compared to decision trees, the ensemble methods have reduced interpretability.
    One tool to improve model interpretability is feature importance.
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸å†³ç­–æ ‘ç›¸æ¯”ï¼Œé›†æˆæ–¹æ³•é™ä½äº†å¯è§£é‡Šæ€§ã€‚æé«˜æ¨¡å‹å¯è§£é‡Šæ€§çš„ä¸€ä¸ªå·¥å…·æ˜¯ç‰¹å¾é‡è¦æ€§ã€‚
- en: 'We calculate variable importance through calculating the average of:'
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€šè¿‡è®¡ç®—å¹³å‡æ¥è®¡ç®—å˜é‡é‡è¦æ€§ï¼š
- en: residual sum of square reduction for all splits involving each predictor feature
    for regression
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰æ¶‰åŠæ¯ä¸ªé¢„æµ‹ç‰¹å¾çš„åˆ†æï¼Œå›å½’çš„æ®‹å·®å¹³æ–¹å’Œå‡å°‘
- en: the decrease in the Gini index for all splits involving each predictor feature
    for classification
  id: totrans-420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰æ¶‰åŠæ¯ä¸ªé¢„æµ‹ç‰¹å¾çš„åˆ†æï¼ŒGiniæŒ‡æ•°çš„é™ä½
- en: Both are standardized to sum to 1.0 over the features.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸¤ä¸ªéƒ½æ˜¯æ ‡å‡†åŒ–åˆ°ç‰¹å¾æ€»å’Œä¸º1.0ã€‚
- en: Classification
  id: totrans-422
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ†ç±»
- en: The response is a finite set of possible categories.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: å“åº”æ˜¯ä¸€ä¸ªå¯èƒ½çš„æœ‰é™ç±»åˆ«é›†åˆã€‚
- en: For each training data the truth is 100% probability in the observed category
    and 0% otherwise
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºæ¯ä¸ªè®­ç»ƒæ•°æ®ï¼ŒçœŸå®æƒ…å†µæ˜¯è¯¥è§‚å¯Ÿç±»åˆ«100%çš„æ¦‚ç‡ï¼Œå¦åˆ™ä¸º0%
- en: Estimate the probability of each category with the a decision tree
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å†³ç­–æ ‘ä¼°è®¡æ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡
- en: Use a measure of difference between the true and estimated distributions as
    the loss function to minimize
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨çœŸå®å’Œä¼°è®¡åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚åº¦é‡ä½œä¸ºæŸå¤±å‡½æ•°æ¥æœ€å°åŒ–
- en: Load the Required Libraries
  id: totrans-427
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½æ‰€éœ€çš„åº“
- en: We will also need some standard packages. These should have been installed with
    Anaconda 3.
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›æ ‡å‡†åŒ…ã€‚è¿™äº›åº”è¯¥å·²ç»é€šè¿‡Anaconda 3å®‰è£…ã€‚
- en: '[PRE33]'
  id: totrans-429
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: If you get a package import error, you may have to first install some of these
    packages. This can usually be accomplished by opening up a command window on Windows
    and then typing â€˜python -m pip install [package-name]â€™. More assistance is available
    with the respective package docs.
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨é‡åˆ°åŒ…å¯¼å…¥é”™è¯¯ï¼Œæ‚¨å¯èƒ½å¿…é¡»é¦–å…ˆå®‰è£…è¿™äº›åŒ…ä¸­çš„ä¸€äº›ã€‚è¿™é€šå¸¸å¯ä»¥é€šè¿‡åœ¨Windowsä¸Šæ‰“å¼€å‘½ä»¤çª—å£ç„¶åè¾“å…¥â€˜python -m pip install
    [package-name]â€™æ¥å®Œæˆã€‚æœ‰å…³ç›¸åº”åŒ…çš„æ›´å¤šå¸®åŠ©ï¼Œè¯·å‚é˜…å„è‡ªçš„åŒ…æ–‡æ¡£ã€‚
- en: Declare Functions
  id: totrans-431
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å£°æ˜å‡½æ•°
- en: Letâ€™s define a couple of functions to streamline plotting correlation matrices
    and visualization of a decision tree regression model.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å®šä¹‰å‡ ä¸ªå‡½æ•°æ¥ç®€åŒ–ç»˜åˆ¶ç›¸å…³çŸ©é˜µå’Œå†³ç­–æ ‘å›å½’æ¨¡å‹çš„å¯è§†åŒ–ã€‚
- en: '[PRE34]'
  id: totrans-433
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: Set the Working Directory
  id: totrans-434
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½®å·¥ä½œç›®å½•
- en: I always like to do this so I donâ€™t lose files and to simplify subsequent read
    and writes (avoid including the full address each time).
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ€»æ˜¯å–œæ¬¢è¿™æ ·åšï¼Œè¿™æ ·æˆ‘å°±ä¸ä¼šä¸¢å¤±æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥ç®€åŒ–åç»­çš„è¯»å–å’Œå†™å…¥ï¼ˆé¿å…æ¯æ¬¡éƒ½åŒ…å«å®Œæ•´åœ°å€ï¼‰ã€‚
- en: '[PRE35]'
  id: totrans-436
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: You will have to update the part in quotes with your own working directory and
    the format is different on a Mac (e.g. â€œ~/PGEâ€).
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å°†éœ€è¦æ›´æ–°å¼•å·å†…çš„éƒ¨åˆ†ä¸ºæ‚¨çš„è‡ªå·±çš„å·¥ä½œç›®å½•ï¼Œå¹¶ä¸”æ ¼å¼åœ¨Macä¸Šä¸åŒï¼ˆä¾‹å¦‚ï¼šâ€œ~/PGEâ€ï¼‰ã€‚
- en: Loading Data
  id: totrans-438
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½æ•°æ®
- en: 'Letâ€™s load the provided multivariate, spatial dataset [unconv_MV.csv](https://raw.githubusercontent.com/GeostatsGuy/GeoDataSets/master/unconv_MV.csv)
    available in my GeoDataSet repo. It is a comma delimited file with:'
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åŠ è½½æä¾›çš„å¤šå…ƒã€ç©ºé—´æ•°æ®é›† [unconv_MV.csv](https://raw.githubusercontent.com/GeostatsGuy/GeoDataSets/master/unconv_MV.csv)ï¼Œå®ƒåœ¨æˆ‘çš„GeoDataSetä»“åº“ä¸­å¯ç”¨ã€‚å®ƒæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- en: well index (integer)
  id: totrans-440
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: äº•æŒ‡æ•°ï¼ˆæ•´æ•°ï¼‰
- en: porosity (%)
  id: totrans-441
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'å­”éš™ç‡ (%) '
- en: permeability (\(mD\))
  id: totrans-442
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¸—é€ç‡ (\(mD\))
- en: acoustic impedance (\(\frac{kg}{m^3} \cdot \frac{m}{s} \cdot 10^6\)).
  id: totrans-443
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å£°é˜»æŠ— (\(\frac{kg}{m^3} \cdot \frac{m}{s} \cdot 10^6\))
- en: brittleness (%)
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'å‰ªåˆ‡ç‡ (%) '
- en: total organic carbon (%)
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'æ€»æœ‰æœºç¢³ (%) '
- en: vitrinite reflectance (%)
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'ç»ç’ƒè´¨åå°„ç‡ (%) '
- en: initial gas production (90 day average) (MCFPD)
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åˆå§‹æ°”äº§é‡ï¼ˆ90å¤©å¹³å‡ï¼‰(MCFPD)
- en: We load it with the pandas â€˜read_csvâ€™ function into a data frame we called â€˜dfâ€™
    and then preview it to make sure it loaded correctly.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨pandasçš„â€˜read_csvâ€™å‡½æ•°å°†å…¶åŠ è½½åˆ°æˆ‘ä»¬ç§°ä¸ºâ€˜dfâ€™çš„æ•°æ®æ¡†ä¸­ï¼Œç„¶åé¢„è§ˆå®ƒä»¥ç¡®ä¿æ­£ç¡®åŠ è½½ã€‚
- en: '**Python Tip: using functions from a package** just type the label for the
    package that we declared at the beginning:'
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: '**PythonæŠ€å·§ï¼šä½¿ç”¨åŒ…ä¸­çš„å‡½æ•°**åªéœ€è¾“å…¥æˆ‘ä»¬åœ¨å¼€å¤´å£°æ˜çš„åŒ…çš„æ ‡ç­¾ï¼š'
- en: '[PRE36]'
  id: totrans-450
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'so we can access the pandas function â€˜read_csvâ€™ with the command:'
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤è®¿é—®pandaså‡½æ•°â€˜read_csvâ€™ï¼š
- en: '[PRE37]'
  id: totrans-452
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: but read csv has required input parameters. The essential one is the name of
    the file. For our circumstance all the other default parameters are fine. If you
    want to see all the possible parameters for this function, just go to the docs
    [here](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html).
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯read csvéœ€è¦è¾“å…¥å‚æ•°ã€‚æœ€é‡è¦çš„ä¸€ä¸ªæ˜¯æ–‡ä»¶åã€‚å¯¹äºæˆ‘ä»¬çš„æƒ…å†µï¼Œæ‰€æœ‰å…¶ä»–é»˜è®¤å‚æ•°éƒ½å¾ˆå¥½ã€‚å¦‚æœæ‚¨æƒ³æŸ¥çœ‹æ­¤å‡½æ•°çš„æ‰€æœ‰å¯èƒ½å‚æ•°ï¼Œè¯·è®¿é—®[è¿™é‡Œ](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html)çš„æ–‡æ¡£ã€‚
- en: The docs are always helpful
  id: totrans-454
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–‡æ¡£æ€»æ˜¯å¾ˆæœ‰å¸®åŠ©
- en: There is often a lot of flexibility for Python functions, possible through using
    various inputs parameters
  id: totrans-455
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Pythonå‡½æ•°é€šå¸¸æœ‰å¾ˆå¤šçµæ´»æ€§ï¼Œè¿™å¯ä»¥é€šè¿‡ä½¿ç”¨å„ç§è¾“å…¥å‚æ•°æ¥å®ç°
- en: also, the program has an output, a pandas DataFrame loaded from the data. So
    we have to specficy the name / variable representing that new object.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œç¨‹åºæœ‰ä¸€ä¸ªè¾“å‡ºï¼Œä¸€ä¸ªä»æ•°æ®åŠ è½½çš„ pandas DataFrameã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»æŒ‡å®šä»£è¡¨è¯¥æ–°å¯¹è±¡çš„åå­—/å˜é‡ã€‚
- en: '[PRE38]'
  id: totrans-457
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: Letâ€™s run this command to load the data and then this command to extract a random
    subset of the data.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬è¿è¡Œæ­¤å‘½ä»¤æ¥åŠ è½½æ•°æ®ï¼Œç„¶åè¿è¡Œæ­¤å‘½ä»¤æ¥æå–æ•°æ®çš„éšæœºå­é›†ã€‚
- en: '[PRE39]'
  id: totrans-459
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: Feature Engineering
  id: totrans-460
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾å·¥ç¨‹
- en: 'Letâ€™s make some changes to the data to improve the workflow:'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œä¸€äº›ä¿®æ”¹ä»¥æ”¹è¿›å·¥ä½œæµç¨‹ï¼š
- en: '**Select the predictor features (x2) and the response feature (x1)**, make
    sure the metadata is also consistent.'
  id: totrans-462
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é€‰æ‹©é¢„æµ‹ç‰¹å¾ï¼ˆx2ï¼‰å’Œå“åº”ç‰¹å¾ï¼ˆx1ï¼‰**ï¼Œç¡®ä¿å…ƒæ•°æ®ä¹Ÿä¸€è‡´ã€‚'
- en: '**Metadata** encoding such as the units, labels and display ranges for each
    feature.'
  id: totrans-463
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å…ƒæ•°æ®**ç¼–ç ï¼Œå¦‚æ¯ä¸ªç‰¹å¾çš„å•ä½ã€æ ‡ç­¾å’Œæ˜¾ç¤ºèŒƒå›´ã€‚'
- en: '**Reduce the number of data** for ease of visualization (hard to see if too
    many points on our plots).'
  id: totrans-464
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å‡å°‘æ•°æ®æ•°é‡**ä»¥æ–¹ä¾¿å¯è§†åŒ–ï¼ˆå¦‚æœå›¾è¡¨ä¸Šæœ‰å¤ªå¤šç‚¹å°±éš¾ä»¥çœ‹åˆ°ï¼‰ã€‚'
- en: '**Train and test data split** to demonstrate and visualize simple hyperparameter
    tuning.'
  id: totrans-465
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è®­ç»ƒå’Œæµ‹è¯•æ•°æ®åˆ†å‰²**ä»¥æ¼”ç¤ºå’Œå¯è§†åŒ–ç®€å•çš„è¶…å‚æ•°è°ƒæ•´ã€‚'
- en: '**Add random noise to the data** to demonstrate model overfit. The original
    data is error free and does not readily demonstrate overfit.'
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å‘æ•°æ®æ·»åŠ éšæœºå™ªå£°**ä»¥æ¼”ç¤ºæ¨¡å‹è¿‡æ‹Ÿåˆã€‚åŸå§‹æ•°æ®æ˜¯æ— é”™è¯¯çš„ï¼Œå¹¶ä¸å®¹æ˜“å±•ç¤ºè¿‡æ‹Ÿåˆã€‚'
- en: Given this is properly set, one should be able to use any dataset and features
    for this demonstration.
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾è¿™è¢«æ­£ç¡®è®¾ç½®ï¼Œäººä»¬åº”è¯¥èƒ½å¤Ÿä½¿ç”¨ä»»ä½•æ•°æ®é›†å’Œç‰¹å¾è¿›è¡Œæ­¤æ¼”ç¤ºã€‚
- en: for brevity we donâ€™t show any feature selection here. Previous chapter, e.g.,
    k-nearest neighbours include some feature selection methods, but see the feature
    selection chapter for many possible methods with codes for feature selection.
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç®€æ´ï¼Œæˆ‘ä»¬åœ¨æ­¤ä¸å±•ç¤ºä»»ä½•ç‰¹å¾é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œå‰ä¸€ç« ä¸­çš„ k è¿‘é‚»åŒ…æ‹¬ä¸€äº›ç‰¹å¾é€‰æ‹©æ–¹æ³•ï¼Œä½†è¯·å‚é˜…ç‰¹å¾é€‰æ‹©ç« èŠ‚ï¼Œä»¥äº†è§£è®¸å¤šå¯èƒ½çš„ç‰¹å¾é€‰æ‹©æ–¹æ³•åŠå…¶ä»£ç ã€‚
- en: 'Optional: Add Random Noise to the Response Feature'
  id: totrans-469
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯é€‰ï¼šå‘å“åº”ç‰¹å¾æ·»åŠ éšæœºå™ªå£°
- en: We can do this to observe the impact of data noise on overfit and hyperparameter
    tuning.
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¿™æ ·åšæ¥è§‚å¯Ÿæ•°æ®å™ªå£°å¯¹è¿‡æ‹Ÿåˆå’Œè¶…å‚æ•°è°ƒæ•´çš„å½±å“ã€‚
- en: This is for experiential learning, of course we wouldnâ€™t add random noise to
    our data
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸ºäº†ç»éªŒå­¦ä¹ ï¼Œå½“ç„¶æˆ‘ä»¬ä¸ä¼šå‘æˆ‘ä»¬çš„æ•°æ®æ·»åŠ éšæœºå™ªå£°
- en: We set the random number seed for reproducibility
  id: totrans-472
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è®¾ç½®éšæœºæ•°ç§å­ä»¥ç¡®ä¿å¯é‡å¤æ€§
- en: '[PRE40]'
  id: totrans-473
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: Letâ€™s make sure that we have selected reasonable features to build a model
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç¡®ä¿æˆ‘ä»¬å·²é€‰æ‹©äº†åˆç†çš„ç‰¹å¾æ¥æ„å»ºæ¨¡å‹
- en: the 2 predictor features are not collinear, as this would result in an unstable
    prediction model
  id: totrans-475
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªé¢„æµ‹ç‰¹å¾ä¸å…±çº¿ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´é¢„æµ‹æ¨¡å‹ä¸ç¨³å®š
- en: each of the features are related to the response feature, the predictor features
    inform the response
  id: totrans-476
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªç‰¹å¾éƒ½ä¸å“åº”ç‰¹å¾ç›¸å…³ï¼Œé¢„æµ‹ç‰¹å¾å‘å“åº”ç‰¹å¾æä¾›ä¿¡æ¯
- en: Calculate the Correlation Matrix and Correlation with Response Ranking
  id: totrans-477
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¡ç®—ç›¸å…³æ€§çŸ©é˜µå’Œä¸å“åº”ç‰¹å¾çš„ç›¸å…³æ€§æ’å
- en: Letâ€™s start with correlation analysis. We can calculate and view the correlation
    matrix and correlation to the response features with these previously declared
    functions.
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ç›¸å…³æ€§åˆ†æå¼€å§‹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰å£°æ˜çš„å‡½æ•°è®¡ç®—å¹¶æŸ¥çœ‹ç›¸å…³æ€§çŸ©é˜µå’Œä¸å“åº”ç‰¹å¾çš„ç›¸å…³æ€§ã€‚
- en: correlation analysis is based on the assumption of linear relationships, but
    it is a good start
  id: totrans-479
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç›¸å…³æ€§åˆ†æåŸºäºçº¿æ€§å…³ç³»çš„å‡è®¾ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªè‰¯å¥½çš„å¼€ç«¯
- en: '[PRE41]'
  id: totrans-480
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '![_images/f16d805e35f1c39ce293ec74df9132232e9f79c7ca0cb2ab8b63641a714d99c3.png](../Images/3e93a8978cec90fe97483ce65cda346f.png)'
  id: totrans-481
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/3e93a8978cec90fe97483ce65cda346f.png)'
- en: Note the 1.0 diagonal resulting from the correlation of each variable with themselves.
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ç”±äºæ¯ä¸ªå˜é‡ä¸å…¶è‡ªèº«çš„ç›¸å…³æ€§è€Œäº§ç”Ÿçš„ 1.0 å¯¹è§’çº¿ã€‚
- en: This looks good. There is a mix of correlation magnitudes. Of course, correlation
    coefficients are limited to degree of linear correlations.
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™çœ‹èµ·æ¥ä¸é”™ã€‚å­˜åœ¨ä¸åŒç¨‹åº¦çš„ç›¸å…³æ€§ã€‚å½“ç„¶ï¼Œç›¸å…³ç³»æ•°ä»…é™äºçº¿æ€§ç›¸å…³ç¨‹åº¦ã€‚
- en: Letâ€™s look at the matrix scatter plot to see the pairwise relationship between
    the features.
  id: totrans-484
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹çŸ©é˜µæ•£ç‚¹å›¾ï¼Œä»¥äº†è§£ç‰¹å¾ä¹‹é—´çš„æˆå¯¹å…³ç³»ã€‚
- en: '[PRE42]'
  id: totrans-485
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '![_images/b641089892114f3044ca3ab9a43c2723da5e4105a26416ee749176d163822c57.png](../Images/8f6fc0dc9253e57bb674c41069015dde.png)'
  id: totrans-486
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/8f6fc0dc9253e57bb674c41069015dde.png)'
- en: Train and Test Split
  id: totrans-487
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®­ç»ƒå’Œæµ‹è¯•åˆ†å‰²
- en: For convenience and simplicity we use scikit-learnâ€™s random train and test split.
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ–¹ä¾¿å’Œç®€å•ï¼Œæˆ‘ä»¬ä½¿ç”¨ scikit-learn çš„éšæœºè®­ç»ƒå’Œæµ‹è¯•åˆ†å‰²ã€‚
- en: '[PRE43]'
  id: totrans-489
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: Visualize the DataFrame
  id: totrans-490
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯è§†åŒ– DataFrame
- en: Visualizing the train and test DataFrame is useful check before we build our
    models.
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬æ„å»ºæ¨¡å‹ä¹‹å‰ï¼Œå¯è§†åŒ–è®­ç»ƒå’Œæµ‹è¯• DataFrame æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„æ£€æŸ¥ã€‚
- en: many things can go wrong, e.g., we loaded the wrong data, all the features did
    not load, etc.
  id: totrans-492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¸å¤šäº‹æƒ…å¯èƒ½ä¼šå‡ºé”™ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬åŠ è½½äº†é”™è¯¯çš„æ•°æ®ï¼Œæ‰€æœ‰ç‰¹å¾éƒ½æ²¡æœ‰åŠ è½½ç­‰ã€‚
- en: We can preview by utilizing the â€˜headâ€™ DataFrame member function (with a nice
    and clean format, see below).
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨â€˜headâ€™ DataFrame æˆå‘˜å‡½æ•°æ¥é¢„è§ˆï¼ˆæ ¼å¼æ•´æ´ç¾è§‚ï¼Œè§ä¸‹æ–‡ï¼‰ã€‚
- en: '[PRE44]'
  id: totrans-494
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '[PRE45]'
  id: totrans-495
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '|  | Por | Brittle | Production |'
  id: totrans-496
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Brittle | Production |'
- en: '| --- | --- | --- | --- |'
  id: totrans-497
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| 86 | 12.83 | 29.87 | 995.700671 |'
  id: totrans-498
  prefs: []
  type: TYPE_TB
  zh: '| 86 | 12.83 | 29.87 | 995.700671 |'
- en: '| 35 | 17.39 | 56.43 | 6060.760806 |'
  id: totrans-499
  prefs: []
  type: TYPE_TB
  zh: '| 35 | 17.39 | 56.43 | 6060.760806 |'
- en: '| 75 | 12.23 | 40.67 | 3744.177137 |'
  id: totrans-500
  prefs: []
  type: TYPE_TB
  zh: '| 75 | 12.23 | 40.67 | 3744.177137 |'
- en: '| 36 | 13.72 | 40.24 | 4203.470533 |'
  id: totrans-501
  prefs: []
  type: TYPE_TB
  zh: '| 36 | 13.72 | 40.24 | 4203.470533 |'
- en: '| 126 | 12.83 | 17.20 | 2917.165695 |'
  id: totrans-502
  prefs: []
  type: TYPE_TB
  zh: '| 126 | 12.83 | 17.20 | 2917.165695 |'
- en: '|  | Por | Brittle | Production |'
  id: totrans-503
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Brittle | Production |'
- en: '| --- | --- | --- | --- |'
  id: totrans-504
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| 5 | 15.55 | 58.25 | 5619.930037 |'
  id: totrans-505
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 15.55 | 58.25 | 5619.930037 |'
- en: '| 46 | 20.21 | 23.78 | 3897.440411 |'
  id: totrans-506
  prefs: []
  type: TYPE_TB
  zh: '| 46 | 20.21 | 23.78 | 3897.440411 |'
- en: '| 96 | 15.07 | 39.39 | 4504.608029 |'
  id: totrans-507
  prefs: []
  type: TYPE_TB
  zh: '| 96 | 15.07 | 39.39 | 4504.608029 |'
- en: '| 45 | 12.10 | 63.24 | 3613.953926 |'
  id: totrans-508
  prefs: []
  type: TYPE_TB
  zh: '| 45 | 12.10 | 63.24 | 3613.953926 |'
- en: '| 105 | 19.54 | 37.40 | 5314.937997 |'
  id: totrans-509
  prefs: []
  type: TYPE_TB
  zh: '| 105 | 19.54 | 37.40 | 5314.937997 |'
- en: Summary Statistics for Tabular Data
  id: totrans-510
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¡¨æ ¼æ•°æ®çš„æ‘˜è¦ç»Ÿè®¡ä¿¡æ¯
- en: There are a lot of efficient methods to calculate summary statistics from tabular
    data in DataFrames.
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ DataFrame ä¸­ï¼Œæœ‰è®¸å¤šé«˜æ•ˆçš„æ–¹æ³•å¯ä»¥è®¡ç®—è¡¨æ ¼æ•°æ®çš„æ‘˜è¦ç»Ÿè®¡ä¿¡æ¯ã€‚
- en: The describe command provides count, mean, minimum, maximum in a nice data table.
  id: totrans-512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`describe` å‘½ä»¤ä»¥ä¸€ä¸ªç¾è§‚çš„æ•°æ®è¡¨å½¢å¼æä¾›è®¡æ•°ã€å¹³å‡å€¼ã€æœ€å°å€¼ã€æœ€å¤§å€¼ã€‚'
- en: '[PRE46]'
  id: totrans-513
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '[PRE47]'
  id: totrans-514
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '|  | Por | Brittle | Production |'
  id: totrans-515
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Brittle | Production |'
- en: '| --- | --- | --- | --- |'
  id: totrans-516
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| count | 105.000000 | 105.000000 | 105.000000 |'
  id: totrans-517
  prefs: []
  type: TYPE_TB
  zh: '| è®¡æ•° | 105.000000 | 105.000000 | 105.000000 |'
- en: '| mean | 14.859238 | 48.861143 | 4192.479746 |'
  id: totrans-518
  prefs: []
  type: TYPE_TB
  zh: '| å¹³å‡å€¼ | 14.859238 | 48.861143 | 4192.479746 |'
- en: '| std | 3.057228 | 14.432050 | 1347.391355 |'
  id: totrans-519
  prefs: []
  type: TYPE_TB
  zh: '| æ ‡å‡†å·® | 3.057228 | 14.432050 | 1347.391355 |'
- en: '| min | 7.220000 | 10.940000 | 357.449794 |'
  id: totrans-520
  prefs: []
  type: TYPE_TB
  zh: '| æœ€å°å€¼ | 7.220000 | 10.940000 | 357.449794 |'
- en: '| max | 23.550000 | 84.330000 | 7934.478879 |'
  id: totrans-521
  prefs: []
  type: TYPE_TB
  zh: '| æœ€å¤§å€¼ | 23.550000 | 84.330000 | 7934.478879 |'
- en: '|  | Por | Brittle | Production |'
  id: totrans-522
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Brittle | Production |'
- en: '| --- | --- | --- | --- |'
  id: totrans-523
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| count | 35.000000 | 35.000000 | 35.000000 |'
  id: totrans-524
  prefs: []
  type: TYPE_TB
  zh: '| è®¡æ•° | 35.000000 | 35.000000 | 35.000000 |'
- en: '| mean | 15.011714 | 46.798286 | 4431.830496 |'
  id: totrans-525
  prefs: []
  type: TYPE_TB
  zh: '| å¹³å‡å€¼ | 15.011714 | 46.798286 | 4431.830496 |'
- en: '| std | 3.574467 | 13.380910 | 1487.184992 |'
  id: totrans-526
  prefs: []
  type: TYPE_TB
  zh: '| æ ‡å‡†å·® | 3.574467 | 13.380910 | 1487.184992 |'
- en: '| min | 6.550000 | 20.120000 | 1572.738774 |'
  id: totrans-527
  prefs: []
  type: TYPE_TB
  zh: '| æœ€å°å€¼ | 6.550000 | 20.120000 | 1572.738774 |'
- en: '| max | 20.860000 | 68.760000 | 7668.639376 |'
  id: totrans-528
  prefs: []
  type: TYPE_TB
  zh: '| æœ€å¤§å€¼ | 20.860000 | 68.760000 | 7668.639376 |'
- en: It is good that we checked the summary statistics.
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: å¾ˆå¥½ï¼Œæˆ‘ä»¬å·²ç»æ£€æŸ¥äº†æ‘˜è¦ç»Ÿè®¡ä¿¡æ¯ã€‚
- en: there are no obvious issues
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ²¡æœ‰æ˜æ˜¾çš„æ˜æ˜¾é—®é¢˜
- en: check out the range of values for each feature to set up and adjust plotting
    limits. See above.
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥æ¯ä¸ªç‰¹å¾çš„å€¼èŒƒå›´ä»¥è®¾ç½®å’Œè°ƒæ•´ç»˜å›¾é™åˆ¶ã€‚è§ä¸Šæ–‡ã€‚
- en: Visualize the Train and Test Splits
  id: totrans-532
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–è®­ç»ƒå’Œæµ‹è¯•åˆ†å‰²
- en: Letâ€™s check the consistency and coverage of training and testing with histograms
    and scatter plots.
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ£€æŸ¥ä½¿ç”¨ç›´æ–¹å›¾å’Œæ•£ç‚¹å›¾æ¥æ£€æŸ¥è®­ç»ƒå’Œæµ‹è¯•çš„ä¸€è‡´æ€§å’Œè¦†ç›–ç‡ã€‚
- en: check to make sure the training and testing cover the range of possible feature
    combinations
  id: totrans-534
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ä»¥ç¡®ä¿è®­ç»ƒå’Œæµ‹è¯•è¦†ç›–äº†å¯èƒ½çš„ç‰¹å¾ç»„åˆèŒƒå›´
- en: ensure we are not extrapolating beyond the training data with the testing cases
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¡®ä¿æˆ‘ä»¬ä¸æ˜¯é€šè¿‡æµ‹è¯•æ¡ˆä¾‹å¤–æ¨è®­ç»ƒæ•°æ®
- en: '[PRE48]'
  id: totrans-536
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '![_images/39becd8bd5d8101d8e6567bb5e26eb2b8fbe6499ce965fd4f72fdc3d8b7a3013.png](../Images/6c7c51e5c24b5320a250e5d2881b5021.png)'
  id: totrans-537
  prefs: []
  type: TYPE_IMG
  zh: '![_images/39becd8bd5d8101d8e6567bb5e26eb2b8fbe6499ce965fd4f72fdc3d8b7a3013.png](../Images/6c7c51e5c24b5320a250e5d2881b5021.png)'
- en: Sometimes I find it more convenient to compare distributions by looking at CDFâ€™s
    instead of histograms.
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰æ—¶æˆ‘å‘ç°é€šè¿‡æŸ¥çœ‹ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆCDFï¼‰è€Œä¸æ˜¯ç›´æ–¹å›¾æ¥æ¯”è¾ƒåˆ†å¸ƒæ›´æ–¹ä¾¿ã€‚
- en: we avoid the arbitrary choice of histogram bin size, because CDFâ€™s are at the
    data resolution.
  id: totrans-539
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é¿å…äº†é€‰æ‹©ç›´æ–¹å›¾ bin å¤§å°çš„ä»»æ„æ€§ï¼Œå› ä¸ºç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆCDFï¼‰ä¸æ•°æ®åˆ†è¾¨ç‡ä¸€è‡´ã€‚
- en: '[PRE49]'
  id: totrans-540
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '![_images/26e6503a4d7debf39d1789ec8242383e943228b6a4f2f3dfc0a0f10cd99a5b46.png](../Images/e1017bcd0dfe07284cc05b94b7dd3861.png)'
  id: totrans-541
  prefs: []
  type: TYPE_IMG
  zh: '![_images/26e6503a4d7debf39d1789ec8242383e943228b6a4f2f3dfc0a0f10cd99a5b46.png](../Images/e1017bcd0dfe07284cc05b94b7dd3861.png)'
- en: Once again, the distributions are well behaved,
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ¬¡åˆä¸€æ¬¡ï¼Œåˆ†å¸ƒè¡¨ç°å¾—å¾ˆå¥½ï¼Œ
- en: we cannot observe obvious gaps nor truncations.
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ— æ³•è§‚å¯Ÿåˆ°æ˜æ˜¾çš„ç¼ºå£æˆ–æˆªæ–­ã€‚
- en: check coverage of the train and test data
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ£€æŸ¥è®­ç»ƒå’Œæµ‹è¯•æ•°æ®çš„è¦†ç›–ç‡
- en: Letâ€™s look at a scatter plot of Porosity vs. Brittleness with points colored
    by Production.
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹å­”éš™ç‡ä¸è„†æ€§ä¹‹é—´çš„æ•£ç‚¹å›¾ï¼Œç‚¹æŒ‰ç”Ÿäº§é‡ç€è‰²ã€‚
- en: '[PRE50]'
  id: totrans-546
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: '![_images/1a847dd38c7158f07f58197cf7bfb88e46738dacb7622cd79a3a267a25a94494.png](../Images/79e12ff1ac255ff9811cd9900912d141.png)'
  id: totrans-547
  prefs: []
  type: TYPE_IMG
  zh: '![_images/1a847dd38c7158f07f58197cf7bfb88e46738dacb7622cd79a3a267a25a94494.png](../Images/79e12ff1ac255ff9811cd9900912d141.png)'
- en: Tree-based Boosting
  id: totrans-548
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŸºäºæ ‘çš„å¢å¼ºå­¦ä¹ 
- en: 'To perform tree-based boosting, gradient boosting tree regression we:'
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: è¦æ‰§è¡ŒåŸºäºæ ‘çš„å¢å¼ºå­¦ä¹ ï¼Œæ¢¯åº¦æå‡æ ‘å›å½’ï¼Œæˆ‘ä»¬ï¼š
- en: set the hyperparameters for our model
  id: totrans-550
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸ºæˆ‘ä»¬çš„æ¨¡å‹è®¾ç½®è¶…å‚æ•°
- en: '[PRE51]'
  id: totrans-551
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: instantiate the model
  id: totrans-552
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®ä¾‹åŒ–æ¨¡å‹
- en: '[PRE52]'
  id: totrans-553
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: train the model
  id: totrans-554
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®­ç»ƒæ¨¡å‹
- en: '[PRE53]'
  id: totrans-555
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: visualize the model result over the feature space (easy to do as we have only
    2 predictor features)
  id: totrans-556
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–æ¨¡å‹ç»“æœåœ¨ç‰¹å¾ç©ºé—´ä¸Šçš„ç»“æœï¼ˆç”±äºæˆ‘ä»¬åªæœ‰ä¸¤ä¸ªé¢„æµ‹ç‰¹å¾ï¼Œè¿™å¾ˆå®¹æ˜“åšåˆ°ï¼‰
- en: Demonstration of Boosting
  id: totrans-557
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¢å¼ºå­¦ä¹ æ¼”ç¤º
- en: For demonstration letâ€™s set tree maximum depth to 1 and 6 tree-based boosting
    regression trees.
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ¼”ç¤ºï¼Œè®©æˆ‘ä»¬å°†æ ‘çš„æœ€å¤§æ·±åº¦è®¾ç½®ä¸º1å’Œ6ä¸ªåŸºäºæ ‘çš„æå‡å›å½’æ ‘ã€‚
- en: each tree only has a single split, called decision stumps. This will prevent
    interaction between the predictor features and be highly interpretable
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯æ£µæ ‘åªæœ‰ä¸€ä¸ªåˆ†å‰²ï¼Œç§°ä¸ºå†³ç­–æ ‘æ¡©ã€‚è¿™å°†é˜²æ­¢é¢„æµ‹ç‰¹å¾ä¹‹é—´çš„äº¤äº’ï¼Œå¹¶ä¸”å…·æœ‰é«˜åº¦çš„å¯è§£é‡Šæ€§
- en: You should be able to observe the additive nature of the trees, see the first
    tree and then the first plus the second tree and so on.
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åº”è¯¥èƒ½å¤Ÿè§‚å¯Ÿåˆ°æ ‘çš„åŠ æ€§æ€§è´¨ï¼Œçœ‹åˆ°ç¬¬ä¸€æ£µæ ‘ï¼Œç„¶åæ˜¯ç¬¬ä¸€æ£µåŠ ä¸Šç¬¬äºŒæ£µï¼Œä»¥æ­¤ç±»æ¨ã€‚
- en: recall the estimate is the summation of multiple trees
  id: totrans-561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›æƒ³ä¸€ä¸‹ï¼Œä¼°è®¡æ˜¯å¤šä¸ªæ ‘çš„åŠ å’Œ
- en: since we are working with fitting a gradient after the first tree, we can have
    negative and positive estimates
  id: totrans-562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘ä»¬åœ¨ç¬¬ä¸€æ£µæ ‘ä¹‹åæ‹Ÿåˆæ¢¯åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰è´Ÿçš„å’Œæ­£çš„ä¼°è®¡
- en: in this example we can see some production estimates that are actually negative
  id: totrans-563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€äº›å®é™…ä¸Šæ˜¯è´Ÿæ•°çš„ç”Ÿäº§ä¼°è®¡
- en: '[PRE54]'
  id: totrans-564
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '![_images/0689fdfd411d646efca1490a036e9354bc12c7bd5797bac40f5b0295fb0f11a3.png](../Images/b2a16fd01b6c4a7a3f642f8cf90844b3.png)'
  id: totrans-565
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/b2a16fd01b6c4a7a3f642f8cf90844b3.png)'
- en: Notice that there is significant misfit with the data
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œä¸æ•°æ®å­˜åœ¨æ˜¾è‘—çš„åå·®
- en: we have only used up to 6 decision stumps (1 decision tree)
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åªä½¿ç”¨äº†æœ€å¤š6ä¸ªå†³ç­–æ ‘æ¡©ï¼ˆ1ä¸ªå†³ç­–æ ‘ï¼‰
- en: Letâ€™s check the cross validation results with the withheld testing data.
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ£€æŸ¥ä¸ä¿ç•™çš„æµ‹è¯•æ•°æ®ä¸€èµ·çš„äº¤å‰éªŒè¯ç»“æœã€‚
- en: '[PRE55]'
  id: totrans-569
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '![_images/dca4db99b262b1382fe6624eace15ad6cfe1a52dd28209db869d61cb97d8a540.png](../Images/c19d0d925995b408d0e14db0f66b52ee.png)'
  id: totrans-570
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/c19d0d925995b408d0e14db0f66b52ee.png)'
- en: Of course with a single tree we do quite poorly, but by the time we get to 6
    stump trees we cut the MSE almost in half.
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œç”¨ä¸€æ£µæ ‘æˆ‘ä»¬åšå¾—ç›¸å½“å·®ï¼Œä½†å½“æˆ‘ä»¬è¾¾åˆ°6ä¸ªæ ‘æ¡©æ ‘æ—¶ï¼Œæˆ‘ä»¬å°†å‡æ–¹è¯¯å·®å‡ ä¹å‡åŠã€‚
- en: Time to Build More Trees
  id: totrans-572
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å»ºç«‹æ›´å¤šæ ‘çš„æ—¶å€™åˆ°äº†
- en: Now letâ€™s demonstrate the result of utilizing many more trees in our tree-based
    boosting model.
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬æ¼”ç¤ºåœ¨åŸºäºæ ‘çš„æå‡æ¨¡å‹ä¸­ä½¿ç”¨æ›´å¤šæ ‘çš„ç»“æœã€‚
- en: we will still work with simple decision stumps, donâ€™t worry we will add more
    later
  id: totrans-574
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»ç„¶ä¼šä½¿ç”¨ç®€å•çš„å†³ç­–æ ‘æ¡©ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬ç¨åä¼šæ·»åŠ æ›´å¤š
- en: '[PRE56]'
  id: totrans-575
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '![_images/ad50902645fae1091779c09e40ad78025d6ddf1261c9d5a405eb2af496ddd2df.png](../Images/3baea417052c8c32978d193e173228b1.png)'
  id: totrans-576
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/3baea417052c8c32978d193e173228b1.png)'
- en: 'See the plaid pattern? It is due to the use of decision stumps, and:'
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹åˆ°æ ¼å­å›¾æ¡ˆäº†å—ï¼Ÿè¿™æ˜¯ç”±äºä½¿ç”¨äº†å†³ç­–æ ‘æ¡©ï¼Œå¹¶ä¸”ï¼š
- en: an additive model
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªåŠ æ€§æ¨¡å‹
- en: all models contribute to all predictions
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‰€æœ‰æ¨¡å‹éƒ½å¯¹æ‰€æœ‰é¢„æµ‹æœ‰è´¡çŒ®
- en: See the dark and bright regions?
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹åˆ°æš—å’Œäº®åŒºåŸŸäº†å—ï¼Ÿ
- en: the additive model may extrapolate outside the data range
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åŠ æ€§æ¨¡å‹å¯èƒ½ä¼šè¶…å‡ºæ•°æ®èŒƒå›´
- en: Letâ€™s cross validate with our testing data to see how our model has improved
    with more trees.
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨æµ‹è¯•æ•°æ®äº¤å‰éªŒè¯ï¼Œçœ‹çœ‹æˆ‘ä»¬çš„æ¨¡å‹éšç€æ›´å¤šæ ‘çš„ä½¿ç”¨æ˜¯å¦‚ä½•æ”¹è¿›çš„ã€‚
- en: '[PRE57]'
  id: totrans-583
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: '![_images/f6fae7eb28cbf98d98c8bfbf82659a7d3bcb67136928521595c9e0374bdc1147.png](../Images/3f37a775a250322ae1595efdbfe1669d.png)'
  id: totrans-584
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/3f37a775a250322ae1595efdbfe1669d.png)'
- en: Around 20 trees we get our best performance and then we start to degrade, we
    are likely starting to overfit the training data.
  id: totrans-585
  prefs: []
  type: TYPE_NORMAL
  zh: å¤§çº¦20æ£µæ ‘æ—¶ï¼Œæˆ‘ä»¬è¾¾åˆ°æœ€ä½³æ€§èƒ½ï¼Œç„¶åå¼€å§‹ä¸‹é™ï¼Œæˆ‘ä»¬å¯èƒ½å¼€å§‹è¿‡åº¦æ‹Ÿåˆè®­ç»ƒæ•°æ®ã€‚
- en: Going Beyond Decision Stumps
  id: totrans-586
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¶…è¶Šå†³ç­–æ ‘æ¡©
- en: As state before with decision stumps we prevent interactions between features.
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚å‰æ‰€è¿°ï¼Œä½¿ç”¨å†³ç­–æ ‘æ¡©æˆ‘ä»¬å¯ä»¥é˜²æ­¢ç‰¹å¾ä¹‹é—´çš„äº¤äº’ã€‚
- en: Letâ€™s extend to tree depth of 2
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ‰©å±•åˆ°æ ‘çš„æ·±åº¦ä¸º2
- en: two nested decisions resulting in 4 terminal nodes
  id: totrans-589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªåµŒå¥—å†³ç­–å¯¼è‡´4ä¸ªç»ˆç«¯èŠ‚ç‚¹
- en: '[PRE58]'
  id: totrans-590
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '![_images/07951866b16ac8dd604974240c5a929632a2a45dccbbed9c7a5b1fcc6d5e3f6e.png](../Images/65161de226c63aae698a6005291afae4.png)'
  id: totrans-591
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/65161de226c63aae698a6005291afae4.png)'
- en: We have much more flexibility now.
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨æœ‰æ›´å¤šçš„çµæ´»æ€§ã€‚
- en: with one tree we have 4 terminal nodes (regions)
  id: totrans-593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”¨ä¸€æ£µæ ‘æˆ‘ä»¬æœ‰4ä¸ªç»ˆç«¯èŠ‚ç‚¹ï¼ˆåŒºåŸŸï¼‰
- en: with only 6 trees we are capturing some complicate features
  id: totrans-594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åªç”¨6æ£µæ ‘ï¼Œæˆ‘ä»¬å°±èƒ½æ•æ‰åˆ°ä¸€äº›å¤æ‚ç‰¹å¾
- en: Letâ€™s increase the tree depth one more time.
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å†æ¬¡å¢åŠ æ ‘çš„æ·±åº¦ã€‚
- en: '[PRE59]'
  id: totrans-596
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: '![_images/aba462916f779681b9aa90d6b1a3a548e3d43d5ad379c5af304e09a38658a793.png](../Images/b36175195239341c3b7ea8c842eea5b7.png)'
  id: totrans-597
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/b36175195239341c3b7ea8c842eea5b7.png)'
- en: One more time, it is common to use trees with depths of 4-8, so letâ€™s try 5.
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
  zh: å†ä¸€æ¬¡ï¼Œä½¿ç”¨æ·±åº¦ä¸º4-8çš„æ ‘æ˜¯å¸¸è§çš„ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å°è¯•5ã€‚
- en: '[PRE60]'
  id: totrans-599
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: '![_images/1739c0986e82122c4de50870f59b64abac148392710ba70c39c9f279197c0704.png](../Images/d2ae5319fcaa86e15b8c1c77df29902e.png)'
  id: totrans-600
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/d2ae5319fcaa86e15b8c1c77df29902e.png)'
- en: Letâ€™s cross validate the model with testing data.
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨æµ‹è¯•æ•°æ®äº¤å‰éªŒè¯æ¨¡å‹ã€‚
- en: '[PRE61]'
  id: totrans-602
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: '![_images/76eb33533b0470061aefadc2a8ad8b34dcd8adaa5de34b3a7fef0efc8af812ca.png](../Images/cdbb3edec9e81f128298ed05c7cd6189.png)'
  id: totrans-603
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/cdbb3edec9e81f128298ed05c7cd6189.png)'
- en: With a max tree depth of 5 our model performance peaks early and the addition
    of more trees has no impact.
  id: totrans-604
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æœ€å¤§æ ‘æ·±åº¦ä¸º5æ—¶ï¼Œæˆ‘ä»¬çš„æ¨¡å‹æ€§èƒ½åœ¨æ—©æœŸè¾¾åˆ°å³°å€¼ï¼Œå¢åŠ æ›´å¤šæ ‘æ²¡æœ‰å½±å“ã€‚
- en: of course this is not a thorough analysis
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå½»åº•çš„åˆ†æã€‚
- en: Letâ€™s try something more thorough
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å°è¯•æ›´æ·±å…¥çš„ä¸œè¥¿ã€‚
- en: we will cross validate models with \(1,\ldots,100\) trees with max tree depths
    of \(1, 2, 3, 10\).
  id: totrans-607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä½¿ç”¨\(1,\ldots,100\)æ£µæ ‘è¿›è¡Œäº¤å‰éªŒè¯ï¼Œæœ€å¤§æ ‘æ·±åº¦ä¸º\(1, 2, 3, 10\)ã€‚
- en: we also slow down the learning rate, I increased it above to amplify the difference
    of the outputs for demonstration, but know we want to see the best possible model.
  id: totrans-608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å‡æ…¢äº†å­¦ä¹ ç‡ï¼Œæˆ‘ä¹‹å‰æé«˜äº†å®ƒä»¥æ”¾å¤§è¾“å‡ºå·®å¼‚çš„æ¼”ç¤ºï¼Œä½†ç°åœ¨æˆ‘ä»¬æƒ³çœ‹åˆ°æœ€ä½³å¯èƒ½çš„æ¨¡å‹ã€‚
- en: '[PRE62]'
  id: totrans-609
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '![_images/ae7e45a290e0fe1fb8cb9fe76b23eff4132746b7765f4629c874d06b593e0ca6.png](../Images/c2ee3e9f993c37a05e91acb8b4ce5baf.png)'
  id: totrans-610
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/c2ee3e9f993c37a05e91acb8b4ce5baf.png)'
- en: 'Thatâ€™s interesting:'
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: éå¸¸æœ‰è¶£ï¼š
- en: with increasing tree depths our model may improve
  id: totrans-612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éšç€æ ‘æ·±åº¦çš„å¢åŠ ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¯èƒ½ä¼šæ”¹è¿›ã€‚
- en: more tree depth requires fewer trees for improved accuracy
  id: totrans-613
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ›´æ·±çš„æ ‘æ·±åº¦éœ€è¦æ›´å°‘çš„æ ‘æ¥æé«˜å‡†ç¡®æ€§ã€‚
- en: with tree depths of 2 and 3 the models behave the same and after 10-15 trees
    level off, they are resistant to overfit
  id: totrans-614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æ ‘æ·±åº¦ä¸º2å’Œ3æ—¶ï¼Œæ¨¡å‹çš„è¡Œä¸ºç›¸åŒï¼Œå¹¶ä¸”åœ¨10-15æ£µæ ‘ä¹‹åè¶‹äºå¹³ç¨³ï¼Œå®ƒä»¬å¯¹è¿‡æ‹Ÿåˆå…·æœ‰æŠµæŠ—åŠ›ã€‚
- en: with tree depth of 10, the number of trees has no impact of model performance
  id: totrans-615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æ ‘æ·±åº¦ä¸º10æ—¶ï¼Œæ ‘çš„æ•°é‡å¯¹æ¨¡å‹æ€§èƒ½æ²¡æœ‰å½±å“ã€‚
- en: Gradient Descent Hyperparameters
  id: totrans-616
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¢¯åº¦ä¸‹é™è¶…å‚æ•°
- en: The learning rate scales the additive impact of each additive tree to the overall
    model prediction.
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: å­¦ä¹ ç‡è°ƒæ•´æ¯ä¸ªæ·»åŠ æ ‘å¯¹æ•´ä½“æ¨¡å‹é¢„æµ‹çš„é™„åŠ å½±å“ã€‚
- en: lower learning rate will slow the convergence to a solution
  id: totrans-618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ›´ä½çš„ learning rate å°†å‡æ…¢æ”¶æ•›åˆ°è§£å†³æ–¹æ¡ˆçš„é€Ÿåº¦ã€‚
- en: lower learning rate will help us not skip over an optimum solution
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ›´ä½çš„ learning rate å°†å¸®åŠ©æˆ‘ä»¬ä¸ä¼šè·³è¿‡æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚
- en: We wonâ€™t spend much time on this, but letâ€™s just try changing the learning rate.
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¸ä¼šåœ¨è¿™ä¸ªé—®é¢˜ä¸ŠèŠ±è´¹å¤ªå¤šæ—¶é—´ï¼Œä½†è®©æˆ‘ä»¬è¯•ç€æ”¹å˜å­¦ä¹ ç‡ã€‚
- en: '[PRE63]'
  id: totrans-621
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '![_images/011852fab9e64d42c5e7ac6bcaa69e4f061994730784f35584ff27e0d4ba9831.png](../Images/d130f276273e2b117adb7bf8d1768618.png)'
  id: totrans-622
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/d130f276273e2b117adb7bf8d1768618.png)'
- en: Once again, a very interesting result.
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡å¼ºè°ƒï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„ç»“æœã€‚
- en: regardless of tree complexity, it is better to learn slowly!
  id: totrans-624
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ— è®ºæ ‘å¤æ‚åº¦å¦‚ä½•ï¼Œç¼“æ…¢å­¦ä¹ æ€»æ˜¯æ›´å¥½çš„ï¼
- en: Machine Learning Pipelines for Clean, Compact Machine Learning Code
  id: totrans-625
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¸…æ´ã€ç´§å‡‘çš„æœºå™¨å­¦ä¹ ä»£ç çš„æœºå™¨å­¦ä¹ ç®¡é“
- en: Pipelines are a scikit-learn class that allows for the encapsulation of a sequence
    of data preparation and modeling steps
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: ç®¡é“æ˜¯scikit-learnä¸­çš„ä¸€ä¸ªç±»ï¼Œå®ƒå…è®¸å°è£…ä¸€ç³»åˆ—æ•°æ®å‡†å¤‡å’Œå»ºæ¨¡æ­¥éª¤ã€‚
- en: then we can treat the pipeline as an object in our much condensed workflow
  id: totrans-627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å°†ç®¡é“è§†ä¸ºæˆ‘ä»¬é«˜åº¦æµ“ç¼©çš„å·¥ä½œæµç¨‹ä¸­çš„ä¸€ä¸ªå¯¹è±¡ã€‚
- en: 'The pipeline class allows us to:'
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: ç®¡é“ç±»å…è®¸æˆ‘ä»¬ï¼š
- en: improve code readability and to keep everything straight
  id: totrans-629
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æé«˜ä»£ç å¯è¯»æ€§ï¼Œå¹¶ä¿æŒä¸€åˆ‡äº•ç„¶æœ‰åºã€‚
- en: build complete workflows with very few lines of readable code
  id: totrans-630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”¨éå¸¸å°‘çš„å¯è¯»ä»£ç æ„å»ºå®Œæ•´çš„æµç¨‹ã€‚
- en: avoid common workflow problems like data leakage, testing data informing model
    parameter training
  id: totrans-631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¿å…å¸¸è§çš„æµç¨‹é—®é¢˜ï¼Œå¦‚æ•°æ®æ³„éœ²ï¼Œæµ‹è¯•æ•°æ®å½±å“æ¨¡å‹å‚æ•°è®­ç»ƒã€‚
- en: abstract common machine learning modeling and focus on building the best model
    possible
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æŠ½è±¡å¸¸è§çš„æœºå™¨å­¦ä¹ å»ºæ¨¡ï¼Œä¸“æ³¨äºæ„å»ºå°½å¯èƒ½å¥½çš„æ¨¡å‹ã€‚
- en: The fundamental philosophy is to treat machine learning as a combinatorial search
    to find the best model (AutoML)
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬å“²å­¦æ˜¯å°†æœºå™¨å­¦ä¹ è§†ä¸ºç»„åˆæœç´¢ä»¥æ‰¾åˆ°æœ€ä½³æ¨¡å‹ï¼ˆAutoMLï¼‰ã€‚
- en: For more information see my recorded lecture on [Machine Learning Pipelines](https://www.youtube.com/watch?v=tYrPs8s1l9U&list=PLG19vXLQHvSAufDFgZEFAYQEwMJXklnQV&index=5)
    and a well-documented demonstration [Machine Learning Pipeline Workflow](http://localhost:8892/notebooks/OneDrive%20-%20The%20University%20of%20Texas%20at%20Austin/Courses/Workflows/PythonDataBasics_Pipelines.ipynb).
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´å¤šä¿¡æ¯è¯·å‚é˜…æˆ‘å…³äº[æœºå™¨å­¦ä¹ ç®¡é“](https://www.youtube.com/watch?v=tYrPs8s1l9U&list=PLG19vXLQHvSAufDFgZEFAYQEwMJXklnQV&index=5)çš„å½•éŸ³è®²åº§å’Œä¸€ä»½è¯¦ç»†è®°å½•çš„æ¼”ç¤º[æœºå™¨å­¦ä¹ ç®¡é“å·¥ä½œæµç¨‹](http://localhost:8892/notebooks/OneDrive%20-%20The%20University%20of%20Texas%20at%20Austin/Courses/Workflows/PythonDataBasics_Pipelines.ipynb)ã€‚
- en: '[PRE64]'
  id: totrans-635
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: '[PRE65]'
  id: totrans-636
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: Comments
  id: totrans-637
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ³¨é‡Š
- en: I hope you found this chapter helpful. Much more could be done and discussed,
    I have many more resources. Check out my [shared resource inventory](https://michaelpyrcz.com/my-resources),
  id: totrans-638
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›ä½ å‘ç°è¿™ä¸€ç« å¾ˆæœ‰å¸®åŠ©ã€‚è¿˜æœ‰å¾ˆå¤šå¯ä»¥åšçš„å’Œè®¨è®ºçš„ï¼Œæˆ‘æœ‰å¾ˆå¤šæ›´å¤šçš„èµ„æºã€‚æŸ¥çœ‹æˆ‘çš„[å…±äº«èµ„æºæ¸…å•](https://michaelpyrcz.com/my-resources)ï¼Œ
- en: '*Michael*'
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿ˆå…‹å°”*'
- en: 'The Author:'
  id: totrans-640
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½œè€…ï¼š
- en: Michael Pyrcz, Professor, The University of Texas at Austin *Novel Data Analytics,
    Geostatistics and Machine Learning Subsurface Solutions*
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡ï¼Œæ•™æˆï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡ *æ–°é¢–çš„æ•°æ®åˆ†æã€åœ°çƒç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ åœ°ä¸‹è§£å†³æ–¹æ¡ˆ*
- en: With over 17 years of experience in subsurface consulting, research and development,
    Michael has returned to academia driven by his passion for teaching and enthusiasm
    for enhancing engineersâ€™ and geoscientistsâ€™ impact in subsurface resource development.
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åœ°ä¸‹å’¨è¯¢ã€ç ”ç©¶å’Œå¼€å‘æ–¹é¢æ‹¥æœ‰è¶…è¿‡17å¹´çš„ç»éªŒï¼Œè¿ˆå…‹å°”å› ä»–å¯¹æ•™å­¦çš„çƒ­æƒ…å’Œå¯¹å¢å¼ºå·¥ç¨‹å¸ˆå’Œåœ°çƒç§‘å­¦å®¶åœ¨åœ°ä¸‹èµ„æºå¼€å‘ä¸­å½±å“çš„çƒ­æƒ…è€Œé‡è¿”å­¦æœ¯ç•Œã€‚
- en: 'For more about Michael check out these links:'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´å¤šå…³äºè¿ˆå…‹å°”çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹é“¾æ¥ï¼š
- en: '[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [Website](http://michaelpyrcz.com) | [GoogleScholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [Book](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Applied
    Geostats in Python e-book](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
  id: totrans-644
  prefs: []
  type: TYPE_NORMAL
  zh: '[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [ç½‘ç«™](http://michaelpyrcz.com) | [Google Scholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [ä¹¦ç±](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Pythonä¸­çš„åº”ç”¨åœ°çƒç»Ÿè®¡å­¦ç”µå­ä¹¦](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
- en: Want to Work Together?
  id: totrans-645
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æƒ³ä¸€èµ·å·¥ä½œå—ï¼Ÿ
- en: I hope this content is helpful to those that want to learn more about subsurface
    modeling, data analytics and machine learning. Students and working professionals
    are welcome to participate.
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›è¿™äº›å†…å®¹å¯¹é‚£äº›æƒ³äº†è§£æ›´å¤šå…³äºåœ°ä¸‹å»ºæ¨¡ã€æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººæœ‰æ‰€å¸®åŠ©ã€‚å­¦ç”Ÿå’Œåœ¨èŒä¸“ä¸šäººå£«éƒ½æ¬¢è¿å‚ä¸ã€‚
- en: Want to invite me to visit your company for training, mentoring, project review,
    workflow design and / or consulting? Iâ€™d be happy to drop by and work with you!
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æƒ³é‚€è¯·æˆ‘åˆ°è´µå…¬å¸è¿›è¡ŒåŸ¹è®­ã€è¾…å¯¼ã€é¡¹ç›®å®¡æŸ¥ã€å·¥ä½œæµç¨‹è®¾è®¡å’Œ/æˆ–å’¨è¯¢å—ï¼Ÿæˆ‘å¾ˆä¹æ„æ‹œè®¿å¹¶ä¸æ‚¨åˆä½œï¼
- en: Interested in partnering, supporting my graduate student research or my Subsurface
    Data Analytics and Machine Learning consortium (co-PI is Professor John Foster)?
    My research combines data analytics, stochastic modeling and machine learning
    theory with practice to develop novel methods and workflows to add value. We are
    solving challenging subsurface problems!
  id: totrans-648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„Ÿå…´è¶£åˆä½œï¼Œæ”¯æŒæˆ‘çš„ç ”ç©¶ç”Ÿç ”ç©¶æˆ–æˆ‘çš„åœ°ä¸‹æ•°æ®åˆ†æä¸æœºå™¨å­¦ä¹ è”ç›Ÿï¼ˆå…±åŒè´Ÿè´£äººæ˜¯çº¦ç¿°Â·ç¦æ–¯ç‰¹æ•™æˆï¼‰å—ï¼Ÿæˆ‘çš„ç ”ç©¶ç»“åˆæ•°æ®åˆ†æã€éšæœºå»ºæ¨¡å’Œæœºå™¨å­¦ä¹ ç†è®ºä¸å®è·µï¼Œå¼€å‘æ–°çš„æ–¹æ³•å’Œå·¥ä½œæµç¨‹ä»¥å¢åŠ ä»·å€¼ã€‚æˆ‘ä»¬æ­£åœ¨è§£å†³å…·æœ‰æŒ‘æˆ˜æ€§çš„åœ°ä¸‹é—®é¢˜ï¼
- en: I can be reached at [mpyrcz@austin.utexas.edu](mailto:mpyrcz%40austin.utexas.edu).
  id: totrans-649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥é€šè¿‡[mpyrcz@austin.utexas.edu](mailto:mpyrcz%40austin.utexas.edu)è”ç³»æˆ‘ã€‚
- en: Iâ€™m always happy to discuss,
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ€»æ˜¯å¾ˆé«˜å…´è®¨è®ºï¼Œ
- en: '*Michael*'
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿ˆå…‹å°”*'
- en: Michael Pyrcz, Ph.D., P.Eng. Professor, Cockrell School of Engineering and The
    Jackson School of Geosciences, The University of Texas at Austin
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡ï¼Œåšå£«ï¼ŒP.Eng. æ•™æˆï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡çš„ç§‘å…‹é›·å°”å·¥ç¨‹å­¦é™¢å’Œæ°å…‹é€Šåœ°çƒç§‘å­¦å­¦é™¢
- en: 'More Resources Available at: [Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [Website](http://michaelpyrcz.com) | [GoogleScholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [Book](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Applied
    Geostats in Python e-book](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
  id: totrans-653
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ›´å¤šèµ„æºå¯åœ¨ä»¥ä¸‹é“¾æ¥è·å–ï¼š[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [ç½‘ç«™](http://michaelpyrcz.com) | [Google Scholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [ä¹¦ç±](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Pythonä¸­çš„åº”ç”¨åœ°çƒç»Ÿè®¡å­¦ç”µå­ä¹¦](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)
