- en: Resizing
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://rust-exercises.com/100-exercises/06_ticket_management/03_resizing.html](https://rust-exercises.com/100-exercises/06_ticket_management/03_resizing.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: We said that `Vec` is a "growable" vector type, but what does that mean? What
    happens if you try to insert an element into a `Vec` that's already at maximum
    capacity?
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The `Vec` will **resize** itself.
  prefs: []
  type: TYPE_NORMAL
- en: It will ask the allocator for a new (larger) chunk of heap memory, copy the
    elements over, and deallocate the old memory.
  prefs: []
  type: TYPE_NORMAL
- en: This operation can be expensive, as it involves a new memory allocation and
    copying all existing elements.
  prefs: []
  type: TYPE_NORMAL
- en: '[`Vec::with_capacity`](#vecwith_capacity)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you have a rough idea of how many elements you'll store in a `Vec`, you can
    use the `Vec::with_capacity` method to pre-allocate enough memory upfront.
  prefs: []
  type: TYPE_NORMAL
- en: This can avoid a new allocation when the `Vec` grows, but it may waste memory
    if you overestimate actual usage.
  prefs: []
  type: TYPE_NORMAL
- en: Evaluate on a case-by-case basis.
  prefs: []
  type: TYPE_NORMAL
- en: '[Exercise](#exercise)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The exercise for this section is located in [`06_ticket_management/03_resizing`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/06_ticket_management/03_resizing)
  prefs: []
  type: TYPE_NORMAL
