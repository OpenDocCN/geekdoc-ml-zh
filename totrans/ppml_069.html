<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Mutable slices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Mutable slices</h1>
<blockquote>原文：<a href="https://rust-exercises.com/100-exercises/06_ticket_management/11_mutable_slices.html">https://rust-exercises.com/100-exercises/06_ticket_management/11_mutable_slices.html</a></blockquote>
                        
<p>Every time we've talked about slice types (like <code>str</code> and <code>[T]</code>), we've used their immutable borrow form (<code>&amp;str</code> and <code>&amp;[T]</code>).<br/>
But slices can also be mutable!</p>
<p>Here's how you create a mutable slice:</p>
<pre><code class="language-rust">let mut numbers = vec![1, 2, 3];
let slice: &amp;mut [i32] = &amp;mut numbers;</code></pre>
<p>You can then modify the elements in the slice:</p>
<pre><code class="language-rust">slice[0] = 42;</code></pre>
<p>This will change the first element of the <code>Vec</code> to <code>42</code>.</p>
<h2 id="limitations"><a class="header" href="#limitations">Limitations</a></h2>
<p>When working with immutable borrows, the recommendation was clear: prefer slice references over references to
the owned type (e.g. <code>&amp;[T]</code> over <code>&amp;Vec&lt;T&gt;</code>).<br/>
That's <strong>not</strong> the case with mutable borrows.</p>
<p>Consider this scenario:</p>
<pre><code class="language-rust">let mut numbers = Vec::with_capacity(2);
let mut slice: &amp;mut [i32] = &amp;mut numbers;
slice.push(1);</code></pre>
<p>It won't compile!<br/>
<code>push</code> is a method on <code>Vec</code>, not on slices. This is the manifestation of a more general principle: Rust won't
allow you to add or remove elements from a slice. You will only be able to modify/replace the elements that are
already there.</p>
<p>In this regard, a <code>&amp;mut Vec</code> or a <code>&amp;mut String</code> are strictly more powerful than a <code>&amp;mut [T]</code> or a <code>&amp;mut str</code>.<br/>
Choose the type that best fits based on the operations you need to perform.</p>
<h2 id="exercise"><a class="header" href="#exercise">Exercise</a></h2>
<p>The exercise for this section is located in <a href="https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/06_ticket_management/11_mutable_slices"><code>06_ticket_management/11_mutable_slices</code></a></p>

                        
</body>
</html>