<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>.iter()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>.iter()</h1>
<blockquote>原文：<a href="https://rust-exercises.com/100-exercises/06_ticket_management/05_iter.html">https://rust-exercises.com/100-exercises/06_ticket_management/05_iter.html</a></blockquote>
                        
<p><code>IntoIterator</code> <strong>consumes</strong> <code>self</code> to create an iterator.</p>
<p>This has its benefits: you get <strong>owned</strong> values from the iterator.
For example: if you call <code>.into_iter()</code> on a <code>Vec&lt;Ticket&gt;</code> you'll get an iterator that returns <code>Ticket</code> values.</p>
<p>That's also its downside: you can no longer use the original collection after calling <code>.into_iter()</code> on it.
Quite often you want to iterate over a collection without consuming it, looking at <strong>references</strong> to the values instead.
In the case of <code>Vec&lt;Ticket&gt;</code>, you'd want to iterate over <code>&amp;Ticket</code> values.</p>
<p>Most collections expose a method called <code>.iter()</code> that returns an iterator over references to the collection's elements.
For example:</p>
<pre><code class="language-rust">let numbers: Vec&lt;u32&gt; = vec![1, 2];
// `n` has type `&amp;u32` here
for n in numbers.iter() {
    // [...]
}</code></pre>
<p>This pattern can be simplified by implementing <code>IntoIterator</code> for a <strong>reference to the collection</strong>.
In our example above, that would be <code>&amp;Vec&lt;Ticket&gt;</code>.<br/>
The standard library does this, that's why the following code works:</p>
<pre><code class="language-rust">let numbers: Vec&lt;u32&gt; = vec![1, 2];
// `n` has type `&amp;u32` here
// We didn't have to call `.iter()` explicitly
// It was enough to use `&amp;numbers` in the `for` loop
for n in &amp;numbers {
    // [...]
}</code></pre>
<p>It's idiomatic to provide both options:</p>
<ul>
<li>An implementation of <code>IntoIterator</code> for a reference to the collection.</li>
<li>An <code>.iter()</code> method that returns an iterator over references to the collection's elements.</li>
</ul>
<p>The former is convenient in <code>for</code> loops, the latter is more explicit and can be used in other contexts.</p>
<h2 id="exercise"><a class="header" href="#exercise">Exercise</a></h2>
<p>The exercise for this section is located in <a href="https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/06_ticket_management/05_iter"><code>06_ticket_management/05_iter</code></a></p>

                        
</body>
</html>