["```py\npython3 -m venv ~/ollama\nsource ~/ollama/bin/activate\n```", "```py\ncurl -fsSL https://ollama.com/install.sh | sh\n```", "```py\nollama -v\n```", "```py\nollama run llama3.2:1b\n```", "```py\nThe latitude and longitude of Paris are 48.8567Â° N (48Â°55'\n42\" N) and 2.3510Â° E (2Â°22' 8\" E), respectively.\n```", "```py\nollama run gemma2:2b --verbose\n```", "```py\n>>> What is the distance between Paris and Santiago, Chile?\n\nThe distance between Paris, France and Santiago, Chile is\napproximately **7,000 miles (11,267 kilometers)**.\n\nKeep in mind that this is a straight-line distance, and actual\ntravel distance can vary depending on the chosen routes and any\nstops along the way. âœˆï¸`\n```", "```py\n>>> what is the latitude and longitude of Paris?\n\nYou got it! Here are the latitudes and longitudes of Paris,\nFrance:\n\n* **Latitude**: 48.8566Â° N (north)\n* **Longitude**: 2.3522Â° E (east)\n\nLet me know if you'd like to explore more about Paris or its\nlocation! ðŸ—¼ðŸ‡«ðŸ‡·\n```", "```py\nollama run phi3.5:3.8b --verbose\n```", "```py\n>>> What is the capital of France?\n\nThe capital of France is Paris. It' extradites significant\nhistorical, cultural, and political importance to the country as\nwell as being a major European city known for its art, fashion,\ngastronomy, and culture. Its influence extends beyond national\nborders, with millions of tourists visiting each year from around\nthe globe. The Seine River flows through Paris before it reaches\nthe broader English Channel at Le Havre. Moreover, France is one\nof Europe's leading economies with its capital playing a key role\n\n...\n```", "```py\nollama run llava-phi3:3.8b --verbose\n```", "```py\n>>> You are a helpful AI assistant.\n    What is the capital of France?\n\nAs an AI language model, I can tell you that the capital of\nFrance is Paris. It's not only the largest city in the country\nbut also serves as its political and administrative center.\nParis is known for its iconic landmarks such as the Eiffel\nTower, Notre-Dame Cathedral, and the Louvre Museum. The city\nhas a rich history, beautiful architecture, and is widely\nconsidered to be one of the most romantic cities in the world.\n```", "```py\ncd Documents/\nmkdir OLLAMA\ncd OLLAMA\n```", "```py\n>>> Describe the image /home/mjrovai/Documents/OLLAMA/\\\n                        image_test_1.jpg\n```", "```py\nhtop\n```", "```py\nvcgencmd measure_temp\n```", "```py\npip install ollama\n```", "```py\npip install jupyter\njupyter notebook --generate-config\n```", "```py\njupyter notebook --ip=192.168.4.209 --no-browser\n```", "```py\nimport ollama\n\nollama.list()\n```", "```py\n  {'name': 'gemma2:2b',\n   'model': 'gemma2:2b',\n   'modified_at': '2024-09-24T19:30:40.053898094+01:00',\n   'size': 1629518495,\n   'digest': (\n     '8ccf136fdd5298f3ffe2d69862750ea7fb56555fa4d5b18c0'\n     '4e3fa4d82ee09d7'\n    ),\n\n   'details': {'parent_model': '',\n    'format': 'gguf',\n    'family': 'gemma2',\n    'families': ['gemma2'],\n    'parameter_size': '2.6B',\n    'quantization_level': 'Q4_0'}}]}\n```", "```py\nMODEL = \"gemma2:2b\"\nPROMPT = \"What is the capital of France?\"\n\nres = ollama.generate(model=MODEL, prompt=PROMPT)\nprint(res)\n```", "```py\npython test_ollama.py\n```", "```py\n{\n  'model': 'gemma2:2b',\n  'created_at': '2024-09-25T14:43:31.869633807Z',\n  'response': 'The capital of France is **Paris**.\\n',\n  'done': True,\n  'done_reason': 'stop',\n  'context': [\n      106, 1645, 108, 1841, 603, 573, 6037, 576, 6081, 235336,\n      107, 108, 106, 2516, 108, 651, 6037, 576, 6081, 603, 5231,\n      29437, 168428, 235248, 244304, 241035, 235248, 108\n  ],\n  'total_duration': 24259469458,\n  'load_duration': 19830013859,\n  'prompt_eval_count': 16,\n  'prompt_eval_duration': 1908757000,\n  'eval_count': 14,\n  'eval_duration': 2475410000\n}\n```", "```py\nprint(f\"\\n{res['response']}\")\nprint(\n    f\"\\n [INFO] Total Duration: \"\n    f\"{res['total_duration']/1e9:.2f} seconds\"\n)\n```", "```py\nThe capital of France is **Paris**. ðŸ‡«ðŸ‡·\n\n [INFO] Total Duration: 24.26 seconds\n```", "```py\nPROMPT_1 = \"What is the capital of France?\"\n\nresponse = ollama.chat(\n    model=MODEL,\n    messages=[\n        {\n            \"role\": \"user\",\n            \"content\": PROMPT_1,\n        },\n    ],\n)\nresp_1 = response[\"message\"][\"content\"]\nprint(f\"\\n{resp_1}\")\nprint(\n    f\"\\n [INFO] Total Duration: \"\n    f\"{(res['total_duration']/1e9):.2f} seconds\"\n)\n```", "```py\nPROMPT_1 = \"What is the capital of France?\"\nresponse = ollama.chat(\n    model=MODEL,\n    messages=[\n        {\n            \"role\": \"user\",\n            \"content\": PROMPT_1,\n        },\n    ],\n)\nresp_1 = response[\"message\"][\"content\"]\nprint(f\"\\n{resp_1}\")\nprint(\n    f\"\\n [INFO] Total Duration: \"\n    f\"{(response['total_duration']/1e9):.2f} seconds\"\n)\n\nPROMPT_2 = \"and of Italy?\"\nresponse = ollama.chat(\n    model=MODEL,\n    messages=[\n        {\n            \"role\": \"user\",\n            \"content\": PROMPT_1,\n        },\n        {\n            \"role\": \"assistant\",\n            \"content\": resp_1,\n        },\n        {\n            \"role\": \"user\",\n            \"content\": PROMPT_2,\n        },\n    ],\n)\nresp_2 = response[\"message\"][\"content\"]\nprint(f\"\\n{resp_2}\")\nprint(\n    f\"\\n [INFO] Total Duration: \"\n    f\"{(response_2['total_duration']/1e9):.2f} seconds\"\n)\n```", "```py\nThe capital of France is **Paris**. ðŸ‡«ðŸ‡·\n\n [INFO] Total Duration: 2.82 seconds\n\nThe capital of Italy is **Rome**. ðŸ‡®ðŸ‡¹\n\n [INFO] Total Duration: 4.46 seconds\n```", "```py\nMODEL = \"llava-phi3:3.8b\"\nPROMPT = \"Describe this picture\"\n\nwith open(\"image_test_1.jpg\", \"rb\") as image_file:\n    img = image_file.read()\n\nresponse = ollama.generate(model=MODEL, prompt=PROMPT, images=[img])\nprint(f\"\\n{response['response']}\")\nprint(\n    f\"\\n [INFO] Total Duration: \"\n    f\"{(res['total_duration']/1e9):.2f} seconds\"\n)\n```", "```py\nThis image captures the iconic cityscape of Paris, France. The\nvantage point is high, providing a panoramic view of the Seine\nRiver that meanders through the heart of the city. Several\nbridges arch gracefully over the river, connecting different\nparts of the city. The Eiffel Tower, an iron lattice structure\nwith a pointed top and two antennas on its summit, stands\ntall in the background, piercing the sky. It is painted in a\nlight gray color, contrasting against the blue sky speckled\nwith white clouds.\n\nThe buildings that line the river are predominantly white or\nbeige, their uniform color palette broken occasionally by red\nroofs peeking through. The Seine River itself appears calm\nand wide, reflecting the city's architectural beauty in its\nsurface. On either side of the river, trees add a touch of\ngreen to the urban landscape.\n\nThe image is taken from an elevated perspective, looking down\non the city. This viewpoint allows for a comprehensive view of\nParis's beautiful architecture and layout. The relative\npositions of the buildings, bridges, and other structures\ncreate a harmonious composition that showcases the city's charm.\n\nIn summary, this image presents a serene day in Paris, with its\narchitectural marvels - from the Eiffel Tower to the river-side\nbuildings - all bathed in soft colors under a clear sky.\n\n [INFO] Total Duration: 256.45 seconds\n```", "```py\npip install haversine\npip install openai\npip install pydantic\npip install instructor\n```", "```py\nimport sys\nfrom haversine import haversine\nfrom openai import OpenAI\nfrom pydantic import BaseModel, Field\nimport instructor\n```", "```py\ncountry = sys.argv[1]  # Get the country from\n# command-line arguments\nMODEL = \"phi3.5:3.8b\"  # The name of the model to be used\nmylat = -33.33  # Latitude of Santiago de Chile\nmylon = -70.51  # Longitude of Santiago de Chile\n```", "```py\nclass CityCoord(BaseModel):\n    city: str = Field(..., description=\"Name of the city\")\n    lat: float = Field(\n        ..., description=\"Decimal Latitude of the city\"\n    )\n    lon: float = Field(\n        ..., description=\"Decimal Longitude of the city\"\n    )\n```", "```py\nclient = instructor.patch(\n    OpenAI(\n        base_url=\"http://localhost:11434/v1\",  # Local API base\n        # URL (Ollama)\n        api_key=\"ollama\",  # API key\n        # (not used)\n    ),\n    mode=instructor.Mode.JSON,  # Mode for\n    # structured\n    # JSON output\n)\n```", "```py\nresp = client.chat.completions.create(\n    model=MODEL,\n    messages=[\n        {\n            \"role\": \"user\",\n            \"content\": f\"return the decimal latitude and \\\n decimal longitude of the capital of the {country}.\",\n        }\n    ],\n    response_model=CityCoord,\n    max_retries=10,\n)\n```", "```py\ndistance = haversine((mylat, mylon), (resp.lat, resp.lon), unit=\"km\")\n\nprint(\n    f\"Santiago de Chile is about {int(round(distance, -1))} \"\n    f\"kilometers away from {resp.city}.\"\n)\n```", "```py\nSantiago de Chile is about 8,060 kilometers away from\n    Washington, D.C..\nSantiago de Chile is about 4,250 kilometers away from BogotÃ¡.\nSantiago de Chile is about 11,630 kilometers away from Paris.\n```", "```py\nimport sys\nimport time\nfrom haversine import haversine\nimport ollama\nfrom openai import OpenAI\nfrom pydantic import BaseModel, Field\nimport instructor\n```", "```py\nimport matplotlib.pyplot as plt\nfrom PIL import Image\n```", "```py\nMODEL = \"llava-phi3:3.8b\"\nmylat = -33.33\nmylon = -70.51\n```", "```py\n# Load the image\nimg_path = \"image_test_3.jpg\"\nimg = Image.open(img_path)\n\n# Display the image\nplt.figure(figsize=(8, 8))\nplt.imshow(img)\nplt.axis(\"off\")\n# plt.title(\"Image\")\nplt.show()\n```", "```py\ndef image_description(img_path):\n    with open(img_path, \"rb\") as file:\n        response = ollama.chat(\n            model=MODEL,\n            messages=[\n                {\n                    \"role\": \"user\",\n                    \"content\": \"\"\"return the decimal latitude and \\\n decimal longitude of the city in the image, \\\n its name, and what country it is located\"\"\",\n                    \"images\": [file.read()],\n                },\n            ],\n            options={\n                \"temperature\": 0,\n            },\n        )\n    # print(response['message']['content'])\n    return response[\"message\"][\"content\"]\n```", "```py\nstart_time = time.perf_counter()  # Start timing\n\n\nclass CityCoord(BaseModel):\n    city: str = Field(\n        ..., description=\"Name of the city in the image\"\n    )\n    country: str = Field(\n        ...,\n        description=(\n            \"Name of the country where \"\n            \"the city in the image is located\"\n        ),\n    )\n    lat: float = Field(\n        ...,\n        description=(\"Decimal latitude of the city in \" \"the image\"),\n    )\n    lon: float = Field(\n        ...,\n        description=(\"Decimal longitude of the city in \" \"the image\"),\n    )\n\n\n# enables `response_model` in create call\nclient = instructor.patch(\n    OpenAI(base_url=\"http://localhost:11434/v1\", api_key=\"ollama\"),\n    mode=instructor.Mode.JSON,\n)\n\nimage_description = image_description(img_path)\n# Send this description to the model\nresp = client.chat.completions.create(\n    model=MODEL,\n    messages=[\n        {\n            \"role\": \"user\",\n            \"content\": image_description,\n        }\n    ],\n    response_model=CityCoord,\n    max_retries=10,\n    temperature=0,\n)\n```", "```py\nThe image shows the ancient city of Machu Picchu, located in\nPeru. The city is perched on a steep hillside and consists of\nvarious structures made of stone. It is surrounded by lush\ngreenery and towering mountains. The sky above is blue with\nscattered clouds.\n\nMachu Picchu's latitude is approximately 13.5086Â° S, and its\nlongitude is around 72.5494Â° W.\n```", "```py\nCityCoord(city='Machu Picchu', country='Peru', lat=-13.5086,\n                lon=-72.5494)\n```", "```py\ndistance = haversine((mylat, mylon), (resp.lat, resp.lon), unit=\"km\")\n\nprint(\n    (\n        f\"\\nThe image shows {resp.city}, with lat: \"\n        f\"{round(resp.lat, 2)} and long: \"\n        f\"{round(resp.lon, 2)}, located in \"\n        f\"{resp.country} and about \"\n        f\"{int(round(distance, -1)):,} kilometers \"\n        f\"away from Santiago, Chile.\\n\"\n    )\n)\n\nend_time = time.perf_counter()  # End timing\nelapsed_time = end_time - start_time  # Calculate elapsed time\nprint(\n    f\"[INFO] ==> The code (running {MODEL}), \"\n    f\"took {elapsed_time:.1f} seconds to execute.\\n\"\n)\n```", "```py\n The image shows Machu Picchu, with lat:-13.16 and long:\n -72.54, located in Peru  and about 2,250 kilometers away\n from Santiago, Chile.\n\nprint(\n    f\"[INFO] ==> The code (running {MODEL}), \"\n    f\"took {elapsed_time:.1f} seconds \"\n    f\"to execute.\\n\"\n)\n```", "```py\npython calc_distance_image.py \\\n  /home/mjrovai/Documents/OLLAMA/image_test_3.jpg\n```", "```py\npip install ollama chromadb\n```", "```py\nollama pull nomic-embed-text\n```", "```py\ncd Documents/OLLAMA/\nmkdir RAG-simple-bee\ncd RAG-simple-bee/\n```", "```py\nimport ollama\nimport chromadb\nimport time\n```", "```py\nEMB_MODEL = \"nomic-embed-text\"\nMODEL = \"llama3.2:3B\"\n```", "```py\ndocuments = [\n    \"Bee-keeping, also known as apiculture, involves the \\\n maintenance of bee colonies, typically in hives, by humans.\",\n    \"The most commonly kept species of bees is the European \\\n honey bee (Apis  mellifera).\",\n\n    ...\n\n    \"There are another 20,000 different bee species in \\\n the world.\",\n    \"Brazil alone has more than 300 different bee species, and \\\n the vast majority, unlike western honey bees, donâ€™t sting.\",\n    \"Reports written in 1577 by Hans Staden, mention three \\\n native bees used by indigenous people in Brazil.\", \\\n    \"The indigenous people in Brazil used bees for medicine \\\n and food purposes\",\n    \"From Hans Staden report: probable species: mandaÃ§aia \\\n (Melipona quadrifasciata), mandaguari (Scaptotrigona \\\n postica) and jataÃ­-amarela (Tetragonisca angustula).\"\n]\n```", "```py\nclient = chromadb.Client()\ncollection = client.create_collection(name=\"bee_facts\")\n\n# store each document in a vector embedding database\nfor i, d in enumerate(documents):\n    response = ollama.embeddings(model=EMB_MODEL, prompt=d)\n    embedding = response[\"embedding\"]\n    collection.add(\n        ids=[str(i)], embeddings=[embedding], documents=[d]\n    )\n```", "```py\nprompt = \"How many bees are in a colony? Who lays eggs and \\\n how much? How about common pests and diseases?\"\n```", "```py\nresponse = ollama.embeddings(prompt=prompt, model=EMB_MODEL)\n```", "```py\nresults = collection.query(\n    query_embeddings=[response[\"embedding\"]], n_results=5\n)\ndata = results[\"documents\"]\n```", "```py\nprompt = (\n    f\"Using this data: {data}. \" f\"Respond to this prompt: {prompt}\"\n)\n```", "```py\noutput = ollama.generate(\n  model=MODEL,\n  prompt = (\n      f\"Using this data: {data}. \"\n      f\"Respond to this prompt: {prompt}\"\n  )\n\n  options={\n    \"temperature\": 0.0,\n    \"top_k\":10,\n    \"top_p\":0.5                          }\n)\n```", "```py\nprint(output[\"response\"])\n```", "```py\nBased on the provided data, here are the answers to your \\\nquestions:\n\n1. How many bees are in a colony?\nA typical bee colony can contain between 20,000 and 80,000 bees.\n\n2. Who lays eggs and how much?\nThe queen bee lays up to 2,000 eggs per day during peak seasons.\n\n3. What about common pests and diseases?\nCommon pests and diseases that affect bees include varroa \\\nmites, hive beetles, and foulbrood.\n```", "```py\ndef rag_bees(prompt, n_results=5, temp=0.0, top_k=10, top_p=0.5):\n    start_time = time.perf_counter()  # Start timing\n\n    # generate an embedding for the prompt and retrieve the data\n    response = ollama.embeddings(\n      prompt=prompt,\n      model=EMB_MODEL\n    )\n\n    results = collection.query(\n      query_embeddings=[response[\"embedding\"]],\n      n_results=n_results\n    )\n    data = results['documents']\n\n    # generate a response combining the prompt and data retrieved\n    output = ollama.generate(\n      model=MODEL,\n      prompt = (\n         f\"Using this data: {data}. \"\n         f\"Respond to this prompt: {prompt}\"\n      )\n\n      options={\n        \"temperature\": temp,\n        \"top_k\": top_k,\n        \"top_p\": top_p                          }\n    )\n\n    print(output['response'])\n\n    end_time = time.perf_counter()  # End timing\n    elapsed_time = round(\n       (end_time - start_time), 1\n    )  # Calculate elapsed time\n\nprint(\n    f\"\\n[INFO] ==> The code for model: {MODEL}, \"\n    f\"took {elapsed_time}s to generate the answer.\\n\"\n)\n\n    print(\n       f\"\\n[INFO] ==> The code for model: {MODEL}, \"\n       f\"took {elapsed_time}s to generate the answer.\\n\"\n    )\n```", "```py\nprompt = \"Are bees in Brazil?\"\nrag_bees(prompt)\n```", "```py\nYes, bees are found in Brazil. According to the data, Brazil \\\nhas more than 300 different bee species, and indigenous people \\\nin Brazil used bees for medicine and food purposes. \\\nAdditionally, reports from 1577 mention three native bees \\\nused by indigenous people in Brazil.\n\n [INFO] ==> The code for model: llama3.2:3b, took 22.7s to \\\n generate the answer.\n```", "```py\nprompt = \"Existem abelhas no Brazil?\"\nrag_bees(prompt)\n```", "```py\nSim, existem abelhas no Brasil! De acordo com o relato de Hans \\\nStaden, hÃ¡ trÃªs espÃ©cies de abelhas nativas do Brasil que \\\nforam mencionadas: mandaÃ§aia (Melipona quadrifasciata), \\\nmandaguari (Scaptotrigona postica) e jataÃ­-amarela \\\n(Tetragonisca angustula). AlÃ©m disso, o Brasil Ã© conhecido \\\npor ter mais de 300 espÃ©cies diferentes de abelhas, a \\\nmaioria das quais nÃ£o Ã© agressiva e nÃ£o pÃµe veneno.\n\n [INFO] ==> The code for model: llama3.2:3b, took 54.6s to \\\n            generate the answer.\n```"]