<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Control flow, part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Control flow, part 1</h1>
<blockquote>原文：<a href="https://rust-exercises.com/100-exercises/02_basic_calculator/03_if_else.html">https://rust-exercises.com/100-exercises/02_basic_calculator/03_if_else.html</a></blockquote>
                        
<p>All our programs so far have been pretty straightforward.<br/>
A sequence of instructions is executed from top to bottom, and that's it.</p>
<p>It's time to introduce some <strong>branching</strong>.</p>
<h2 id="if-clauses"><a class="header" href="#if-clauses"><code>if</code> clauses</a></h2>
<p>The <code>if</code> keyword is used to execute a block of code only if a condition is true.</p>
<p>Here's a simple example:</p>
<pre><code class="language-rust">let number = 3;
if number &lt; 5 {
    println!("`number` is smaller than 5");
}</code></pre>
<p>This program will print <code>number is smaller than 5</code> because the condition <code>number &lt; 5</code> is true.</p>
<h3 id="else-clauses"><a class="header" href="#else-clauses"><code>else</code> clauses</a></h3>
<p>Like most programming languages, Rust supports an optional <code>else</code> branch to execute a block of code when the condition in an
<code>if</code> expression is false.<br/>
For example:</p>
<pre><code class="language-rust">let number = 3;

if number &lt; 5 {
    println!("`number` is smaller than 5");
} else {
    println!("`number` is greater than or equal to 5");
}</code></pre>
<h3 id="else-if-clauses"><a class="header" href="#else-if-clauses"><code>else if</code> clauses</a></h3>
<p>Your code drifts more and more to the right when you have multiple <code>if</code> expressions, one nested inside the other.</p>
<pre><code class="language-rust">let number = 3;

if number &lt; 5 {
    println!("`number` is smaller than 5");
} else {
    if number &gt;= 3 {
        println!("`number` is greater than or equal to 3, but smaller than 5");
    } else {
        println!("`number` is smaller than 3");
    }
}</code></pre>
<p>You can use the <code>else if</code> keyword to combine multiple <code>if</code> expressions into a single one:</p>
<pre><code class="language-rust">let number = 3;

if number &lt; 5 {
    println!("`number` is smaller than 5");
} else if number &gt;= 3 {
    println!("`number` is greater than or equal to 3, but smaller than 5");
} else {
    println!("`number` is smaller than 3");
}</code></pre>
<h2 id="booleans"><a class="header" href="#booleans">Booleans</a></h2>
<p>The condition in an <code>if</code> expression must be of type <code>bool</code>, a <strong>boolean</strong>.<br/>
Booleans, just like integers, are a primitive type in Rust.</p>
<p>A boolean can have one of two values: <code>true</code> or <code>false</code>.</p>
<h3 id="no-truthy-or-falsy-values"><a class="header" href="#no-truthy-or-falsy-values">No truthy or falsy values</a></h3>
<p>If the condition in an <code>if</code> expression is not a boolean, you'll get a compilation error.</p>
<p>For example, the following code will not compile:</p>
<pre><code class="language-rust">let number = 3;
if number {
    println!("`number` is not zero");
}</code></pre>
<p>You'll get the following compilation error:</p>
<pre><code class="language-text">error[E0308]: mismatched types
 --&gt; src/main.rs:3:8
  |
3 |     if number {
  |        ^^^^^^ expected `bool`, found integer
</code></pre>
<p>This follows from Rust's philosophy around type coercion: there's no automatic conversion from non-boolean types to booleans.
Rust doesn't have the concept of <strong>truthy</strong> or <strong>falsy</strong> values, like JavaScript or Python.<br/>
You have to be explicit about the condition you want to check.</p>
<h3 id="comparison-operators"><a class="header" href="#comparison-operators">Comparison operators</a></h3>
<p>It's quite common to use comparison operators to build conditions for <code>if</code> expressions.<br/>
Here are the comparison operators available in Rust when working with integers:</p>
<ul>
<li><code>==</code>: equal to</li>
<li><code>!=</code>: not equal to</li>
<li><code>&lt;</code>: less than</li>
<li><code>&gt;</code>: greater than</li>
<li><code>&lt;=</code>: less than or equal to</li>
<li><code>&gt;=</code>: greater than or equal to</li>
</ul>
<h2 id="ifelse-is-an-expression"><a class="header" href="#ifelse-is-an-expression"><code>if/else</code> is an expression</a></h2>
<p>In Rust, <code>if</code> expressions are <strong>expressions</strong>, not statements: they return a value.<br/>
That value can be assigned to a variable or used in other expressions. For example:</p>
<pre><code class="language-rust">let number = 3;
let message = if number &lt; 5 {
    "smaller than 5"
} else {
    "greater than or equal to 5"
};</code></pre>
<p>In the example above, each branch of the <code>if</code> evaluates to a string literal,
which is then assigned to the <code>message</code> variable.<br/>
The only requirement is that both <code>if</code> branches return the same type.</p>
<h2 id="exercise"><a class="header" href="#exercise">Exercise</a></h2>
<p>The exercise for this section is located in <a href="https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/02_basic_calculator/03_if_else"><code>02_basic_calculator/03_if_else</code></a></p>

                        
</body>
</html>