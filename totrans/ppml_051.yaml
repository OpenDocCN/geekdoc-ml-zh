- en: Error trait
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://rust-exercises.com/100-exercises/05_ticket_v2/09_error_trait.html](https://rust-exercises.com/100-exercises/05_ticket_v2/09_error_trait.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Error reporting](#error-reporting)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In the previous exercise you had to destructure the `TitleError` variant to
    extract the error message and pass it to the `panic!` macro.
  prefs: []
  type: TYPE_NORMAL
- en: 'This is a (rudimentary) example of **error reporting**: transforming an error
    type into a representation that can be shown to a user, a service operator, or
    a developer.'
  prefs: []
  type: TYPE_NORMAL
- en: 'It''s not practical for each Rust developer to come up with their own error
    reporting strategy: it''d be a waste of time and it wouldn''t compose well across
    projects. That''s why Rust provides the `std::error::Error` trait.'
  prefs: []
  type: TYPE_NORMAL
- en: '[The `Error` trait](#the-error-trait)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'There are no constraints on the type of the `Err` variant in a `Result`, but
    it''s a good practice to use a type that implements the `Error` trait. `Error`
    is the cornerstone of Rust''s error handling story:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'You might recall the `:` syntax from [the `From` trait](/100-exercises/04_traits/09_from#supertrait--subtrait)—it''s
    used to specify **supertraits**. For `Error`, there are two supertraits: `Debug`
    and `Display`. If a type wants to implement `Error`, it must also implement `Debug`
    and `Display`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[`Display` and `Debug`](#display-and-debug)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We've already encountered the `Debug` trait in [a previous exercise](/100-exercises/04_traits/04_derive)—it's
    the trait used by `assert_eq!` to display the values of the variables it's comparing
    when the assertion fails.
  prefs: []
  type: TYPE_NORMAL
- en: 'From a "mechanical" perspective, `Display` and `Debug` are identical—they encode
    how a type should be converted into a string-like representation:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'The difference is in their *purpose*: `Display` returns a representation that''s
    meant for "end-users", while `Debug` provides a low-level representation that''s
    more suitable to developers and service operators.'
  prefs: []
  type: TYPE_NORMAL
- en: That's why `Debug` can be automatically implemented using the `#[derive(Debug)]`
    attribute, while `Display` **requires** a manual implementation.
  prefs: []
  type: TYPE_NORMAL
- en: '[Exercise](#exercise)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The exercise for this section is located in [`05_ticket_v2/09_error_trait`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/05_ticket_v2/09_error_trait)
  prefs: []
  type: TYPE_NORMAL
