- en: TryFrom and TryInto
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://rust-exercises.com/100-exercises/05_ticket_v2/13_try_from.html](https://rust-exercises.com/100-exercises/05_ticket_v2/13_try_from.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In the previous chapter we looked at the [`From` and `Into` traits](/100-exercises/04_traits/09_from),
    Rust's idiomatic interfaces for **infallible** type conversions.
  prefs: []
  type: TYPE_NORMAL
- en: But what if the conversion is not guaranteed to succeed?
  prefs: []
  type: TYPE_NORMAL
- en: 'We now know enough about errors to discuss the **fallible** counterparts of
    `From` and `Into`: `TryFrom` and `TryInto`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[`TryFrom` and `TryInto`](#tryfrom-and-tryinto-1)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Both `TryFrom` and `TryInto` are defined in the `std::convert` module, just
    like `From` and `Into`.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The main difference between `From`/`Into` and `TryFrom`/`TryInto` is that the
    latter return a `Result` type.
  prefs: []
  type: TYPE_NORMAL
- en: This allows the conversion to fail, returning an error instead of panicking.
  prefs: []
  type: TYPE_NORMAL
- en: '[`Self::Error`](#selferror)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Both `TryFrom` and `TryInto` have an associated `Error` type. This allows each
    implementation to specify its own error type, ideally the most appropriate for
    the conversion being attempted.
  prefs: []
  type: TYPE_NORMAL
- en: '`Self::Error` is a way to refer to the `Error` associated type defined in the
    trait itself.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Duality](#duality)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Just like `From` and `Into`, `TryFrom` and `TryInto` are dual traits.
  prefs: []
  type: TYPE_NORMAL
- en: If you implement `TryFrom` for a type, you get `TryInto` for free.
  prefs: []
  type: TYPE_NORMAL
- en: '[Exercise](#exercise)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The exercise for this section is located in [`05_ticket_v2/13_try_from`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/05_ticket_v2/13_try_from)
  prefs: []
  type: TYPE_NORMAL
