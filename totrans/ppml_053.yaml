- en: Dependencies
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://rust-exercises.com/100-exercises/05_ticket_v2/11_dependencies.html](https://rust-exercises.com/100-exercises/05_ticket_v2/11_dependencies.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A package can depend on other packages by listing them in the `[dependencies]`
    section of its `Cargo.toml` file.
  prefs: []
  type: TYPE_NORMAL
- en: 'The most common way to specify a dependency is by providing its name and version:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'This will add `thiserror` as a dependency to your package, with a **minimum**
    version of `1.0.0`. `thiserror` will be pulled from [crates.io](https://crates.io),
    Rust''s official package registry. When you run `cargo build`, `cargo` will go
    through a few stages:'
  prefs: []
  type: TYPE_NORMAL
- en: Dependency resolution
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Downloading the dependencies
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Compiling your project (your own code and the dependencies)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Dependency resolution is skipped if your project has a `Cargo.lock` file and
    your manifest files are unchanged. A lockfile is automatically generated by `cargo`
    after a successful round of dependency resolution: it contains the exact versions
    of all dependencies used in your project, and is used to ensure that the same
    versions are consistently used across different builds (e.g. in CI). If you''re
    working on a project with multiple developers, you should commit the `Cargo.lock`
    file to your version control system.'
  prefs: []
  type: TYPE_NORMAL
- en: You can use `cargo update` to update the `Cargo.lock` file with the latest (compatible)
    versions of all your dependencies.
  prefs: []
  type: TYPE_NORMAL
- en: '[Path dependencies](#path-dependencies)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can also specify a dependency using a **path**. This is useful when you're
    working on multiple local packages.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The path is relative to the `Cargo.toml` file of the package that's declaring
    the dependency.
  prefs: []
  type: TYPE_NORMAL
- en: '[Other sources](#other-sources)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Check out the [Cargo documentation](https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html)
    for more details on where you can get dependencies from and how to specify them
    in your `Cargo.toml` file.
  prefs: []
  type: TYPE_NORMAL
- en: '[Dev dependencies](#dev-dependencies)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can also specify dependencies that are only needed for development—i.e.
    they only get pulled in when you're running `cargo test`.
  prefs: []
  type: TYPE_NORMAL
- en: 'They go in the `[dev-dependencies]` section of your `Cargo.toml` file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: We've been using a few of these throughout the book to shorten our tests.
  prefs: []
  type: TYPE_NORMAL
- en: '[Exercise](#exercise)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The exercise for this section is located in [`05_ticket_v2/11_dependencies`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/05_ticket_v2/11_dependencies)
  prefs: []
  type: TYPE_NORMAL
