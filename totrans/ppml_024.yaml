- en: References
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://rust-exercises.com/100-exercises/03_ticket_v1/10_references_in_memory.html](https://rust-exercises.com/100-exercises/03_ticket_v1/10_references_in_memory.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What about references, like `&String` or `&mut String`? How are they represented
    in memory?
  prefs: []
  type: TYPE_NORMAL
- en: Most references^([1](#footnote-fat)) in Rust are represented, in memory, as
    a pointer to a memory location.
  prefs: []
  type: TYPE_NORMAL
- en: It follows that their size is the same as the size of a pointer, a `usize`.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can verify this using `std::mem::size_of`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: A `&String`, in particular, is a pointer to the memory location where the `String`'s
    metadata is stored.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you run this snippet:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'you''ll get something like this in memory:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: It's a pointer to a pointer to the heap-allocated data, if you will. The same
    goes for `&mut String`.
  prefs: []
  type: TYPE_NORMAL
- en: '[Not all pointers point to the heap](#not-all-pointers-point-to-the-heap)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The example above should clarify one thing: not all pointers point to the heap.'
  prefs: []
  type: TYPE_NORMAL
- en: They just point to a memory location, which *may* be on the heap, but doesn't
    have to be.
  prefs: []
  type: TYPE_NORMAL
- en: '[Exercise](#exercise)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The exercise for this section is located in [`03_ticket_v1/10_references_in_memory`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/03_ticket_v1/10_references_in_memory)
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: '[Later in the course](/100-exercises/04_traits/06_str_slice) we''ll talk about
    **fat pointers**, i.e. pointers with additional metadata. As the name implies,
    they are larger than the pointers we discussed in this chapter, also known as
    **thin pointers**. [↩](#fr-fat-1)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
