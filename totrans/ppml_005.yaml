- en: Variables
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://rust-exercises.com/100-exercises/02_basic_calculator/02_variables.html](https://rust-exercises.com/100-exercises/02_basic_calculator/02_variables.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In Rust, you can use the `let` keyword to declare **variables**.
  prefs: []
  type: TYPE_NORMAL
- en: 'For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Above we defined a variable `x` and assigned it the value `42`.
  prefs: []
  type: TYPE_NORMAL
- en: '[Type](#type)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Every variable in Rust must have a type. It can either be inferred by the compiler
    or explicitly specified by the developer.
  prefs: []
  type: TYPE_NORMAL
- en: '[Explicit type annotation](#explicit-type-annotation)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'You can specify the variable type by adding a colon `:` followed by the type
    after the variable name. For example:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: In the example above, we explicitly constrained the type of `x` to be `u32`.
  prefs: []
  type: TYPE_NORMAL
- en: '[Type inference](#type-inference)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If we don't specify the type of a variable, the compiler will try to infer it
    based on the context in which the variable is used.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: In the example above, we didn't specify the type of `x`.
  prefs: []
  type: TYPE_NORMAL
- en: '`x` is later assigned to `y`, which is explicitly typed as `u32`. Since Rust
    doesn''t perform automatic type coercion, the compiler infers the type of `x`
    to be `u32`—the same as `y` and the only type that will allow the program to compile
    without errors.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Inference limitations](#inference-limitations)'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The compiler sometimes needs a little help to infer the correct variable type
    based on its usage.
  prefs: []
  type: TYPE_NORMAL
- en: In those cases you'll get a compilation error and the compiler will ask you
    to provide an explicit type hint to disambiguate the situation.
  prefs: []
  type: TYPE_NORMAL
- en: '[Function arguments are variables](#function-arguments-are-variables)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Not all heroes wear capes, not all variables are declared with `let`.
  prefs: []
  type: TYPE_NORMAL
- en: Function arguments are variables too!
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: In the example above, `x` is a variable of type `u32`.
  prefs: []
  type: TYPE_NORMAL
- en: The only difference between `x` and a variable declared with `let` is that functions
    arguments **must** have their type explicitly declared. The compiler won't infer
    it for you.
  prefs: []
  type: TYPE_NORMAL
- en: This constraint allows the Rust compiler (and us humans!) to understand the
    function's signature without having to look at its implementation. That's a big
    boost for compilation speed^([1](#footnote-speed))!
  prefs: []
  type: TYPE_NORMAL
- en: '[Initialization](#initialization)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You don't have to initialize a variable when you declare it.
  prefs: []
  type: TYPE_NORMAL
- en: For example
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: is a valid variable declaration.
  prefs: []
  type: TYPE_NORMAL
- en: 'However, you must initialize the variable before using it. The compiler will
    throw an error if you don''t:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'will throw a compilation error:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '[Exercise](#exercise)'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The exercise for this section is located in [`02_basic_calculator/02_variables`](https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/02_basic_calculator/02_variables)
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: The Rust compiler needs all the help it can get when it comes to compilation
    speed. [↩](#fr-speed-1)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
