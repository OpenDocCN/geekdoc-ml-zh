<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Dependencies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Dependencies</h1>
<blockquote>原文：<a href="https://rust-exercises.com/100-exercises/05_ticket_v2/11_dependencies.html">https://rust-exercises.com/100-exercises/05_ticket_v2/11_dependencies.html</a></blockquote>
                        
<p>A package can depend on other packages by listing them in the <code>[dependencies]</code> section of its <code>Cargo.toml</code> file.<br/>
The most common way to specify a dependency is by providing its name and version:</p>
<pre><code class="language-toml">[dependencies]
thiserror = "1"
</code></pre>
<p>This will add <code>thiserror</code> as a dependency to your package, with a <strong>minimum</strong> version of <code>1.0.0</code>.
<code>thiserror</code> will be pulled from <a href="https://crates.io">crates.io</a>, Rust's official package registry.
When you run <code>cargo build</code>, <code>cargo</code> will go through a few stages:</p>
<ul>
<li>Dependency resolution</li>
<li>Downloading the dependencies</li>
<li>Compiling your project (your own code and the dependencies)</li>
</ul>
<p>Dependency resolution is skipped if your project has a <code>Cargo.lock</code> file and your manifest files are unchanged.
A lockfile is automatically generated by <code>cargo</code> after a successful round of dependency resolution: it contains
the exact versions of all dependencies used in your project, and is used to ensure that the same versions are
consistently used across different builds (e.g. in CI). If you're working on a project with multiple developers,
you should commit the <code>Cargo.lock</code> file to your version control system.</p>
<p>You can use <code>cargo update</code> to update the <code>Cargo.lock</code> file with the latest (compatible) versions of all your dependencies.</p>
<h3 id="path-dependencies"><a class="header" href="#path-dependencies">Path dependencies</a></h3>
<p>You can also specify a dependency using a <strong>path</strong>. This is useful when you're working on multiple local packages.</p>
<pre><code class="language-toml">[dependencies]
my-library = { path = "../my-library" }
</code></pre>
<p>The path is relative to the <code>Cargo.toml</code> file of the package that's declaring the dependency.</p>
<h3 id="other-sources"><a class="header" href="#other-sources">Other sources</a></h3>
<p>Check out the <a href="https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html">Cargo documentation</a> for more
details on where you can get dependencies from and how to specify them in your <code>Cargo.toml</code> file.</p>
<h2 id="dev-dependencies"><a class="header" href="#dev-dependencies">Dev dependencies</a></h2>
<p>You can also specify dependencies that are only needed for development—i.e. they only get pulled in when you're
running <code>cargo test</code>.<br/>
They go in the <code>[dev-dependencies]</code> section of your <code>Cargo.toml</code> file:</p>
<pre><code class="language-toml">[dev-dependencies]
static_assertions = "1.1.0"
</code></pre>
<p>We've been using a few of these throughout the book to shorten our tests.</p>
<h2 id="exercise"><a class="header" href="#exercise">Exercise</a></h2>
<p>The exercise for this section is located in <a href="https://github.com/mainmatter/100-exercises-to-learn-rust/tree/main/exercises/05_ticket_v2/11_dependencies"><code>05_ticket_v2/11_dependencies</code></a></p>

                        
</body>
</html>