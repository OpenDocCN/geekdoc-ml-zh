- en: DSP Spectral Features
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: DSPé¢‘è°±ç‰¹å¾
- en: '![](../media/file972.jpg)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../media/file972.jpg)'
- en: '*DALLÂ·E 3 Prompt: 1950s style cartoon illustration of a Latin male and female
    scientist in a vibration research room. The man is using a calculus ruler to examine
    ancient circuitry. The woman is at a computer with complex vibration graphs. The
    wooden table has boards with sensors, prominently an accelerometer. A classic,
    rounded-back computer shows the Arduino IDE with code for LED pin assignments
    and machine learning algorithms for movement detection. The Serial Monitor displays
    FFT, classification, wavelets, and DSPs. Vintage lamps, tools, and charts with
    FFT and Wavelets graphs complete the scene.*'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*DALLÂ·E 3 Promptï¼š1950å¹´ä»£é£æ ¼çš„æ‹‰ä¸ç”·æ€§å’Œå¥³æ€§ç§‘å­¦å®¶åœ¨æŒ¯åŠ¨ç ”ç©¶å®¤çš„å¡é€šæ’å›¾ã€‚ç”·æ€§æ­£åœ¨ä½¿ç”¨è®¡ç®—å°ºæ£€æŸ¥å¤è€çš„ç”µè·¯ã€‚å¥³æ€§ååœ¨ç”µè„‘å‰ï¼Œæœ‰å¤æ‚çš„æŒ¯åŠ¨å›¾ã€‚æœ¨è´¨æ¡Œå­ä¸Šé“ºæœ‰ä¼ æ„Ÿå™¨æ¿ï¼Œå…¶ä¸­æœ€æ˜¾çœ¼çš„æ˜¯åŠ é€Ÿåº¦è®¡ã€‚ä¸€å°ç»å…¸çš„ã€åœ†èƒŒçš„ç”µè„‘æ˜¾ç¤ºäº†Arduino
    IDEä¸­çš„ä»£ç ï¼Œç”¨äºLEDå¼•è„šåˆ†é…å’Œè¿åŠ¨æ£€æµ‹çš„æœºå™¨å­¦ä¹ ç®—æ³•ã€‚ä¸²è¡Œç›‘è§†å™¨æ˜¾ç¤ºFFTã€åˆ†ç±»ã€å°æ³¢å’ŒDSPã€‚å¤å¤çš„ç¯å…·ã€å·¥å…·å’Œå¸¦æœ‰FFTå’Œå°æ³¢å›¾çš„å›¾è¡¨å®Œå–„äº†åœºæ™¯*ã€‚'
- en: Overview
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¦‚è¿°
- en: TinyML projects related to motion (or vibration) involve data from IMUs (usually
    **accelerometers** and **Gyroscopes**). These time-series type datasets should
    be preprocessed before inputting them into a Machine Learning model training,
    which is a challenging area for embedded machine learning. Still, Edge Impulse
    helps overcome this complexity with its digital signal processing (DSP) preprocessing
    step and, more specifically, the [Spectral Features Block](https://docs.edgeimpulse.com/docs/edge-impulse-studio/processing-blocks/spectral-features)
    for Inertial sensors.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è¿åŠ¨ï¼ˆæˆ–æŒ¯åŠ¨ï¼‰ç›¸å…³çš„TinyMLé¡¹ç›®æ¶‰åŠIMUï¼ˆé€šå¸¸æ˜¯**åŠ é€Ÿåº¦è®¡**å’Œ**é™€èºä»ª**ï¼‰çš„æ•°æ®ã€‚è¿™äº›æ—¶é—´åºåˆ—ç±»å‹çš„æ•°æ®é›†åœ¨è¾“å…¥åˆ°æœºå™¨å­¦ä¹ æ¨¡å‹è®­ç»ƒä¹‹å‰åº”è¯¥è¿›è¡Œé¢„å¤„ç†ï¼Œè¿™å¯¹äºåµŒå…¥å¼æœºå™¨å­¦ä¹ æ¥è¯´æ˜¯ä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„é¢†åŸŸã€‚ç„¶è€Œï¼ŒEdge
    Impulseé€šè¿‡å…¶æ•°å­—ä¿¡å·å¤„ç†ï¼ˆDSPï¼‰é¢„å¤„ç†æ­¥éª¤ä»¥åŠæ›´å…·ä½“çš„[é¢‘è°±ç‰¹å¾å—](https://docs.edgeimpulse.com/docs/edge-impulse-studio/processing-blocks/spectral-features)æ¥å¸®åŠ©å…‹æœè¿™ç§å¤æ‚æ€§ã€‚
- en: But how does it work under the hood? Letâ€™s dig into it.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†å®ƒå†…éƒ¨æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿè®©æˆ‘ä»¬æ·±å…¥æ¢ç©¶ã€‚
- en: Extracting Features Review
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾æå–å›é¡¾
- en: 'Extracting features from a dataset captured with inertial sensors, such as
    accelerometers, involves processing and analyzing the raw data. Accelerometers
    measure the acceleration of an object along one or more axes (typically three,
    denoted as X, Y, and Z). These measurements can be used to understand various
    aspects of the objectâ€™s motion, such as movement patterns and vibrations. Hereâ€™s
    a high-level overview of the process:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ä½¿ç”¨æƒ¯æ€§ä¼ æ„Ÿå™¨ï¼ˆå¦‚åŠ é€Ÿåº¦è®¡ï¼‰æ•è·çš„æ•°æ®é›†ä¸­æå–ç‰¹å¾æ¶‰åŠå¤„ç†å’Œåˆ†æåŸå§‹æ•°æ®ã€‚åŠ é€Ÿåº¦è®¡æµ‹é‡ç‰©ä½“æ²¿ä¸€ä¸ªæˆ–å¤šä¸ªè½´çš„åŠ é€Ÿåº¦ï¼ˆé€šå¸¸æ˜¯ä¸‰ä¸ªï¼Œæ ‡è®°ä¸ºXã€Yå’ŒZï¼‰ã€‚è¿™äº›æµ‹é‡å¯ä»¥ç”¨æ¥ç†è§£ç‰©ä½“çš„è¿åŠ¨çš„å„ç§æ–¹é¢ï¼Œå¦‚è¿åŠ¨æ¨¡å¼å’ŒæŒ¯åŠ¨ã€‚ä»¥ä¸‹æ˜¯è¯¥è¿‡ç¨‹çš„æ¦‚è¿°ï¼š
- en: '**Data collection**: First, we need to gather data from the accelerometers.
    Depending on the application, data may be collected at different sampling rates.
    Itâ€™s essential to ensure that the sampling rate is high enough to capture the
    relevant dynamics of the studied motion (the sampling rate should be at least
    double the maximum relevant frequency present in the signal).'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ•°æ®æ”¶é›†**ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä»åŠ é€Ÿåº¦è®¡æ”¶é›†æ•°æ®ã€‚æ ¹æ®åº”ç”¨çš„ä¸åŒï¼Œæ•°æ®å¯èƒ½ä»¥ä¸åŒçš„é‡‡æ ·ç‡æ”¶é›†ã€‚ç¡®ä¿é‡‡æ ·ç‡è¶³å¤Ÿé«˜ï¼Œä»¥æ•æ‰æ‰€ç ”ç©¶è¿åŠ¨çš„ç›¸å…³åŠ¨æ€ï¼ˆé‡‡æ ·ç‡åº”è‡³å°‘æ˜¯ä¿¡å·ä¸­å­˜åœ¨çš„æœ€å¤§ç›¸å…³é¢‘ç‡çš„ä¸¤å€ï¼‰æ˜¯è‡³å…³é‡è¦çš„ã€‚'
- en: '**Data preprocessing**: Raw accelerometer data can be noisy and contain errors
    or irrelevant information. Preprocessing steps, such as filtering and normalization,
    can help clean and standardize the data, making it more suitable for feature extraction.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ•°æ®é¢„å¤„ç†**ï¼šåŸå§‹åŠ é€Ÿåº¦è®¡æ•°æ®å¯èƒ½åŒ…å«å™ªå£°ã€é”™è¯¯æˆ–ä¸ç›¸å…³ä¿¡æ¯ã€‚é¢„å¤„ç†æ­¥éª¤ï¼Œå¦‚æ»¤æ³¢å’Œå½’ä¸€åŒ–ï¼Œå¯ä»¥å¸®åŠ©æ¸…ç†å’Œæ ‡å‡†åŒ–æ•°æ®ï¼Œä½¿å…¶æ›´é€‚åˆç‰¹å¾æå–ã€‚'
- en: The Studio does not perform normalization or standardization, so sometimes,
    when working with Sensor Fusion, it could be necessary to perform this step before
    uploading data to the Studio. This is particularly crucial in sensor fusion projects,
    as seen in this tutorial, [Sensor Data Fusion with Spresense and CommonSense](https://docs.edgeimpulse.com/experts/air-quality-and-environmental-projects/environmental-sensor-fusion-commonsense).
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å·¥ä½œå®¤ä¸æ‰§è¡Œå½’ä¸€åŒ–æˆ–æ ‡å‡†åŒ–ï¼Œå› æ­¤æœ‰æ—¶åœ¨å¤„ç†ä¼ æ„Ÿå™¨èåˆæ—¶ï¼Œåœ¨å°†æ•°æ®ä¸Šä¼ åˆ°å·¥ä½œå®¤ä¹‹å‰æ‰§è¡Œæ­¤æ­¥éª¤å¯èƒ½æ˜¯å¿…è¦çš„ã€‚è¿™åœ¨ä¼ æ„Ÿå™¨èåˆé¡¹ç›®ä¸­å°¤ä¸ºé‡è¦ï¼Œå¦‚æœ¬æ•™ç¨‹æ‰€ç¤ºï¼Œ[ä½¿ç”¨Spresenseå’ŒCommonSenseè¿›è¡Œä¼ æ„Ÿå™¨æ•°æ®èåˆ](https://docs.edgeimpulse.com/experts/air-quality-and-environmental-projects/environmental-sensor-fusion-commonsense)ã€‚
- en: '**Segmentation**: Depending on the nature of the data and the application,
    dividing the data into smaller segments or **windows** may be necessary. This
    can help focus on specific events or activities within the dataset, making feature
    extraction more manageable and meaningful. The **window size** and overlap (**window
    span**) choice depend on the application and the frequency of the events of interest.
    As a rule of thumb, we should try to capture a couple of â€œdata cycles.â€'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**åˆ†å‰²**ï¼šæ ¹æ®æ•°æ®çš„æ€§è´¨å’Œåº”ç”¨ï¼Œå°†æ•°æ®åˆ†å‰²æˆæ›´å°çš„æ®µæˆ–**çª—å£**å¯èƒ½æ˜¯å¿…è¦çš„ã€‚è¿™æœ‰åŠ©äºå…³æ³¨æ•°æ®é›†ä¸­çš„ç‰¹å®šäº‹ä»¶æˆ–æ´»åŠ¨ï¼Œä½¿ç‰¹å¾æå–æ›´æ˜“äºç®¡ç†å’Œæœ‰æ„ä¹‰ã€‚**çª—å£å¤§å°**å’Œé‡å ï¼ˆ**çª—å£è·¨åº¦**ï¼‰çš„é€‰æ‹©å–å†³äºåº”ç”¨å’Œæ„Ÿå…´è¶£äº‹ä»¶çš„é¢‘ç‡ã€‚ä½œä¸ºä¸€ä¸ªç»éªŒæ³•åˆ™ï¼Œæˆ‘ä»¬åº”è¯¥å°è¯•æ•æ‰å‡ ä¸ªâ€œæ•°æ®å‘¨æœŸâ€ã€‚'
- en: '**Feature extraction**: Once the data is preprocessed and segmented, you can
    extract features that describe the motionâ€™s characteristics. Some typical features
    extracted from accelerometer data include:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç‰¹å¾æå–**ï¼šä¸€æ—¦æ•°æ®é¢„å¤„ç†å’Œåˆ†å‰²å®Œæˆï¼Œå°±å¯ä»¥æå–æè¿°è¿åŠ¨ç‰¹æ€§çš„ç‰¹å¾ã€‚ä»åŠ é€Ÿåº¦è®¡æ•°æ®ä¸­æå–çš„ä¸€äº›å…¸å‹ç‰¹å¾åŒ…æ‹¬ï¼š'
- en: '**Time-domain** features describe the dataâ€™s [statistical properties](https://www.mdpi.com/1424-8220/22/5/2012)
    within each segment, such as mean, median, standard deviation, skewness, kurtosis,
    and zero-crossing rate.'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ—¶åŸŸ**ç‰¹å¾æè¿°äº†æ¯ä¸ªæ®µå†…æ•°æ®çš„[ç»Ÿè®¡å±æ€§](https://www.mdpi.com/1424-8220/22/5/2012)ï¼Œå¦‚å‡å€¼ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®ã€ååº¦ã€å³°åº¦å’Œé›¶äº¤å‰ç‡ã€‚'
- en: '**Frequency-domain** features are obtained by transforming the data into the
    frequency domain using techniques like the [Fast Fourier Transform (FFT)](https://en.wikipedia.org/wiki/Fast_Fourier_transform).
    Some typical frequency-domain features include the power spectrum, spectral energy,
    dominant frequencies (amplitude and frequency), and spectral entropy.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é¢‘åŸŸ**ç‰¹å¾æ˜¯é€šè¿‡ä½¿ç”¨å¦‚[å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFFTï¼‰](https://en.wikipedia.org/wiki/Fast_Fourier_transform)ç­‰æŠ€æœ¯å°†æ•°æ®è½¬æ¢åˆ°é¢‘åŸŸè·å¾—çš„ã€‚ä¸€äº›å…¸å‹çš„é¢‘åŸŸç‰¹å¾åŒ…æ‹¬åŠŸç‡è°±ã€é¢‘è°±èƒ½é‡ã€ä¸»å¯¼é¢‘ç‡ï¼ˆå¹…åº¦å’Œé¢‘ç‡ï¼‰å’Œé¢‘è°±ç†µã€‚'
- en: '**Time-frequency** domain features combine the time and frequency domain information,
    such as the [Short-Time Fourier Transform (STFT)](https://en.wikipedia.org/wiki/Short-time_Fourier_transform)
    or the [Discrete Wavelet Transform (DWT)](https://en.wikipedia.org/wiki/Discrete_wavelet_transform).
    They can provide a more detailed understanding of how the signalâ€™s frequency content
    changes over time.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ—¶é¢‘**åŸŸç‰¹å¾ç»“åˆäº†æ—¶é—´å’Œé¢‘ç‡åŸŸä¿¡æ¯ï¼Œå¦‚[çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰](https://en.wikipedia.org/wiki/Short-time_Fourier_transform)æˆ–[ç¦»æ•£å°æ³¢å˜æ¢ï¼ˆDWTï¼‰](https://en.wikipedia.org/wiki/Discrete_wavelet_transform)ã€‚å®ƒä»¬å¯ä»¥æä¾›å¯¹ä¿¡å·é¢‘ç‡å†…å®¹éšæ—¶é—´å˜åŒ–çš„æ›´è¯¦ç»†ç†è§£ã€‚'
- en: In many cases, the number of extracted features can be large, which may lead
    to overfitting or increased computational complexity. Feature selection techniques,
    such as mutual information, correlation-based methods, or principal component
    analysis (PCA), can help identify the most relevant features for a given application
    and reduce the dimensionality of the dataset. The Studio can help with such feature-relevant
    calculations.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæå–çš„ç‰¹å¾æ•°é‡å¯èƒ½å¾ˆå¤§ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆæˆ–å¢åŠ è®¡ç®—å¤æ‚åº¦ã€‚ç‰¹å¾é€‰æ‹©æŠ€æœ¯ï¼Œå¦‚äº’ä¿¡æ¯ã€åŸºäºç›¸å…³æ€§çš„æ–¹æ³•æˆ–ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ï¼Œå¯ä»¥å¸®åŠ©è¯†åˆ«ç»™å®šåº”ç”¨ä¸­æœ€ç›¸å…³çš„ç‰¹å¾ï¼Œå¹¶é™ä½æ•°æ®é›†çš„ç»´åº¦ã€‚å·¥ä½œå®¤å¯ä»¥å¸®åŠ©è¿›è¡Œæ­¤ç±»ä¸ç‰¹å¾ç›¸å…³çš„è®¡ç®—ã€‚
- en: Letâ€™s explore in more detail a typical TinyML Motion Classification project
    covered in this series of Hands-Ons.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ›´è¯¦ç»†åœ°æ¢è®¨æœ¬ç³»åˆ—åŠ¨æ‰‹æ“ä½œä¸­æ¶µç›–çš„å…¸å‹TinyMLè¿åŠ¨åˆ†ç±»é¡¹ç›®ã€‚
- en: A TinyML Motion Classification project
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªTinyMLè¿åŠ¨åˆ†ç±»é¡¹ç›®
- en: '![](../media/file973.jpg)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file973.jpg)'
- en: 'In the hands-on project, *Motion Classification and Anomaly Detection*, we
    simulated mechanical stresses in transport, where our problem was to classify
    four classes of movement:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åŠ¨æ‰‹é¡¹ç›®ä¸­ï¼Œâ€œè¿åŠ¨åˆ†ç±»å’Œå¼‚å¸¸æ£€æµ‹â€ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†è¿è¾“ä¸­çš„æœºæ¢°åº”åŠ›ï¼Œæˆ‘ä»¬çš„é—®é¢˜æ˜¯åˆ†ç±»å››ç§è¿åŠ¨ç±»å‹ï¼š
- en: '**Maritime** (pallets in boats)'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æµ·ä¸Š**ï¼ˆèˆ¹ä¸Šçš„æ‰˜ç›˜ï¼‰'
- en: '**Terrestrial** (pallets in a Truck or Train)'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**åœ°é¢**ï¼ˆå¡è½¦æˆ–ç«è½¦ä¸Šçš„æ‰˜ç›˜ï¼‰'
- en: '**Lift** (pallets being handled by Fork-Lift)'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æå‡**ï¼ˆå‰è½¦æ“ä½œçš„æ‰˜ç›˜ï¼‰'
- en: '**Idle** (pallets in Storage houses)'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç©ºé—²**ï¼ˆä»“åº“ä¸­çš„æ‰˜ç›˜ï¼‰'
- en: The accelerometers provided the data on the pallet (or container).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ é€Ÿåº¦è®¡æä¾›äº†æœ‰å…³æ‰˜ç›˜ï¼ˆæˆ–å®¹å™¨ï¼‰çš„æ•°æ®ã€‚
- en: '![](../media/file974.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file974.png)'
- en: 'Below is one sample (raw data) of 10 seconds, captured with a sampling frequency
    of 50 Hz:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯10ç§’çš„æ ·æœ¬ï¼ˆåŸå§‹æ•°æ®ï¼‰ï¼Œä»¥50 Hzçš„é‡‡æ ·é¢‘ç‡æ•è·ï¼š
- en: '![](../media/file975.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file975.png)'
- en: The result is similar when this analysis is done over another dataset with the
    same principle, using a different sampling frequency, 62.5Â Hz instead of 50 Hz.
  id: totrans-29
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å½“ä½¿ç”¨ç›¸åŒåŸç†çš„å¦ä¸€ä¸ªæ•°æ®é›†è¿›è¡Œæ­¤åˆ†ææ—¶ï¼Œç»“æœç›¸ä¼¼ï¼Œä½¿ç”¨ä¸åŒçš„é‡‡æ ·é¢‘ç‡ï¼Œ62.5 Hzè€Œä¸æ˜¯50 Hzã€‚
- en: Data Pre-Processing
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ•°æ®é¢„å¤„ç†
- en: The raw data captured by the accelerometer (a â€œtime seriesâ€ data) should be
    converted to â€œtabular dataâ€ using one of the typical Feature Extraction methods
    described in the last section.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ é€Ÿåº¦è®¡ï¼ˆä¸€ç§â€œæ—¶é—´åºåˆ—â€æ•°æ®ï¼‰æ•è·çš„åŸå§‹æ•°æ®åº”ä½¿ç”¨ä¸Šä¸€èŠ‚ä¸­æè¿°çš„å…¸å‹ç‰¹å¾æå–æ–¹æ³•ä¹‹ä¸€è½¬æ¢ä¸ºâ€œè¡¨æ ¼æ•°æ®â€ã€‚
- en: We should segment the data using a sliding window over the sample data for feature
    extraction. The project captured accelerometer data every 10 seconds with a sample
    rate of 62.5 Hz. A 2-second window captures 375 data points (3 axis <semantics><mi>Ã—</mi><annotation
    encoding="application/x-tex">\times</annotation></semantics> 2 seconds <semantics><mi>Ã—</mi><annotation
    encoding="application/x-tex">\times</annotation></semantics> 62.5 samples). The
    window is slid every 80 ms, creating a larger dataset where each instance has
    375 â€œraw features.â€
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ»‘åŠ¨çª—å£å¯¹æ ·æœ¬æ•°æ®è¿›è¡Œæ•°æ®åˆ†æ®µï¼Œä»¥è¿›è¡Œç‰¹å¾æå–ã€‚é¡¹ç›®æ¯10ç§’æ•è·ä¸€æ¬¡åŠ é€Ÿåº¦è®¡æ•°æ®ï¼Œé‡‡æ ·ç‡ä¸º62.5 Hzã€‚2ç§’çª—å£æ•è·375ä¸ªæ•°æ®ç‚¹ï¼ˆ3è½´
    <semantics><mi>Ã—</mi><annotation encoding="application/x-tex">\times</annotation></semantics>
    2ç§’ <semantics><mi>Ã—</mi><annotation encoding="application/x-tex">\times</annotation></semantics>
    62.5ä¸ªæ ·æœ¬ï¼‰ã€‚çª—å£æ¯80æ¯«ç§’æ»‘åŠ¨ä¸€æ¬¡ï¼Œåˆ›å»ºä¸€ä¸ªæ›´å¤§çš„æ•°æ®é›†ï¼Œå…¶ä¸­æ¯ä¸ªå®ä¾‹éƒ½æœ‰375ä¸ªâ€œåŸå§‹ç‰¹å¾â€ã€‚
- en: '![](../media/file976.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file976.png)'
- en: On the Studio, the previous version (V1) of the **Spectral Analysis Block**
    extracted as time-domain features only the RMS, and for the frequency-domain,
    the peaks and frequency (using FFT) and the power characteristics (PSD) of the
    signal over time resulting in a fixed tabular dataset of 33 features (11 per each
    axis),
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨Studioä¸Šï¼Œä¹‹å‰ç‰ˆæœ¬ï¼ˆV1ï¼‰çš„**é¢‘è°±åˆ†æå—**ä»…æå–äº†æ—¶é—´åŸŸç‰¹å¾RMSï¼Œå¯¹äºé¢‘åŸŸï¼Œä½¿ç”¨FFTæå–å³°å€¼å’Œé¢‘ç‡ä»¥åŠä¿¡å·éšæ—¶é—´çš„åŠŸç‡ç‰¹æ€§ï¼ˆPSDï¼‰ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªå›ºå®šè¡¨æ ¼æ•°æ®é›†ï¼ŒåŒ…å«33ä¸ªç‰¹å¾ï¼ˆæ¯ä¸ªè½´11ä¸ªï¼‰ï¼Œ
- en: '![](../media/file977.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file977.png)'
- en: Those 33 features were the Input tensor of a Neural Network Classifier.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™33ä¸ªç‰¹å¾æ˜¯ç¥ç»ç½‘ç»œåˆ†ç±»å™¨çš„è¾“å…¥å¼ é‡ã€‚
- en: In 2022, Edge Impulse released version 2 of the Spectral Analysis block, which
    we will explore here.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨2022å¹´ï¼ŒEdge Impulseå‘å¸ƒäº†é¢‘è°±åˆ†æå—çš„ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬å°†åœ¨è¿™é‡Œæ¢è®¨ã€‚
- en: Edge Impulse - Spectral Analysis Block V.2 under the hood
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Edge Impulse - é¢‘è°±åˆ†æå— V.2 å†…éƒ¨æœºåˆ¶
- en: 'In Version 2, Time Domain Statistical features per axis/channel are:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç‰ˆæœ¬2ä¸­ï¼Œæ¯ä¸ªè½´/é€šé“çš„æ—¶é—´åŸŸç»Ÿè®¡ç‰¹å¾å¦‚ä¸‹ï¼š
- en: RMS
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‡æ–¹æ ¹
- en: Skewness
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ååº¦
- en: Kurtosis
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ååº¦
- en: 'And the Frequency Domain Spectral features per axis/channel are:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¶ä¸”æ¯ä¸ªè½´/é€šé“çš„é¢‘åŸŸé¢‘è°±ç‰¹å¾å¦‚ä¸‹ï¼š
- en: Spectral Power
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¢‘è°±åŠŸç‡
- en: Skewness (in the next version)
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ååº¦ï¼ˆåœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼‰
- en: Kurtosis (in the next version)
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ååº¦ï¼ˆåœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼‰
- en: In this [link,](https://docs.edgeimpulse.com/docs/edge-impulse-studio/processing-blocks/spectral-features)
    we can have more details about the feature extraction.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ­¤[é“¾æ¥](https://docs.edgeimpulse.com/docs/edge-impulse-studio/processing-blocks/spectral-features)ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£æ›´å¤šå…³äºç‰¹å¾æå–çš„ç»†èŠ‚ã€‚
- en: 'Clone the [public project](https://studio.edgeimpulse.com/public/198358/latest).
    You can also follow the explanation, playing with the code using my Google CoLab
    Notebook: [Edge Impulse Spectral Analysis Block Notebook](https://colab.research.google.com/github/Mjrovai/TinyML4D/blob/main/SciTinyM-2023/Edge_Impulse-Spectral_Analysis_Block/Edge_Impulse_Spectral_Analysis_Block_V3.ipynb).'
  id: totrans-48
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å…‹éš†[å…¬å…±é¡¹ç›®](https://studio.edgeimpulse.com/public/198358/latest)ã€‚æ‚¨è¿˜å¯ä»¥æŒ‰ç…§è¯´æ˜ï¼Œä½¿ç”¨æˆ‘çš„Google
    CoLabç¬”è®°æœ¬æ“ä½œä»£ç ï¼š[Edge Impulseé¢‘è°±åˆ†æå—ç¬”è®°æœ¬](https://colab.research.google.com/github/Mjrovai/TinyML4D/blob/main/SciTinyM-2023/Edge_Impulse-Spectral_Analysis_Block/Edge_Impulse_Spectral_Analysis_Block_V3.ipynb)ã€‚
- en: 'Start importing the libraries:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: å¼€å§‹å¯¼å…¥åº“ï¼š
- en: '[PRE0]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'From the studied project, letâ€™s choose a data sample from accelerometers as
    below:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ç ”ç©¶çš„é¡¹ç›®ä¸­ï¼Œè®©æˆ‘ä»¬é€‰æ‹©ä»¥ä¸‹åŠ é€Ÿåº¦è®¡çš„æ•°æ®æ ·æœ¬ï¼š
- en: 'Window size of 2 seconds: `[2,000]` ms'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: çª—å£å¤§å°ä¸º2ç§’ï¼š`[2,000]` ms
- en: 'Sample frequency: `[62.5]` Hz'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é‡‡æ ·é¢‘ç‡ï¼š`[62.5]` Hz
- en: We will choose the `[None]` filter (for simplicity) and a
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†é€‰æ‹©`[None]`è¿‡æ»¤å™¨ï¼ˆä¸ºäº†ç®€å•èµ·è§ï¼‰å’Œä¸€ä¸ª
- en: 'FFT length: `[16]`.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FFTé•¿åº¦ï¼š`[16]`ã€‚
- en: '[PRE1]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](../media/file978.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file978.png)'
- en: Selecting the *Raw Features* on the Studio Spectral Analysis tab, we can copy
    all 375 data points of a particular 2-second window to the clipboard.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨Studioé¢‘è°±åˆ†ææ ‡ç­¾ä¸Šé€‰æ‹©*åŸå§‹ç‰¹å¾*ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç‰¹å®š2ç§’çª—å£çš„æ‰€æœ‰375ä¸ªæ•°æ®ç‚¹å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚
- en: '![](../media/file979.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file979.png)'
- en: 'Paste the data points to a new variable *data*:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ•°æ®ç‚¹ç²˜è´´åˆ°æ–°çš„å˜é‡ *data*ï¼š
- en: '[PRE2]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The total raw features are 375, but we will work with each axis individually,
    where <semantics><mrow><mi>N</mi><mo>=</mo><mn>125</mn></mrow><annotation encoding="application/x-tex">N=
    125</annotation></semantics> (number of samples per axis).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»åŸå§‹ç‰¹å¾ä¸º375ï¼Œä½†æˆ‘ä»¬å°†é€ä¸ªè½´å•ç‹¬å¤„ç†ï¼Œå…¶ä¸­ <semantics><mrow><mi>N</mi><mo>=</mo><mn>125</mn></mrow><annotation
    encoding="application/x-tex">N= 125</annotation></semantics>ï¼ˆæ¯ä¸ªè½´çš„æ ·æœ¬æ•°ï¼‰ã€‚
- en: We aim to understand how Edge Impulse gets the processed features.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ—¨åœ¨äº†è§£Edge Impulseå¦‚ä½•è·å–å¤„ç†åçš„ç‰¹å¾ã€‚
- en: '![](../media/file980.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file980.png)'
- en: 'So, you should also past the processed features on a variable (to compare the
    calculated features in Python with the ones provided by the Studio) :'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæ‚¨è¿˜åº”è¯¥å°†å¤„ç†åçš„ç‰¹å¾ä¼ é€’ç»™ä¸€ä¸ªå˜é‡ï¼ˆä»¥ä¾¿æ¯”è¾ƒPythonä¸­è®¡ç®—çš„ç‰¹å¾ä¸Studioæä¾›çš„ç‰¹ç‚¹ï¼‰ï¼š
- en: '[PRE3]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The total number of processed features is 39, which means 13 features/axis.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: å¤„ç†åçš„ç‰¹å¾æ€»æ•°ä¸º39ï¼Œè¿™æ„å‘³ç€13ä¸ªç‰¹å¾/è½´ã€‚
- en: 'Looking at those 13 features closely, we will find 3 for the time domain (RMS,
    Skewness, and Kurtosis):'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: ä»”ç»†è§‚å¯Ÿè¿™13ä¸ªç‰¹å¾ï¼Œæˆ‘ä»¬å°†æ‰¾åˆ°3ä¸ªæ—¶åŸŸç‰¹å¾ï¼ˆå‡æ–¹æ ¹ã€ååº¦å’Œå³°åº¦ï¼‰ï¼š
- en: '`[rms] [skew] [kurtosis]`'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`[å‡æ–¹æ ¹] [ååº¦] [å³°åº¦]`'
- en: and 10 for the frequency domain (we will return to this later).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŠ10ä¸ªé¢‘åŸŸï¼ˆæˆ‘ä»¬ç¨åä¼šå›åˆ°è¿™ä¸€ç‚¹ï¼‰ã€‚
- en: '`[spectral skew][spectral kurtosis][Spectral Power 1] ... [Spectral Power 8]`'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`[å…‰è°±ååº¦][å…‰è°±å³°åº¦][å…‰è°±åŠŸç‡1] ... [å…‰è°±åŠŸç‡8]`'
- en: '**Splitting raw data per sensor**'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '**æŒ‰ä¼ æ„Ÿå™¨åˆ†å‰²åŸå§‹æ•°æ®**'
- en: 'The data has samples from all axes; letâ€™s split and plot them separately:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®åŒ…å«æ‰€æœ‰è½´çš„æ ·æœ¬ï¼›è®©æˆ‘ä»¬åˆ†åˆ«æ‹†åˆ†å¹¶ç»˜åˆ¶å®ƒä»¬ï¼š
- en: '[PRE4]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../media/file981.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../media/file981.png)'
- en: '**Subtracting the mean**'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '**å‡å»å¹³å‡å€¼**'
- en: Next, we should subtract the mean from the *data*. Subtracting the mean from
    a data set is a common data pre-processing step in statistics and machine learning.
    The purpose of subtracting the mean from the data is to center the data around
    zero. This is important because it can reveal patterns and relationships that
    might be hidden if the data is not centered.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åº”è¯¥ä»*æ•°æ®*ä¸­å‡å»å¹³å‡å€¼ã€‚ä»æ•°æ®é›†ä¸­å‡å»å¹³å‡å€¼æ˜¯ç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ ä¸­å¸¸è§çš„æ•°æ®é¢„å¤„ç†æ­¥éª¤ã€‚ä»æ•°æ®ä¸­å‡å»å¹³å‡å€¼çš„ç›®çš„æ˜¯å°†æ•°æ®å›´ç»•é›¶å±…ä¸­ã€‚è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥æ­ç¤ºå¦‚æœæ•°æ®æœªå±…ä¸­å¯èƒ½éšè—çš„æ¨¡å¼å’Œå…³ç³»ã€‚
- en: 'Here are some specific reasons why subtracting the mean can be helpful:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸€äº›å…·ä½“çš„åŸå› è¯´æ˜ä¸ºä»€ä¹ˆå‡å»å¹³å‡å€¼å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ï¼š
- en: 'It simplifies analysis: By centering the data, the mean becomes zero, making
    some calculations simpler and easier to interpret.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒç®€åŒ–äº†åˆ†æï¼šé€šè¿‡å±…ä¸­æ•°æ®ï¼Œå¹³å‡å€¼å˜ä¸ºé›¶ï¼Œè¿™ä½¿å¾—ä¸€äº›è®¡ç®—æ›´ç®€å•ä¸”æ˜“äºè§£é‡Šã€‚
- en: 'It removes bias: If the data is biased, subtracting the mean can remove it
    and allow for a more accurate analysis.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒæ¶ˆé™¤äº†åå·®ï¼šå¦‚æœæ•°æ®æœ‰åå·®ï¼Œå‡å»å¹³å‡å€¼å¯ä»¥æ¶ˆé™¤å®ƒï¼Œä»è€Œå…è®¸æ›´å‡†ç¡®çš„åˆ†æã€‚
- en: 'It can reveal patterns: Centering the data can help uncover patterns that might
    be hidden if the data is not centered. For example, centering the data can help
    you identify trends over time if you analyze a time series dataset.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒå¯ä»¥æ­ç¤ºæ¨¡å¼ï¼šå°†æ•°æ®å±…ä¸­å¯ä»¥å¸®åŠ©æ­ç¤ºå¦‚æœæ•°æ®æœªå±…ä¸­å¯èƒ½éšè—çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåˆ†ææ—¶é—´åºåˆ—æ•°æ®é›†ï¼Œå±…ä¸­æ•°æ®å¯ä»¥å¸®åŠ©æ‚¨è¯†åˆ«æ—¶é—´è¶‹åŠ¿ã€‚
- en: 'It can improve performance: In some machine learning algorithms, centering
    the data can improve performance by reducing the influence of outliers and making
    the data more easily comparable. Overall, subtracting the mean is a simple but
    powerful technique that can be used to improve the analysis and interpretation
    of data.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒå¯ä»¥æé«˜æ€§èƒ½ï¼šåœ¨æŸäº›æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ï¼Œå±…ä¸­æ•°æ®å¯ä»¥é€šè¿‡å‡å°‘å¼‚å¸¸å€¼çš„å½±å“å¹¶ä½¿æ•°æ®æ›´å®¹æ˜“æ¯”è¾ƒæ¥æé«˜æ€§èƒ½ã€‚æ€»çš„æ¥è¯´ï¼Œå‡å»å¹³å‡å€¼æ˜¯ä¸€ç§ç®€å•ä½†å¼ºå¤§çš„æŠ€æœ¯ï¼Œå¯ç”¨äºæ”¹è¿›æ•°æ®åˆ†æå’Œè§£é‡Šã€‚
- en: '[PRE5]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](../media/file982.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../media/file982.png)'
- en: Time Domain Statistical features
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ—¶åŸŸç»Ÿè®¡ç‰¹å¾
- en: '**RMS Calculation**'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '**å‡æ–¹æ ¹è®¡ç®—**'
- en: The RMS value of a set of values (or a continuous-time waveform) is the square
    root of the arithmetic mean of the squares of the values or the square of the
    function that defines the continuous waveform. In physics, the RMS value of an
    electrical current is defined as the â€œvalue of the direct current that dissipates
    the same power in a resistor.â€
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ç»„å€¼ï¼ˆæˆ–è¿ç»­æ—¶é—´æ³¢å½¢ï¼‰çš„å‡æ–¹æ ¹æ˜¯è¯¥å€¼å¹³æ–¹çš„ç®—æœ¯å¹³å‡å€¼çš„å¹³æ–¹æ ¹ï¼Œæˆ–å®šä¹‰è¿ç»­æ³¢å½¢çš„å‡½æ•°çš„å¹³æ–¹ã€‚åœ¨ç‰©ç†å­¦ä¸­ï¼Œç”µæµçš„å‡æ–¹æ ¹è¢«å®šä¹‰ä¸ºâ€œåœ¨ç”µé˜»ä¸­æ¶ˆè€—ç›¸åŒåŠŸç‡çš„ç›´æµç”µå€¼ã€‚â€
- en: 'In the case of a set of <semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics>
    values <semantics><mrow><msub><mi>ğ‘¥</mi><mn>1</mn></msub><mo>,</mo><msub><mi>ğ‘¥</mi><mn>2</mn></msub><mo>,</mo><mi>â€¦</mi><mo>,</mo><msub><mi>ğ‘¥</mi><mi>ğ‘›</mi></msub></mrow><annotation
    encoding="application/x-tex">{ğ‘¥_1, ğ‘¥_2, \ldots, ğ‘¥_ğ‘›}</annotation></semantics>,
    the RMS is: <semantics><mrow><msub><mi>x</mi><mrow><mi mathvariant="normal">R</mi><mi
    mathvariant="normal">M</mi><mi mathvariant="normal">S</mi></mrow></msub><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mi>n</mi></mfrac><mrow><mo
    stretchy="true" form="prefix">(</mo><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>x</mi><mn>2</mn><mn>2</mn></msubsup><mo>+</mo><mi>â‹¯</mi><mo>+</mo><msubsup><mi>x</mi><mi>n</mi><mn>2</mn></msubsup><mo
    stretchy="true" form="postfix">)</mo></mrow></mrow></msqrt></mrow> <annotation
    encoding="application/x-tex">x_{\mathrm{RMS}} = \sqrt{\frac{1}{n} \left( x_1^2
    + x_2^2 + \cdots + x_n^2 \right)}</annotation></semantics>'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸€ç»„<semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics>å€¼<semantics><mrow><msub><mi>ğ‘¥</mi><mn>1</mn></msub><mo>,</mo><msub><mi>ğ‘¥</mi><mn>2</mn></msub><mo>,</mo><mi>â€¦</mi><mo>,</mo><msub><mi>ğ‘¥</mi><mi>ğ‘›</mi></msub></mrow><annotation
    encoding="application/x-tex">{ğ‘¥_1, ğ‘¥_2, \ldots, ğ‘¥_ğ‘›}</annotation></semantics>çš„æƒ…å†µä¸‹ï¼Œå‡æ–¹æ ¹ï¼ˆRMSï¼‰ä¸ºï¼š<semantics><mrow><msub><mi>x</mi><mrow><mi
    mathvariant="normal">R</mi><mi mathvariant="normal">M</mi><mi mathvariant="normal">S</mi></mrow></msub><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mi>n</mi></mfrac><mrow><mo
    stretchy="true" form="prefix">(</mo><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>x</mi><mn>2</mn><mn>2</mn></msubsup><mo>+</mo><mi>â‹¯</mi><mo>+</mo><msubsup><mi>x</mi><mi>n</mi><mn>2</mn></msubsup><mo
    stretchy="true" form="postfix">)</mo></mrow></mrow></msqrt></mrow> <annotation
    encoding="application/x-tex">x_{\mathrm{RMS}} = \sqrt{\frac{1}{n} \left( x_1^2
    + x_2^2 + \cdots + x_n^2 \right)}</annotation></semantics>
- en: NOTE that the RMS value is different for the original raw data, and after subtracting
    the mean
  id: totrans-89
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼ŒåŸå§‹åŸå§‹æ•°æ®ä¸å‡å»å¹³å‡å€¼åçš„RMSå€¼ä¸åŒ
- en: '[PRE6]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'We can compare the calculated RMS values here with the ones presented by Edge
    Impulse:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°†è¿™é‡Œè®¡ç®—å‡ºçš„RMSå€¼ä¸Edge Impulseæä¾›çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼š
- en: '[PRE7]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '`rms_accX= 2.7322`'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '`rms_accX= 2.7322`'
- en: '`rms_accY= 0.7833`'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '`rms_accY= 0.7833`'
- en: '`rms_accZ= 0.1383`'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '`rms_accZ= 0.1383`'
- en: 'Compared with Edge Impulse result features:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Edge Impulseçš„ç»“æœç‰¹å¾ç›¸æ¯”ï¼š
- en: '`[2.7322, 0.7833, 0.1383]`'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '`[2.7322, 0.7833, 0.1383]`'
- en: '**Skewness and kurtosis calculation**'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '**ååº¦å’Œå³°åº¦è®¡ç®—**'
- en: In statistics, skewness and kurtosis are two ways to measure the **shape of
    a distribution**.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œååº¦å’Œå³°åº¦æ˜¯è¡¡é‡åˆ†å¸ƒ**å½¢çŠ¶**çš„ä¸¤ç§æ–¹å¼ã€‚
- en: 'Here, we can see the sensor values distribution:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¼ æ„Ÿå™¨å€¼çš„åˆ†å¸ƒï¼š
- en: '[PRE8]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![](../media/file983.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../media/file983.png)'
- en: '[**Skewness**](https://en.wikipedia.org/wiki/Skewness) is a measure of the
    asymmetry of a distribution. This value can be positive or negative.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '[**ååº¦**](https://en.wikipedia.org/wiki/Skewness)æ˜¯è¡¡é‡åˆ†å¸ƒä¸å¯¹ç§°æ€§çš„åº¦é‡ã€‚æ­¤å€¼å¯ä»¥æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ã€‚'
- en: '![](../media/file984.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../media/file984.png)'
- en: A negative skew indicates that the tail is on the left side of the distribution,
    which extends towards more negative values.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è´Ÿååº¦è¡¨ç¤ºåˆ†å¸ƒçš„å°¾å·´åœ¨å·¦ä¾§ï¼Œå»¶ä¼¸åˆ°æ›´è´Ÿçš„å€¼ã€‚
- en: A positive skew indicates that the tail is on the right side of the distribution,
    which extends towards more positive values.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ­£ååº¦è¡¨ç¤ºåˆ†å¸ƒçš„å°¾å·´åœ¨å³ä¾§ï¼Œå»¶ä¼¸åˆ°æ›´æ­£çš„å€¼ã€‚
- en: A zero value indicates no skewness in the distribution at all, meaning the distribution
    is perfectly symmetrical.
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é›¶å€¼è¡¨ç¤ºåˆ†å¸ƒä¸­å®Œå…¨æ²¡æœ‰ååº¦ï¼Œæ„å‘³ç€åˆ†å¸ƒæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚
- en: '[PRE9]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '`skew_accX= -0.099`'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '`skew_accX= -0.099`'
- en: '`skew_accY= 0.1756`'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '`skew_accY= 0.1756`'
- en: '`skew_accZ= 6.9463`'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '`skew_accZ= 6.9463`'
- en: 'Compared with Edge Impulse result features:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Edge Impulseç»“æœç‰¹å¾ç›¸æ¯”ï¼š
- en: '`[-0.0978, 0.1735, 6.8629]`'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '`[-0.0978, 0.1735, 6.8629]`'
- en: '[**Kurtosis**](https://en.wikipedia.org/wiki/Kurtosis) is a measure of whether
    or not a distribution is heavy-tailed or light-tailed relative to a normal distribution.'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '[**å³°åº¦**](https://en.wikipedia.org/wiki/Kurtosis)æ˜¯è¡¡é‡åˆ†å¸ƒç›¸å¯¹äºæ­£æ€åˆ†å¸ƒæ˜¯é‡å°¾è¿˜æ˜¯è½»å°¾çš„åº¦é‡ã€‚'
- en: '![](../media/file985.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../media/file985.png)'
- en: The kurtosis of a normal distribution is zero.
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ­£æ€åˆ†å¸ƒçš„å³°åº¦ä¸ºé›¶ã€‚
- en: If a given distribution has a negative kurtosis, it is said to be playkurtic,
    which means it tends to produce fewer and less extreme outliers than the normal
    distribution.
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœä¸€ä¸ªç»™å®šçš„åˆ†å¸ƒå…·æœ‰è´Ÿçš„å³°åº¦ï¼Œåˆ™ç§°ä¸ºplaykurticï¼Œè¿™æ„å‘³ç€å®ƒæ¯”æ­£æ€åˆ†å¸ƒäº§ç”Ÿæ›´å°‘å’Œæ›´æç«¯çš„å¼‚å¸¸å€¼ã€‚
- en: If a given distribution has a positive kurtosis , it is said to be leptokurtic,
    which means it tends to produce more outliers than the normal distribution.
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœä¸€ä¸ªç»™å®šçš„åˆ†å¸ƒå…·æœ‰æ­£çš„å³°åº¦ï¼Œåˆ™ç§°ä¸ºleptokurticï¼Œè¿™æ„å‘³ç€å®ƒæ¯”æ­£æ€åˆ†å¸ƒäº§ç”Ÿæ›´å¤šçš„å¼‚å¸¸å€¼ã€‚
- en: '[PRE10]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '`kurt_accX= -0.3475`'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '`kurt_accX= -0.3475`'
- en: '`kurt_accY= 1.2673`'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '`kurt_accY= 1.2673`'
- en: '`kurt_accZ= 68.1123`'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '`kurt_accZ= 68.1123`'
- en: 'Compared with Edge Impulse result features:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Edge Impulseç»“æœç‰¹å¾ç›¸æ¯”ï¼š
- en: '`[-0.3813, 1.1696, 65.3726]`'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '`[-0.3813, 1.1696, 65.3726]`'
- en: Spectral features
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é¢‘è°±ç‰¹å¾
- en: The filtered signal is passed to the Spectral power section, which computes
    the **FFT** to generate the spectral features.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: ç»è¿‡æ»¤æ³¢çš„ä¿¡å·è¢«ä¼ é€’åˆ°é¢‘è°±åŠŸç‡éƒ¨åˆ†ï¼Œè¯¥éƒ¨åˆ†è®¡ç®—**FFT**ä»¥ç”Ÿæˆé¢‘è°±ç‰¹å¾ã€‚
- en: Since the sampled window is usually larger than the FFT size, the window will
    be broken into frames (or â€œsub-windowsâ€), and the FFT is calculated over each
    frame.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºé‡‡æ ·çª—å£é€šå¸¸å¤§äºFFTå¤§å°ï¼Œçª—å£å°†è¢«åˆ†æˆå¸§ï¼ˆæˆ–â€œå­çª—å£â€ï¼‰ï¼ŒFFTå°†åœ¨æ¯ä¸ªå¸§ä¸Šè®¡ç®—ã€‚
- en: '**FFT length** - The FFT size. This determines the number of FFT bins and the
    resolution of frequency peaks that can be separated. A low number means more signals
    will average together in the same FFT bin, but it also reduces the number of features
    and model size. A high number will separate more signals into separate bins, generating
    a larger model.'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**FFTé•¿åº¦** - FFTå¤§å°ã€‚è¿™å†³å®šäº†FFTåˆ†ç®±çš„æ•°é‡å’Œå¯ä»¥åˆ†ç¦»çš„é¢‘ç‡å³°å€¼çš„åˆ†è¾¨ç‡ã€‚æ•°å­—ä½æ„å‘³ç€æ›´å¤šä¿¡å·å°†åœ¨åŒä¸€ä¸ªFFTåˆ†ç®±ä¸­å¹³å‡ï¼Œä½†å®ƒä¹Ÿå‡å°‘äº†ç‰¹å¾æ•°é‡å’Œæ¨¡å‹å¤§å°ã€‚æ•°å­—é«˜å°†æ›´å¤šä¿¡å·åˆ†ç¦»åˆ°å•ç‹¬çš„åˆ†ç®±ä¸­ï¼Œç”Ÿæˆæ›´å¤§çš„æ¨¡å‹ã€‚'
- en: The total number of Spectral Power features will vary depending on how you set
    the filter and FFT parameters. With No filtering, the number of features is 1/2
    of the FFT Length.
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ€»çš„é¢‘è°±åŠŸç‡ç‰¹å¾æ•°é‡å°†æ ¹æ®æ‚¨è®¾ç½®çš„æ»¤æ³¢å™¨å’ŒFFTå‚æ•°è€Œå˜åŒ–ã€‚æ²¡æœ‰æ»¤æ³¢æ—¶ï¼Œç‰¹å¾æ•°é‡æ˜¯FFTé•¿åº¦çš„1/2ã€‚
- en: '**Spectral Power - Welchâ€™s method**'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '**é¢‘è°±åŠŸç‡ - å¨å°”å¥‡æ–¹æ³•**'
- en: We should use [Welchâ€™s method](https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.signal.welch.html)
    to split the signal on the frequency domain in bins and calculate the power spectrum
    for each bin. This method divides the signal into overlapping segments, applies
    a window function to each segment, computes the periodogram of each segment using
    DFT, and averages them to obtain a smoother estimate of the power spectrum.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åº”è¯¥ä½¿ç”¨[å¨å°”å¥‡æ–¹æ³•](https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.signal.welch.html)åœ¨é¢‘åŸŸçš„binsä¸­åˆ†å‰²ä¿¡å·ï¼Œå¹¶å¯¹æ¯ä¸ªbinè®¡ç®—åŠŸç‡è°±ã€‚è¿™ç§æ–¹æ³•å°†ä¿¡å·åˆ†å‰²æˆé‡å çš„æ®µï¼Œå¯¹æ¯ä¸ªæ®µåº”ç”¨çª—å£å‡½æ•°ï¼Œä½¿ç”¨DFTè®¡ç®—æ¯ä¸ªæ®µçš„å‘¨æœŸå›¾ï¼Œå¹¶å°†å®ƒä»¬å¹³å‡ä»¥è·å¾—åŠŸç‡è°±çš„æ›´å¹³æ»‘çš„ä¼°è®¡ã€‚
- en: '[PRE11]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Applying the above function to 3 signals:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ä¸Šè¿°å‡½æ•°åº”ç”¨äº3ä¸ªä¿¡å·ï¼š
- en: '[PRE12]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'We can plot the Power Spectrum P(f):'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ç»˜åˆ¶åŠŸç‡è°±P(f)ï¼š
- en: '[PRE13]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '![](../media/file986.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file986.png)'
- en: 'Besides the Power Spectrum, we can also include the skewness and kurtosis of
    the features in the frequency domain (should be available on a new version):'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†åŠŸç‡è°±ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†ç‰¹å¾çš„ååº¦å’Œå³°åº¦åŒ…å«åœ¨é¢‘åŸŸä¸­ï¼ˆåº”åœ¨æ–°ç‰ˆæœ¬ä¸­å¯ç”¨ï¼‰ï¼š
- en: '[PRE14]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Letâ€™s now list all Spectral features per axis and compare them with EI:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬åˆ—å‡ºæ¯ä¸ªè½´çš„æ‰€æœ‰é¢‘è°±ç‰¹å¾ï¼Œå¹¶ä¸EIè¿›è¡Œæ¯”è¾ƒï¼š
- en: '[PRE15]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'EI Processed Spectral features (accX):'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: EIå¤„ç†åçš„é¢‘è°±ç‰¹å¾ï¼ˆaccXï¼‰ï¼š
- en: 2.398, 3.8924, 24.6841, 9.6303, 8.4867, 7.7793, 2.9963, 5.6242, 3.4198, 4.2735
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 2.398, 3.8924, 24.6841, 9.6303, 8.4867, 7.7793, 2.9963, 5.6242, 3.4198, 4.2735
- en: 'Calculated features:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—ç‰¹å¾ï¼š
- en: 2.9069 8.5569 24.6844 9.6304 8.4865 7.7794 2.9964 5.6242 3.4198 4.2736
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 2.9069 8.5569 24.6844 9.6304 8.4865 7.7794 2.9964 5.6242 3.4198 4.2736
- en: '[PRE16]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'EI Processed Spectral features (accY):'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: EIå¤„ç†åçš„é¢‘è°±ç‰¹å¾ï¼ˆaccYï¼‰ï¼š
- en: 0.9426, -0.8039, 5.429, 0.999, 1.0315, 0.9459, 1.8117, 0.9088, 1.3302, 3.112
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 0.9426, -0.8039, 5.429, 0.999, 1.0315, 0.9459, 1.8117, 0.9088, 1.3302, 3.112
- en: 'Calculated features:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—ç‰¹å¾ï¼š
- en: 1.1426 -0.3886 5.4289 0.999 1.0315 0.9458 1.8116 0.9088 1.3301 3.1121
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 1.1426 -0.3886 5.4289 0.999 1.0315 0.9458 1.8116 0.9088 1.3301 3.1121
- en: '[PRE17]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'EI Processed Spectral features (accZ):'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: EIå¤„ç†åçš„é¢‘è°±ç‰¹å¾ï¼ˆaccZï¼‰ï¼š
- en: 0.3117, -1.3812, 0.0606, 0.057, 0.0567, 0.0976, 0.194, 0.2574, 0.2083, 0.166
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 0.3117, -1.3812, 0.0606, 0.057, 0.0567, 0.0976, 0.194, 0.2574, 0.2083, 0.166
- en: 'Calculated features:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—ç‰¹å¾ï¼š
- en: 0.3781 -1.4874 0.0606 0.057 0.0567 0.0976 0.194 0.2574 0.2083 0.166
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 0.3781 -1.4874 0.0606 0.057 0.0567 0.0976 0.194 0.2574 0.2083 0.166
- en: Time-frequency domain
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ—¶é¢‘åŸŸ
- en: Wavelets
  id: totrans-157
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å°æ³¢
- en: '[Wavelet](https://en.wikipedia.org/wiki/Wavelet) is a powerful technique for
    analyzing signals with transient features or abrupt changes, such as spikes or
    edges, which are difficult to interpret with traditional Fourier-based methods.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '[å°æ³¢](https://en.wikipedia.org/wiki/Wavelet)æ˜¯ä¸€ç§å¼ºå¤§çš„æŠ€æœ¯ï¼Œç”¨äºåˆ†æå…·æœ‰ç¬æ€ç‰¹å¾æˆ–çªç„¶å˜åŒ–çš„ä¿¡å·ï¼Œå¦‚å°–å³°æˆ–è¾¹ç¼˜ï¼Œè¿™äº›ç‰¹å¾éš¾ä»¥ç”¨ä¼ ç»Ÿçš„åŸºäºå‚…é‡Œå¶çš„æ–¹æ³•è§£é‡Šã€‚'
- en: Wavelet transforms work by breaking down a signal into different frequency components
    and analyzing them individually. The transformation is achieved by convolving
    the signal with a **wavelet function**, a small waveform centered at a specific
    time and frequency. This process effectively decomposes the signal into different
    frequency bands, each of which can be analyzed separately.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: å°æ³¢å˜æ¢é€šè¿‡å°†ä¿¡å·åˆ†è§£æˆä¸åŒçš„é¢‘ç‡åˆ†é‡å¹¶å•ç‹¬åˆ†æå®ƒä»¬æ¥å®ç°ã€‚è¿™ç§è½¬æ¢æ˜¯é€šè¿‡å°†ä¿¡å·ä¸**å°æ³¢å‡½æ•°**å·ç§¯æ¥å®ç°çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªä»¥ç‰¹å®šæ—¶é—´å’Œé¢‘ç‡ä¸ºä¸­å¿ƒçš„å°æ³¢å½¢ã€‚è¿™ä¸ªè¿‡ç¨‹æœ‰æ•ˆåœ°å°†ä¿¡å·åˆ†è§£æˆä¸åŒçš„é¢‘ç‡å¸¦ï¼Œæ¯ä¸ªé¢‘ç‡å¸¦éƒ½å¯ä»¥å•ç‹¬åˆ†æã€‚
- en: One of the critical benefits of wavelet transforms is that they allow for time-frequency
    analysis, which means that they can reveal the frequency content of a signal as
    it changes over time. This makes them particularly useful for analyzing non-stationary
    signals, which vary over time.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: å°æ³¢å˜æ¢çš„ä¸€ä¸ªå…³é”®ä¼˜ç‚¹æ˜¯å®ƒä»¬å…è®¸è¿›è¡Œæ—¶é—´-é¢‘ç‡åˆ†æï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥æ­ç¤ºä¿¡å·éšæ—¶é—´å˜åŒ–çš„é¢‘ç‡å†…å®¹ã€‚è¿™ä½¿å¾—å®ƒä»¬ç‰¹åˆ«é€‚ç”¨äºåˆ†æéå¹³ç¨³ä¿¡å·ï¼Œè¿™äº›ä¿¡å·éšæ—¶é—´å˜åŒ–ã€‚
- en: Wavelets have many practical applications, including signal and image compression,
    denoising, feature extraction, and image processing.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: å°æ³¢æœ‰è®¸å¤šå®é™…åº”ç”¨ï¼ŒåŒ…æ‹¬ä¿¡å·å’Œå›¾åƒå‹ç¼©ã€å»å™ªã€ç‰¹å¾æå–å’Œå›¾åƒå¤„ç†ã€‚
- en: 'Letâ€™s select Wavelet on the Spectral Features block in the same project:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åœ¨åŒä¸€é¡¹ç›®ä¸­å…‰è°±ç‰¹å¾å—ä¸­é€‰æ‹©å°æ³¢ï¼š
- en: 'Type: Wavelet'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç±»å‹ï¼šå°æ³¢
- en: 'Wavelet Decomposition Level: 1'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°æ³¢åˆ†è§£çº§åˆ«ï¼š1
- en: 'Wavelet: bior1.3'
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°æ³¢ï¼šbior1.3
- en: '![](../media/file987.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file987.png)'
- en: '**The Wavelet Function**'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '**å°æ³¢å‡½æ•°**'
- en: '[PRE18]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '![](../media/file988.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file988.png)'
- en: 'As we did before, letâ€™s copy and past the Processed Features:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€åšçš„é‚£æ ·ï¼Œè®©æˆ‘ä»¬å¤åˆ¶å¹¶ç²˜è´´å¤„ç†è¿‡çš„ç‰¹å¾ï¼š
- en: '![](../media/file989.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file989.png)'
- en: '[PRE19]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Edge Impulse computes the [Discrete Wavelet Transform (DWT)](https://pywavelets.readthedocs.io/en/latest/ref/dwt-discrete-wavelet-transform.html)
    for each one of the Wavelet Decomposition levels selected. After that, the features
    will be extracted.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: Edge Impulse å¯¹æ¯ä¸ªé€‰å®šçš„æ³¢åˆ†è§£çº§åˆ«è®¡ç®— [ç¦»æ•£å°æ³¢å˜æ¢ (DWT)](https://pywavelets.readthedocs.io/en/latest/ref/dwt-discrete-wavelet-transform.html)ã€‚ä¹‹åï¼Œå°†æå–ç‰¹å¾ã€‚
- en: 'In the case of **Wavelets**, the extracted features are *basic statistical
    values*, *crossing values*, and *entropy.* There are, in total, 14 features per
    layer as below:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ **å°æ³¢** çš„æƒ…å†µä¸‹ï¼Œæå–çš„ç‰¹å¾æ˜¯ *åŸºæœ¬ç»Ÿè®¡å€¼*ã€*äº¤å‰å€¼* å’Œ *ç†µ*ã€‚æ€»å…±æ¯ä¸ªå±‚æœ‰14ä¸ªç‰¹å¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '[11] Statistical Features: **n5, n25, n75, n95, mean, median,** standard deviation
    **(std)**, variance **(var)** root mean square **(rms), kurtosis**, and skewness
    **(skew)**.'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[11] ç»Ÿè®¡ç‰¹å¾ï¼š**n5, n25, n75, n95, mean, median**ï¼Œæ ‡å‡†å·® **(std**)ï¼Œæ–¹å·® **(var**)ï¼Œå‡æ–¹æ ¹
    **(rms**)ï¼Œå³°åº¦ **(kurtosis**) å’Œååº¦ **(skew)**ã€‚'
- en: '[2] Crossing Features: Zero crossing rate **(zcross)** and mean crossing rate
    **(mcross)** are the times that the signal passes through the baseline <semantics><mrow><mo
    stretchy="true" form="prefix">(</mo><mi>y</mi><mo>=</mo><mn>0</mn><mo stretchy="true"
    form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(y = 0)</annotation></semantics>
    and the average level (y = u) per unit of time, respectively'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[2] äº¤å‰ç‰¹å¾ï¼šé›¶äº¤å‰ç‡ **(zcross**) å’Œå¹³å‡äº¤å‰ç‡ **(mcross**) åˆ†åˆ«æ˜¯ä¿¡å·é€šè¿‡åŸºçº¿ <semantics><mrow><mo
    stretchy="true" form="prefix">(</mo><mi>y</mi><mo>=</mo><mn>0</mn><mo stretchy="true"
    form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(y = 0)</annotation></semantics>
    å’Œå¹³å‡æ°´å¹³ï¼ˆy = uï¼‰çš„å•ä½æ—¶é—´æ¬¡æ•°'
- en: '[1] Complexity Feature: **Entropy** is a characteristic measure of the complexity
    of the signal'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[1] å¤æ‚åº¦ç‰¹å¾ï¼š**ç†µ**æ˜¯ä¿¡å·å¤æ‚æ€§çš„ç‰¹å¾åº¦é‡'
- en: All the above 14 values are calculated for each Layer (including L0, the original
    signal)
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰çš„ä¸Šè¿°14ä¸ªå€¼éƒ½æ˜¯é’ˆå¯¹æ¯ä¸ªå±‚ï¼ˆåŒ…æ‹¬L0ï¼ŒåŸå§‹ä¿¡å·ï¼‰è®¡ç®—çš„
- en: The total number of features varies depending on how you set the filter and
    the number of layers. For example, with [None] filtering and Level[1], the number
    of features per axis will be <semantics><mrow><mn>14</mn><mo>Ã—</mo><mn>2</mn></mrow><annotation
    encoding="application/x-tex">14\times 2</annotation></semantics> (L0 and L1) =
    28\. For the three axes, we will have a total of 84 features.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç‰¹å¾çš„æ€»æ•°å–å†³äºä½ å¦‚ä½•è®¾ç½®æ»¤æ³¢å™¨å’Œå±‚æ•°ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ [None] æ»¤æ³¢å™¨å’Œçº§åˆ«[1]ï¼Œæ¯ä¸ªè½´çš„ç‰¹å¾æ•°å°†æ˜¯ <semantics><mrow><mn>14</mn><mo>Ã—</mo><mn>2</mn></mrow><annotation
    encoding="application/x-tex">14\times 2</annotation></semantics>ï¼ˆL0å’ŒL1ï¼‰= 28ã€‚å¯¹äºä¸‰ä¸ªè½´ï¼Œæˆ‘ä»¬å°†æœ‰æ€»å…±84ä¸ªç‰¹å¾ã€‚
- en: Wavelet Analysis
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å°æ³¢åˆ†æ
- en: Wavelet analysis decomposes the signal (**accX, accY**, **and accZ**) into different
    frequency components using a set of filters, which separate these components into
    low-frequency (slowly varying parts of the signal containing long-term patterns),
    such as **accX_l1, accY_l1, accZ_l1** and, high-frequency (rapidly varying parts
    of the signal containing short-term patterns) components, such as **accX_d1, accY_d1,
    accZ_d1**, permitting the extraction of features for further analysis or classification.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: å°æ³¢åˆ†æé€šè¿‡ä¸€ç»„æ»¤æ³¢å™¨å°†ä¿¡å·ï¼ˆ**accX, accY**, **å’Œ accZ**ï¼‰åˆ†è§£æˆä¸åŒçš„é¢‘ç‡æˆåˆ†ï¼Œè¿™äº›æ»¤æ³¢å™¨å°†è¿™äº›æˆåˆ†åˆ†ç¦»æˆä½é¢‘ï¼ˆä¿¡å·ç¼“æ…¢å˜åŒ–çš„éƒ¨åˆ†ï¼ŒåŒ…å«é•¿æœŸæ¨¡å¼ï¼‰ï¼Œä¾‹å¦‚
    **accX_l1, accY_l1, accZ_l1** å’Œé«˜é¢‘ï¼ˆä¿¡å·å¿«é€Ÿå˜åŒ–çš„éƒ¨åˆ†ï¼ŒåŒ…å«çŸ­æœŸæ¨¡å¼ï¼‰æˆåˆ†ï¼Œä¾‹å¦‚ **accX_d1, accY_d1, accZ_d1**ï¼Œå…è®¸æå–ç‰¹å¾ä»¥è¿›è¡Œè¿›ä¸€æ­¥åˆ†ææˆ–åˆ†ç±»ã€‚
- en: 'Only the low-frequency components (approximation coefficients, or cA) will
    be used. In this example, we assume only one level (Single-level Discrete Wavelet
    Transform), where the function will return a tuple. With a multilevel decomposition,
    the â€œMultilevel 1D Discrete Wavelet Transformâ€, the result will be a list (for
    detail, please see: [Discrete Wavelet Transform (DWT)](https://pywavelets.readthedocs.io/en/latest/ref/dwt-discrete-wavelet-transform.html)
    )'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: åªä¼šä½¿ç”¨ä½é¢‘åˆ†é‡ï¼ˆè¿‘ä¼¼ç³»æ•°ï¼Œæˆ– cAï¼‰ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å‡è®¾åªæœ‰ä¸€ä¸ªçº§åˆ«ï¼ˆå•çº§ç¦»æ•£å°æ³¢å˜æ¢ï¼‰ï¼Œå‡½æ•°å°†è¿”å›ä¸€ä¸ªå…ƒç»„ã€‚åœ¨å¤šçº§åˆ†è§£ä¸­ï¼Œâ€œå¤šçº§1Dç¦»æ•£å°æ³¢å˜æ¢â€ï¼Œç»“æœå°†æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ˆè¯¦æƒ…è¯·è§ï¼š[ç¦»æ•£å°æ³¢å˜æ¢
    (DWT)](https://pywavelets.readthedocs.io/en/latest/ref/dwt-discrete-wavelet-transform.html)ï¼‰
- en: '[PRE20]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '![](../media/file990.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file990.png)'
- en: Feature Extraction
  id: totrans-185
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ç‰¹å¾æå–
- en: 'Letâ€™s start with the basic statistical features. Note that we apply the function
    for both the original signals and the resultant cAs from the DWT:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»åŸºæœ¬çš„ç»Ÿè®¡ç‰¹å¾å¼€å§‹ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å¯¹åŸå§‹ä¿¡å·å’Œ DWT çš„ç»“æœ cA éƒ½åº”ç”¨äº†è¯¥å‡½æ•°ï¼š
- en: '[PRE21]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'The Skelness and Kurtosis:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: Skelness å’Œ Kurtosisï¼š
- en: '[PRE22]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '**Zero crossing (zcross)** is the number of times the wavelet coefficient crosses
    the zero axis. It can be used to measure the signalâ€™s frequency content since
    high-frequency signals tend to have more zero crossings than low-frequency signals.'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '**é›¶ç©¿è¶Šï¼ˆzcross**ï¼‰æ˜¯å°æ³¢ç³»æ•°ç©¿è¶Šé›¶è½´çš„æ¬¡æ•°ã€‚å®ƒå¯ä»¥ç”¨æ¥æµ‹é‡ä¿¡å·çš„é¢‘ç‡å†…å®¹ï¼Œå› ä¸ºé«˜é¢‘ä¿¡å·å¾€å¾€æ¯”ä½é¢‘ä¿¡å·æœ‰æ›´å¤šçš„é›¶ç©¿è¶Šã€‚'
- en: '**Mean crossing (mcross)**, on the other hand, is the number of times the wavelet
    coefficient crosses the mean of the signal. It can be used to measure the amplitude
    since high-amplitude signals tend to have more mean crossings than low-amplitude
    signals.'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€æ–¹é¢ï¼Œ**å‡å€¼ç©¿è¶Šï¼ˆmcross**ï¼‰æ˜¯å°æ³¢ç³»æ•°ç©¿è¶Šä¿¡å·å‡å€¼æ¬¡æ•°ã€‚å®ƒå¯ä»¥ç”¨æ¥æµ‹é‡æŒ¯å¹…ï¼Œå› ä¸ºé«˜æŒ¯å¹…ä¿¡å·å¾€å¾€æ¯”ä½æŒ¯å¹…ä¿¡å·æœ‰æ›´å¤šçš„å‡å€¼ç©¿è¶Šã€‚
- en: '[PRE23]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: In wavelet analysis, **entropy** refers to the degree of disorder or randomness
    in the distribution of wavelet coefficients. Here, we used Shannon entropy, which
    measures a signalâ€™s uncertainty or randomness. It is calculated as the negative
    sum of the probabilities of the different possible outcomes of the signal multiplied
    by their base 2 logarithm. In the context of wavelet analysis, Shannon entropy
    can be used to measure the complexity of the signal, with higher values indicating
    greater complexity.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å°æ³¢åˆ†æä¸­ï¼Œ**ç†µ**æŒ‡çš„æ˜¯å°æ³¢ç³»æ•°åˆ†å¸ƒçš„æ— åºåº¦æˆ–éšæœºåº¦ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†é¦™å†œç†µï¼Œå®ƒè¡¡é‡ä¿¡å·çš„ç¡®å®šæ€§æˆ–éšæœºæ€§ã€‚å®ƒæ˜¯é€šè¿‡å°†ä¿¡å·ä¸åŒå¯èƒ½ç»“æœçš„æ¦‚ç‡ä¹˜ä»¥å®ƒä»¬çš„2ä¸ºåº•çš„å¯¹æ•°ï¼Œç„¶åå–è´Ÿå’Œæ¥è®¡ç®—çš„ã€‚åœ¨å°æ³¢åˆ†æä¸­ï¼Œé¦™å†œç†µå¯ä»¥ç”¨æ¥è¡¡é‡ä¿¡å·çš„å¤æ‚æ€§ï¼Œå€¼è¶Šé«˜è¡¨ç¤ºå¤æ‚æ€§è¶Šå¤§ã€‚
- en: '[PRE24]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Letâ€™s now list all the wavelet features and create a list by layers.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬åˆ—å‡ºæ‰€æœ‰çš„å°æ³¢ç‰¹å¾ï¼Œå¹¶æŒ‰å±‚åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ã€‚
- en: '[PRE25]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '![](../media/file991.png)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![](../media/file991.png)'
- en: Summary
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¦‚è¿°
- en: Edge Impulse Studio is a powerful online platform that can handle the pre-processing
    task for us. Still, given our engineering perspective, we want to understand what
    is happening under the hood. This knowledge will help us find the best options
    and hyper-parameters for tuning our projects.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: Edge Impulse Studio æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åœ¨çº¿å¹³å°ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬å¤„ç†é¢„å¤„ç†ä»»åŠ¡ã€‚ç„¶è€Œï¼Œä»æˆ‘ä»¬çš„å·¥ç¨‹è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬æƒ³è¦äº†è§£åº•å±‚å‘ç”Ÿäº†ä»€ä¹ˆã€‚è¿™äº›çŸ¥è¯†å°†å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°æœ€ä½³é€‰é¡¹å’Œè¶…å‚æ•°æ¥è°ƒæ•´æˆ‘ä»¬çš„é¡¹ç›®ã€‚
- en: 'Daniel Situnayake wrote in his [blog:](https://situnayake.com/) â€œRaw sensor
    data is highly dimensional and noisy. Digital signal processing algorithms help
    us sift the signal from the noise. DSP is an essential part of embedded engineering,
    and many edge processors have on-board acceleration for DSP. As an ML engineer,
    learning basic DSP gives you superpowers for handling high-frequency time series
    data in your models.â€ I recommend you read Danâ€™s excellent post in its totality:
    [nn to cpp: What you need to know about porting deep learning models to the edge](https://situnayake.com/2023/03/21/nn-to-cpp.html).'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: Daniel Situnayake åœ¨ä»–çš„ [åšå®¢](https://situnayake.com/) ä¸­å†™é“ï¼šâ€œåŸå§‹ä¼ æ„Ÿå™¨æ•°æ®é«˜åº¦å¤šç»´ä¸”å™ªå£°å¤§ã€‚æ•°å­—ä¿¡å·å¤„ç†ç®—æ³•å¸®åŠ©æˆ‘ä»¬ä»å™ªå£°ä¸­æå–ä¿¡å·ã€‚DSP
    æ˜¯åµŒå…¥å¼å·¥ç¨‹çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œè®¸å¤šè¾¹ç¼˜å¤„ç†å™¨éƒ½å†…ç½®äº† DSP åŠ é€Ÿã€‚ä½œä¸ºä¸€åæœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆï¼Œå­¦ä¹ åŸºæœ¬çš„ DSP å¯ä»¥è®©ä½ åœ¨æ¨¡å‹ä¸­å¤„ç†é«˜é¢‘æ—¶é—´åºåˆ—æ•°æ®æ—¶æ‹¥æœ‰è¶…èƒ½åŠ›ã€‚â€
    æˆ‘å»ºè®®æ‚¨å®Œæ•´åœ°é˜…è¯» Dan çš„ä¼˜ç§€æ–‡ç« ï¼š[nn to cppï¼šå°†æ·±åº¦å­¦ä¹ æ¨¡å‹ç§»æ¤åˆ°è¾¹ç¼˜éœ€è¦äº†è§£çš„å†…å®¹](https://situnayake.com/2023/03/21/nn-to-cpp.html)ã€‚
