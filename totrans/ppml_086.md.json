["```py\nuse std::sync::Mutex;\n\n// An integer protected by a mutex lock\nlet lock = Mutex::new(0);\n\n// Acquire a lock on the mutex\nlet mut guard = lock.lock().unwrap();\n\n// Modify the data through the guard,\n// leveraging its `Deref` implementation\n*guard += 1;\n\n// The lock is released when `data` goes out of scope\n// This can be done explicitly by dropping the guard\n// or happen implicitly when the guard goes out of scope\ndrop(guard)\n```", "```py\n// The new structure, with a lock for each ticket\nstruct TicketStore {\n    tickets: BTreeMap<TicketId, Mutex<Ticket>>,\n}\n```", "```py\nuse std::thread::spawn;\nuse std::sync::Mutex;\nuse std::sync::mpsc::sync_channel;\n\nfn main() {\n    let lock = Mutex::new(0);\n    let (sender, receiver) = sync_channel(1);\n    let guard = lock.lock().unwrap();\n\n    spawn(move || {\n        receiver.recv().unwrap();\n    });\n\n    // Try to send the guard over the channel\n    // to another thread\n    sender.send(guard);\n}\n```", "```py\nerror[E0277]: `MutexGuard<'_, i32>` cannot be sent between \n              threads safely\n   --> src/main.rs:10:7\n    |\n10  |   spawn(move || {\n    |  _-----_^\n    | | |\n    | | required by a bound introduced by this call\n11  | |     receiver.recv().unwrap();\n12  | | });\n    | |_^ `MutexGuard<'_, i32>` cannot be sent between threads safely\n    |\n    = help: the trait `Send` is not implemented for \n            `MutexGuard<'_, i32>`, which is required by \n            `{closure@src/main.rs:10:7: 10:14}: Send`\n    = note: required for `Receiver<MutexGuard<'_, i32>>` \n            to implement `Send`\nnote: required because it's used within this closure \n```", "```py\nimpl<T> Mutex<T> {\n    // `&self`, not `self`!\n    pub fn lock(&self) -> LockResult<MutexGuard<'_, T>> {\n        // Implementation details\n    }\n}\n```", "```py\nuse std::sync::Arc;\n\nlet data: Arc<u32> = Arc::new(0);\nlet data_clone = Arc::clone(&data);\n\n// `Arc<T>` implements `Deref<T>`, so can convert \n// a `&Arc<T>` to a `&T` using deref coercion\nlet data_ref: &u32 = &data;\n```"]