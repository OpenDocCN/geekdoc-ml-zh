- en: Feature Ranking
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åº
- en: åŸæ–‡ï¼š[https://geostatsguy.github.io/MachineLearningDemos_Book/MachineLearning_feature_ranking.html](https://geostatsguy.github.io/MachineLearningDemos_Book/MachineLearning_feature_ranking.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://geostatsguy.github.io/MachineLearningDemos_Book/MachineLearning_feature_ranking.html](https://geostatsguy.github.io/MachineLearningDemos_Book/MachineLearning_feature_ranking.html)
- en: Michael J. Pyrcz, Professor, The University of Texas at Austin
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Michael J. Pyrczï¼Œæ•™æˆï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡
- en: '[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [Website](http://michaelpyrcz.com) | [GoogleScholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [Geostatistics Book](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Applied
    Geostats in Python e-book](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [Applied Machine Learning in Python e-book](https://geostatsguy.github.io/MachineLearningDemos_Book/)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [ç½‘ç«™](http://michaelpyrcz.com) | [Google Scholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [åœ°ç»Ÿè®¡å­¦ä¹¦ç±](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Pythonåº”ç”¨åœ°ç»Ÿè®¡å­¦ç”µå­ä¹¦](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [Pythonåº”ç”¨æœºå™¨å­¦ä¹ ç”µå­ä¹¦](https://geostatsguy.github.io/MachineLearningDemos_Book/)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
- en: 'Chapter of e-book â€œApplied Machine Learning in Python: a Hands-on Guide with
    Codeâ€.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ç”µå­ä¹¦â€œPythonåº”ç”¨æœºå™¨å­¦ä¹ ï¼šå¸¦ä»£ç çš„å®æˆ˜æŒ‡å—â€çš„ç« èŠ‚ã€‚
- en: 'Cite this e-Book as:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·å¼•ç”¨æ­¤ç”µå­ä¹¦ä¸ºï¼š
- en: 'Pyrcz, M.J., 2024, *Applied Machine Learning in Python: A Hands-on Guide with
    Code* [e-book]. Zenodo. doi:10.5281/zenodo.15169138 [![DOI](../Images/7e4ea662f44af1eae87e87ecbb962ff4.png)](https://doi.org/10.5281/zenodo.15169138)'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 'Pyrcz, M.J., 2024, *Applied Machine Learning in Python: A Hands-on Guide with
    Code* [ç”µå­ä¹¦]. Zenodo. doi:10.5281/zenodo.15169138 [![DOI](../Images/7e4ea662f44af1eae87e87ecbb962ff4.png)](https://doi.org/10.5281/zenodo.15169138)'
- en: 'The workflows in this book and more are available here:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ä¹¦ä¸­çš„å·¥ä½œæµç¨‹ä»¥åŠå…¶ä»–å·¥ä½œæµç¨‹éƒ½å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š
- en: 'Cite the MachineLearningDemos GitHub Repository as:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·å°†MachineLearningDemos GitHubä»“åº“å¼•ç”¨å¦‚ä¸‹ï¼š
- en: 'Pyrcz, M.J., 2024, *MachineLearningDemos: Python Machine Learning Demonstration
    Workflows Repository* (0.0.3) [Software]. Zenodo. DOI: 10.5281/zenodo.13835312\.
    GitHub repository: [GeostatsGuy/MachineLearningDemos](https://github.com/GeostatsGuy/MachineLearningDemos)
    [![DOI](../Images/4e3a59c17d684b06a170c4af84e0f631.png)](https://zenodo.org/doi/10.5281/zenodo.13835312)'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 'Pyrcz, M.J., 2024, *MachineLearningDemos: Python Machine Learning Demonstration
    Workflows Repository* (0.0.3) [è½¯ä»¶]. Zenodo. DOI: 10.5281/zenodo.13835312\. GitHubä»“åº“ï¼š[GeostatsGuy/MachineLearningDemos](https://github.com/GeostatsGuy/MachineLearningDemos)
    [![DOI](../Images/4e3a59c17d684b06a170c4af84e0f631.png)](https://zenodo.org/doi/10.5281/zenodo.13835312)'
- en: By Michael J. Pyrcz
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…ï¼šMichael J. Pyrcz
- en: Â© Copyright 2024.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Â© ç‰ˆæƒæ‰€æœ‰ 2024ã€‚
- en: This chapter is a tutorial for / demonstration of **Feature Ranking**.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« æ˜¯å…³äº**ç‰¹å¾æ’åº**çš„æ•™ç¨‹/æ¼”ç¤ºã€‚
- en: '**YouTube Lecture**: check out my lectures on:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**YouTubeè®²åº§**ï¼šæŸ¥çœ‹æˆ‘å…³äºä»¥ä¸‹å†…å®¹çš„è®²åº§ï¼š'
- en: '[Introduction to Machine Learning](https://youtu.be/zOUM_AnI1DQ?si=wzWdJ35qJ9n8O6Bl)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[æœºå™¨å­¦ä¹ ç®€ä»‹](https://youtu.be/zOUM_AnI1DQ?si=wzWdJ35qJ9n8O6Bl)'
- en: '[Curse of Dimensionality, Dimensionality Reduction, Principal Component Analysis](https://youtu.be/embks9p4pb8?si=B2HXm_i0oMSWkBhN)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ç»´åº¦è¯…å’’ã€é™ç»´ã€ä¸»æˆåˆ†åˆ†æ](https://youtu.be/embks9p4pb8?si=B2HXm_i0oMSWkBhN)'
- en: '[Multidimensional Scaling and Random Projection](https://youtu.be/Yt0o8ukIOKU?si=_ri1NPwKVdhYzgO3)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å¤šç»´å°ºåº¦åˆ†æå’ŒéšæœºæŠ•å½±](https://youtu.be/Yt0o8ukIOKU?si=_ri1NPwKVdhYzgO3)'
- en: '[Feature Transformations](https://youtu.be/6QJjZoWknEI?si=p6vp811xWAmzWY3r)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ç‰¹å¾è½¬æ¢](https://youtu.be/6QJjZoWknEI?si=p6vp811xWAmzWY3r)'
- en: '[Feature Selection](https://youtu.be/5Q0gemu-h3Q?si=ATG-ue0i2qcc-IVx)'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ç‰¹å¾é€‰æ‹©](https://youtu.be/5Q0gemu-h3Q?si=ATG-ue0i2qcc-IVx)'
- en: These lectures are all part of my [Machine Learning Course](https://youtube.com/playlist?list=PLG19vXLQHvSC2ZKFIkgVpI9fCjkN38kwf&si=XonjO2wHdXffMpeI)
    on YouTube with linked well-documented Python workflows and interactive dashboards.
    My goal is to share accessible, actionable, and repeatable educational content.
    If you want to know about my motivation, check out [Michaelâ€™s Story](https://michaelpyrcz.com/my-story).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›è®²åº§éƒ½æ˜¯æˆ‘YouTubeä¸Šçš„[æœºå™¨å­¦ä¹ è¯¾ç¨‹](https://youtube.com/playlist?list=PLG19vXLQHvSC2ZKFIkgVpI9fCjkN38kwf&si=XonjO2wHdXffMpeI)çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­åŒ…å«æœ‰è‰¯å¥½æ–‡æ¡£è®°å½•çš„Pythonå·¥ä½œæµç¨‹å’Œäº¤äº’å¼ä»ªè¡¨æ¿ã€‚æˆ‘çš„ç›®æ ‡æ˜¯åˆ†äº«æ˜“äºè·å–ã€å¯æ“ä½œå’Œå¯é‡å¤çš„æ•™è‚²å†…å®¹ã€‚å¦‚æœä½ æƒ³çŸ¥é“æˆ‘çš„åŠ¨æœºï¼Œè¯·æŸ¥çœ‹[Michaelçš„æ•…äº‹](https://michaelpyrcz.com/my-story)ã€‚
- en: Motivation for Feature Ranking
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åºçš„åŠ¨æœº
- en: There are often many predictor features (input variables), available for us
    to work with for building our prediction models.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸æœ‰å¾ˆå¤šé¢„æµ‹ç‰¹å¾ï¼ˆè¾“å…¥å˜é‡ï¼‰å¯ä¾›æˆ‘ä»¬ç”¨äºæ„å»ºé¢„æµ‹æ¨¡å‹ã€‚
- en: there are good reasons to be selective, throwing in every possible feature is
    not a good idea!
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ‰å……åˆ†çš„ç†ç”±è¦æœ‰æ‰€é€‰æ‹©ï¼Œå°†æ¯ä¸ªå¯èƒ½çš„ç‰¹å¾éƒ½åŠ å…¥è¿›æ¥å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼
- en: In general, for the best prediction model, careful selection of the fewest features
    that provide the most amount of information is the best practice.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œå¯¹äºæœ€ä½³çš„é¢„æµ‹æ¨¡å‹ï¼Œä»”ç»†é€‰æ‹©æä¾›æœ€å¤šä¿¡æ¯çš„å°‘æ•°ç‰¹å¾æ˜¯æœ€ä½³å®è·µã€‚
- en: 'Hereâ€™s why:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: åŸå› å¦‚ä¸‹ï¼š
- en: '**blunders** - more predictor features result in more complicated workflows
    that require more professional time and have increased opportunity for mistakes
    in the workflow'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é”™è¯¯** - æ›´å¤šçš„é¢„æµ‹ç‰¹å¾å¯¼è‡´æ›´å¤æ‚çš„æµç¨‹ï¼Œéœ€è¦æ›´å¤šä¸“ä¸šæ—¶é—´ï¼Œå¹¶ä¸”åœ¨æµç¨‹ä¸­å‡ºé”™çš„æœºä¼šå¢åŠ '
- en: '**difficult to visualize** - higher dimensional models, i.e., larger number
    of predictor features, are more difficult to visualize'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**éš¾ä»¥å¯è§†åŒ–** - é«˜ç»´æ¨¡å‹ï¼Œå³æ›´å¤šé¢„æµ‹ç‰¹å¾çš„æ¨¡å‹ï¼Œæ›´éš¾ä»¥å¯è§†åŒ–'
- en: '**model checking** - more complicated models may be more difficult to interrogate,
    interpret and QC'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¨¡å‹æ£€æŸ¥** - æ›´å¤æ‚çš„æ¨¡å‹å¯èƒ½æ›´éš¾ä»¥è°ƒæŸ¥ã€è§£é‡Šå’Œè¿›è¡Œè´¨é‡æ§åˆ¶'
- en: '**predictor feature redundancy** - more likely to have redundant predictor
    features. The inclusion of highly redundant and collinear or multicollinear features
    increases model variance, increase model instability and decreases prediction
    accuracy for testing'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é¢„æµ‹ç‰¹å¾å†—ä½™** - æ›´æœ‰å¯èƒ½å­˜åœ¨å†—ä½™çš„é¢„æµ‹ç‰¹å¾ã€‚åŒ…å«é«˜åº¦å†—ä½™å’Œå…±çº¿æ€§æˆ–å¤šå…±çº¿æ€§çš„ç‰¹å¾ä¼šå¢åŠ æ¨¡å‹æ–¹å·®ï¼Œå¢åŠ æ¨¡å‹ä¸ç¨³å®šæ€§ï¼Œå¹¶é™ä½æµ‹è¯•é¢„æµ‹çš„å‡†ç¡®æ€§'
- en: '**computational time** - more predictor features generally increase the computational
    time required to train the model and the computational storage, i.e., the model
    may be less compact and portable'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è®¡ç®—æ—¶é—´** - é€šå¸¸ï¼Œæ›´å¤šçš„é¢„æµ‹ç‰¹å¾ä¼šå¢åŠ è®­ç»ƒæ¨¡å‹æ‰€éœ€çš„è®¡ç®—æ—¶é—´å’Œè®¡ç®—å­˜å‚¨ï¼Œå³æ¨¡å‹å¯èƒ½ä¸å¤ªç´§å‡‘ä¸”ä¸ä¾¿äºæºå¸¦'
- en: '**model overfit** - the risk of overfit increases with the more features, due
    to increase in model complexity'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¨¡å‹è¿‡æ‹Ÿåˆ** - éšç€ç‰¹å¾æ•°é‡çš„å¢åŠ ï¼Œè¿‡æ‹Ÿåˆçš„é£é™©å¢åŠ ï¼Œå› ä¸ºæ¨¡å‹å¤æ‚æ€§å¢åŠ '
- en: '**model extrapolation** - many predictor features results in high dimensional
    model space with less data coverage and more likelihood for model extrapolation
    that may be inaccurate'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¨¡å‹å¤–æ¨** - è®¸å¤šé¢„æµ‹ç‰¹å¾å¯¼è‡´é«˜ç»´æ¨¡å‹ç©ºé—´æ•°æ®è¦†ç›–åº¦ä½ï¼Œæ¨¡å‹å¤–æ¨å¯èƒ½ä¸å‡†ç¡®çš„å¯èƒ½æ€§æ›´é«˜'
- en: The primary concern with many predictor features is the curse of dimensionality.
    Letâ€™s summarize the curse!
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: è®¸å¤šé¢„æµ‹ç‰¹å¾çš„ä¸»è¦é—®é¢˜æ˜¯ç»´åº¦è¯…å’’ã€‚è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹è¿™ä¸ªè¯…å’’ï¼
- en: Curse of Dimensionality
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç»´åº¦è¯…å’’
- en: '**Data and Model Visualization** - we cannot visualize beyond 3D, i.e., access
    the model fit to data, evaluate interpolation vs. extrapolation.'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ•°æ®å’Œæ¨¡å‹å¯è§†åŒ–** - æˆ‘ä»¬æ— æ³•å¯è§†åŒ–è¶…è¿‡ä¸‰ç»´ï¼Œå³æ— æ³•è®¿é—®æ•°æ®æ‹Ÿåˆæ¨¡å‹ï¼Œè¯„ä¼°å†…æ’ä¸å¤–æ¨ã€‚'
- en: consider a 5D example shown as a matrix scatter plot, even in this case there
    is an extreme marginalization to 2D for each plot,
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è€ƒè™‘ä¸€ä¸ª5Dç¤ºä¾‹ï¼Œå¦‚å›¾æ‰€ç¤ºä¸ºçŸ©é˜µæ•£ç‚¹å›¾ï¼Œå³ä½¿åœ¨è¿™ç§æƒ…å†µä¸­ï¼Œæ¯ä¸ªå›¾ä¹Ÿæœ‰æç«¯çš„è¾¹é™…åŒ–åˆ°äºŒç»´ï¼Œ
- en: '![](../Images/ecf50f66114aec17ea35fde1342d66c4.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ecf50f66114aec17ea35fde1342d66c4.png)'
- en: Example 5D data as a matrix scatter plot.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹ï¼š5Dæ•°æ®ä½œä¸ºçŸ©é˜µæ•£ç‚¹å›¾ã€‚
- en: '**Sampling** - the number of samples sufficient to infer statistics like the
    joint probability, \(P(x_1,\ldots,x_m)\).'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**é‡‡æ ·** - è¶³å¤Ÿçš„æ ·æœ¬æ•°é‡ä»¥æ¨æ–­è¯¸å¦‚è”åˆæ¦‚ç‡\(P(x_1,\ldots,x_m)\)ä¹‹ç±»çš„ç»Ÿè®¡ä¿¡æ¯ã€‚'
- en: 'recall the calculation of a histogram or normalized histogram: we establish
    bins and calculate frequencies or probabilities in each bin.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›å¿†ä¸€ä¸‹ç›´æ–¹å›¾æˆ–å½’ä¸€åŒ–ç›´æ–¹å›¾çš„è®¡ç®—ï¼šæˆ‘ä»¬å»ºç«‹ç®±å­å¹¶è®¡ç®—æ¯ä¸ªç®±å­ä¸­çš„é¢‘ç‡æˆ–æ¦‚ç‡ã€‚
- en: we require a nominal number of data samples for each bin, so we require \(ğ‘›=ğ‘›_{ğ‘ /ğ‘ğ‘–ğ‘›}
    \cdot ğ‘›_{ğ‘ğ‘–ğ‘›ğ‘ }\) samples in 1D
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦æ¯ä¸ªç®±å­çš„åä¹‰æ•°æ®æ ·æœ¬æ•°ï¼Œå› æ­¤åœ¨ä¸€ç»´ä¸­æˆ‘ä»¬éœ€è¦\(ğ‘›=ğ‘›_{ğ‘ /ğ‘ğ‘–ğ‘›} \cdot ğ‘›_{ğ‘ğ‘–ğ‘›ğ‘ }\)ä¸ªæ ·æœ¬
- en: but in mD we required \(n\) samples to calculate the discretized joint probability,
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½†åœ¨mDä¸­ï¼Œæˆ‘ä»¬éœ€è¦\(n\)ä¸ªæ ·æœ¬æ¥è®¡ç®—ç¦»æ•£åŒ–è”åˆæ¦‚ç‡ï¼Œ
- en: \[ ğ‘›=ğ‘›_{ğ‘ /ğ‘ğ‘–ğ‘›} \cdot ğ‘›_{ğ‘ğ‘–ğ‘›ğ‘ }^m$ \]
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: \[ ğ‘›=ğ‘›_{ğ‘ /ğ‘ğ‘–ğ‘›} \cdot ğ‘›_{ğ‘ğ‘–ğ‘›ğ‘ }^m \]
- en: for example, 10 samples per bin with 35 bins requires 12,250 samples in 2D,
    and 428,750 samples in 3D
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œæ¯ä¸ªç®±å­10ä¸ªæ ·æœ¬ï¼Œ35ä¸ªç®±å­éœ€è¦2Dä¸­çš„12,250ä¸ªæ ·æœ¬ï¼Œ3Dä¸­çš„428,750ä¸ªæ ·æœ¬
- en: '![](../Images/bc8823819263f4497ef6baab93a9ee38.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/bc8823819263f4497ef6baab93a9ee38.png)'
- en: Example 2D data with 35 bins for each feature.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹ï¼šå…·æœ‰æ¯ä¸ªç‰¹å¾35ä¸ªç®±å­çš„2Dæ•°æ®ã€‚
- en: '**Sample Coverage** - the range of the sample values cover the predictor feature
    space.'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ ·æœ¬è¦†ç›–** - æ ·æœ¬å€¼èŒƒå›´è¦†ç›–é¢„æµ‹ç‰¹å¾ç©ºé—´ã€‚'
- en: fraction of the possible solution space that is sampled, for 1 feature we assume
    80% coverage
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ ·æœ¬ç©ºé—´ä¸­å¯èƒ½è§£ç©ºé—´çš„åˆ†æ•°ï¼Œå¯¹äº1ä¸ªç‰¹å¾ï¼Œæˆ‘ä»¬å‡è®¾80%çš„è¦†ç›–ç‡
- en: remember, we usually, directly sample only \(\frac{1}{10^7}\) of the volume
    of the subsurface
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œæˆ‘ä»¬é€šå¸¸ç›´æ¥é‡‡æ ·åªæœ‰åœ°ä¸‹ä½“ç§¯çš„\(\frac{1}{10^7}\)ã€‚
- en: yes, the concept of coverage is subjective, how much data to cover? What about
    gaps? etc.
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ˜¯çš„ï¼Œè¦†ç›–çš„æ¦‚å¿µæ˜¯ä¸»è§‚çš„ï¼Œéœ€è¦è¦†ç›–å¤šå°‘æ•°æ®ï¼Ÿå…³äºç¼ºå£æ€ä¹ˆåŠç­‰é—®é¢˜ã€‚
- en: '![](../Images/d8058511a88a482ed34b0cbd9eb34fec.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d8058511a88a482ed34b0cbd9eb34fec.png)'
- en: Example 2D data with 35 bins for each feature.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªç‰¹å¾æœ‰35ä¸ªæ¡¶çš„2Dæ•°æ®çš„ç¤ºä¾‹ã€‚
- en: now if there is 80% coverage for 2 features the 2D coverage is 64%
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœæœ‰ä¸¤ä¸ªç‰¹å¾çš„80%è¦†ç›–ç‡ï¼Œåˆ™äºŒç»´è¦†ç›–ç‡æ˜¯64%ã€‚
- en: '![](../Images/8d96453b3f6c2a92a160fe4329a13d4a.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8d96453b3f6c2a92a160fe4329a13d4a.png)'
- en: Example 2D data with 35 bins for each feature.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªç‰¹å¾æœ‰35ä¸ªæ¡¶çš„2Dæ•°æ®çš„ç¤ºä¾‹ã€‚
- en: coverage is,
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¦†ç›–ç‡æ˜¯ï¼Œ
- en: \[ c = c_1^m \]
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: \[ c = c_1^m \]
- en: '**Distorted Space** - high dimensional space is distorted.'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ‰­æ›²ç©ºé—´** - é«˜ç»´ç©ºé—´è¢«æ‰­æ›²ã€‚'
- en: take the ratio of the volume of an inscribed hypersphere in a hypercube,
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å–è¶…ç«‹æ–¹ä½“å†…å†…æ¥è¶…çƒä½“çš„ä½“ç§¯æ¯”ï¼Œ
- en: \[ \frac{\pi^{\frac{m}{2}}}{m 2^{m-1} \Gamma\left(\frac{m}{2}\right)} \to 0
    \quad \text{as} \quad m \to \infty \]
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\pi^{\frac{m}{2}}}{m 2^{m-1} \Gamma\left(\frac{m}{2}\right)} \to 0
    \quad \text{as} \quad m \to \infty \]
- en: recall, \(\Gamma(ğ‘›)=(ğ‘›âˆ’1)!\).
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›å¿†ï¼Œ\(\Gamma(ğ‘›)=(ğ‘›âˆ’1)!\).
- en: high dimensional space is all corners and no middle and most of high dimensional
    space is far from the middle (all corners!).
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é«˜ç»´ç©ºé—´å…¨æ˜¯è§’è€Œæ²¡æœ‰ä¸­é—´éƒ¨åˆ†ï¼Œè€Œä¸”å¤§å¤šæ•°é«˜ç»´ç©ºé—´ç¦»ä¸­é—´éƒ¨åˆ†å¾ˆè¿œï¼ˆå…¨æ˜¯è§’ï¼ï¼‰ã€‚
- en: as a result distances in high dimensional space lose sensitivity, i.e., for
    any random points in the space the expected pairwise distances all become the
    same,
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œé«˜ç»´ç©ºé—´ä¸­çš„è·ç¦»å¤±å»äº†æ•æ„Ÿæ€§ï¼Œå³å¯¹äºç©ºé—´ä¸­çš„ä»»ä½•éšæœºç‚¹ï¼Œé¢„æœŸçš„æˆå¯¹è·ç¦»éƒ½å˜å¾—ç›¸åŒï¼Œ
- en: \[ \lim_{m \to \infty} \left( \mathbb{E}\left[\text{dist}_{\text{max}}(m) -
    \text{dist}_{\text{min}}(m)\right] \right) \to 0 \]
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \lim_{m \to \infty} \left( \mathbb{E}\left[\text{dist}_{\text{max}}(m) -
    \text{dist}_{\text{min}}(m)\right] \right) \to 0 \]
- en: the limit of the expectation of the range of pairwise distances over random
    points in hyper-dimensional space tends to zero. If distances are almost all the
    same, Euclidian distance is no longer meaningful!
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¶…é«˜ç»´ç©ºé—´ä¸­éšæœºç‚¹æˆå¯¹è·ç¦»èŒƒå›´çš„æœŸæœ›æé™è¶‹äºé›¶ã€‚å¦‚æœè·ç¦»å‡ ä¹éƒ½ç›¸åŒï¼Œæ¬§å‡ é‡Œå¾—è·ç¦»å°±ä¸å†æœ‰æ„ä¹‰äº†ï¼
- en: '![](../Images/8c8d512cca4eb330150d1ba298831543.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8c8d512cca4eb330150d1ba298831543.png)'
- en: The ratio of the volume of a hypersphere within a hypercube.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: è¶…ç«‹æ–¹ä½“å†…è¶…çƒä½“çš„ä½“ç§¯æ¯”ã€‚
- en: hereâ€™s the severity of the distortion for various dimensionalities,
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯å„ç§ç»´åº¦çš„æ‰­æ›²ä¸¥é‡ç¨‹åº¦ï¼Œ
- en: '| m | nD / 2D |'
  id: totrans-68
  prefs: []
  type: TYPE_TB
  zh: '| m | nD / 2D |'
- en: '| --- | --- |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 2 | 1.0 |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 1.0 |'
- en: '| 5 | 0.28 |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 0.28 |'
- en: '| 10 | 0.003 |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
  zh: '| 10 | 0.003 |'
- en: '| 20 | 0.00000003 |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
  zh: '| 20 | 0.00000003 |'
- en: '**Multicollinearity** - higher dimensional datasets are more likely to have
    collinearity or multicollinearity.'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**å¤šé‡å…±çº¿æ€§** - é«˜ç»´æ•°æ®é›†æ›´æœ‰å¯èƒ½å‡ºç°å…±çº¿æ€§æˆ–å¤šé‡å…±çº¿æ€§ã€‚'
- en: Feature linearly described by other features resulting in high model variance.
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”±å…¶ä»–ç‰¹å¾çº¿æ€§æè¿°çš„ç‰¹å¾å¯¼è‡´æ¨¡å‹æ–¹å·®é«˜ã€‚
- en: What is Feature Ranking?
  id: totrans-76
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯ç‰¹å¾æ’åï¼Ÿ
- en: Feature ranking is a set of metrics that assign relative importance or value
    to each predictor feature with respect to information contained for inference
    and importance in predicting a response feature. There are a wide variety of possible
    methods to accomplish this. My recommendation is a **â€˜wide-arrayâ€™** approach with
    multiple analyses and metrics, while understanding the assumptions and limitations
    of each method.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åæ˜¯ä¸€ç»„åº¦é‡ï¼Œå®ƒæ ¹æ®åŒ…å«åœ¨æ¨ç†ä¸­çš„ä¿¡æ¯å’Œé¢„æµ‹å“åº”ç‰¹å¾çš„é‡è¦æ€§ï¼Œä¸ºæ¯ä¸ªé¢„æµ‹ç‰¹å¾åˆ†é…ç›¸å¯¹é‡è¦æ€§æˆ–ä»·å€¼ã€‚æœ‰å„ç§å„æ ·çš„å¯èƒ½æ–¹æ³•æ¥å®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚æˆ‘çš„å»ºè®®æ˜¯é‡‡ç”¨**â€œå®½æ•°ç»„â€**æ–¹æ³•ï¼Œç»“åˆå¤šç§åˆ†æå’Œåº¦é‡ï¼ŒåŒæ—¶ç†è§£æ¯ç§æ–¹æ³•çš„å‡è®¾å’Œé™åˆ¶ã€‚
- en: Hereâ€™s the general types of metrics that we consider for feature ranking.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯æˆ‘ä»¬è€ƒè™‘çš„ç‰¹å¾æ’åçš„ä¸€èˆ¬ç±»å‹ã€‚
- en: Visual Inspection of Data Distributions and Scatter Plots
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ•°æ®åˆ†å¸ƒå’Œæ•£ç‚¹å›¾çš„è§†è§‰æ£€æŸ¥
- en: Statistical Summaries
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç»Ÿè®¡æ‘˜è¦
- en: Model-based
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åŸºäºæ¨¡å‹
- en: Recursive Feature Elimination
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€’å½’ç‰¹å¾æ¶ˆé™¤
- en: Also, we should not neglect expert knowledge. If additional information is known
    about physical processes, causation, reliability and availability of predictor
    features this should be integrated into assigning feature ranking.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸åº”å¿½è§†ä¸“å®¶çŸ¥è¯†ã€‚å¦‚æœå…³äºç‰©ç†è¿‡ç¨‹ã€å› æœå…³ç³»ã€é¢„æµ‹ç‰¹å¾çš„å¯é æ€§å’Œå¯ç”¨æ€§æœ‰é¢å¤–çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯åº”æ•´åˆåˆ°åˆ†é…ç‰¹å¾æ’åä¸­ã€‚
- en: Load the Required Libraries
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½æ‰€éœ€çš„åº“
- en: The following code loads the required libraries.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ä»£ç åŠ è½½æ‰€éœ€çš„åº“ã€‚
- en: '[PRE0]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: We will also need some standard packages. These should have been installed with
    Anaconda 3.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›æ ‡å‡†åŒ…ã€‚è¿™äº›åº”è¯¥å·²ç»ä¸Anaconda 3ä¸€èµ·å®‰è£…ã€‚
- en: '[PRE2]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: For the Shapley value approach for feature ranking we need an additional package
    and to start up javascript support.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç‰¹å¾æ’åçš„Shapleyå€¼æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé¢å¤–çš„åŒ…ä»¥åŠå¯åŠ¨javascriptæ”¯æŒã€‚
- en: after running this block you should see a hexagon with the text â€˜jsâ€™ to indicate
    that javascript is ready
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿è¡Œæ­¤ä»£ç å—åï¼Œä½ åº”è¯¥çœ‹åˆ°ä¸€ä¸ªå¸¦æœ‰æ–‡æœ¬â€˜jsâ€™çš„å…­è¾¹å½¢ï¼Œä»¥è¡¨ç¤ºjavascriptå·²å‡†å¤‡å¥½ã€‚
- en: '[PRE3]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/70b822753245ba6bb888425de8eb62b5.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/70b822753245ba6bb888425de8eb62b5.png)'
- en: If you get a package import error, you may have to first install some of these
    packages. This can usually be accomplished by opening up a command window on Windows
    and then typing â€˜python -m pip install [package-name]â€™. More assistance is available
    with the respective package docs.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨é‡åˆ°åŒ…å¯¼å…¥é”™è¯¯ï¼Œæ‚¨å¯èƒ½é¦–å…ˆéœ€è¦å®‰è£…è¿™äº›åŒ…ä¸­çš„æŸäº›åŒ…ã€‚è¿™é€šå¸¸å¯ä»¥é€šè¿‡åœ¨ Windows ä¸Šæ‰“å¼€å‘½ä»¤çª—å£ï¼Œç„¶åè¾“å…¥ â€˜python -m pip install
    [package-name]â€™ æ¥å®Œæˆã€‚æ›´å¤šå¸®åŠ©å¯ä»¥åœ¨ç›¸åº”åŒ…çš„æ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚
- en: Design Custom Color Map
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾è®¡è‡ªå®šä¹‰é¢œè‰²å›¾
- en: Accounting for significance by masking nonsignificant values
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡å±è”½éæ˜¾è‘—å€¼æ¥è€ƒè™‘æ˜¾è‘—æ€§
- en: for demonstration only currently, could be updated for each plot based on results
    confidence and uncertainty
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç›®å‰ä»…ç”¨äºæ¼”ç¤ºï¼Œå¯ä»¥æ ¹æ®ç»“æœç½®ä¿¡åº¦å’Œä¸ç¡®å®šæ€§æ›´æ–°æ¯ä¸ªå›¾è¡¨
- en: '[PRE4]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Declare Functions
  id: totrans-99
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å£°æ˜å‡½æ•°
- en: 'Hereâ€™s a couple of functions to assist with calculating metrics for ranking
    and other plots:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸€äº›å‡½æ•°å¯ä»¥å¸®åŠ©è®¡ç®—ç”¨äºæ’åå’Œå…¶ä»–å›¾è¡¨çš„æŒ‡æ ‡ï¼š
- en: '**plot_corr** - plot a correlation matrix'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**plot_corr** - ç»˜åˆ¶ç›¸å…³çŸ©é˜µ'
- en: '**partial_corr** - partial correlation coefficient'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**partial_corr** - éƒ¨åˆ†ç›¸å…³ç³»æ•°'
- en: '**semipar_corr** - semipartial correlation coefficient'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**semipar_corr** - åŠéƒ¨åˆ†ç›¸å…³ç³»æ•°'
- en: '**mutual_matrix** - mutual information matrix, matrix of all pairwise mutual
    information'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mutual_matrix** - äº’ä¿¡æ¯çŸ©é˜µï¼Œæ‰€æœ‰æˆå¯¹äº’ä¿¡æ¯çš„çŸ©é˜µ'
- en: '**mutual_information_objective** - my modified version of the MRMR loss function
    (Ixy - average(Ixx)) for feature ranking (uses all other predictor features)'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mutual_information_objective** - æˆ‘ä¿®æ”¹çš„ MRMR æŸå¤±å‡½æ•°ç‰ˆæœ¬ï¼ˆIxy - å¹³å‡(Ixx)ï¼‰ç”¨äºç‰¹å¾æ’åï¼ˆä½¿ç”¨æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾ï¼‰'
- en: '**delta_mutual_information_quotient** - change in mutual information quotient
    by adding and removing a specific feature (uses all other predictor features for
    the comparison)'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**delta_mutual_information_quotient** - é€šè¿‡æ·»åŠ å’Œåˆ é™¤ç‰¹å®šç‰¹å¾æ¥æ”¹å˜äº’ä¿¡æ¯å•†çš„å˜åŒ–ï¼ˆä½¿ç”¨æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾è¿›è¡Œæ¯”è¾ƒï¼‰'
- en: '**weighted_avg_and_std** - average and standard deviation account for data
    weights'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**weighted_avg_and_std** - å¹³å‡å€¼å’Œæ ‡å‡†å·®è€ƒè™‘æ•°æ®æƒé‡'
- en: '**weighted_percentile** - percentile accounting for data weights'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**weighted_percentile** - è€ƒè™‘æ•°æ®æƒé‡çš„ç™¾åˆ†ä½æ•°'
- en: '**histogram_bounds** - add confidence intervals to histograms'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**histogram_bounds** - å‘ç›´æ–¹å›¾æ·»åŠ ç½®ä¿¡åŒºé—´'
- en: '**add_grid** - convenience function to add major and minor gridlines to improve
    plot interpretability'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**add_grid** - æ·»åŠ ä¸»è¦å’Œæ¬¡è¦ç½‘æ ¼çº¿ä»¥æ”¹å–„ç»˜å›¾å¯è§£é‡Šæ€§çš„ä¾¿åˆ©å‡½æ•°'
- en: 'Here are the functions:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯è¿™äº›å‡½æ•°ï¼š
- en: '[PRE5]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Set the Working Directory
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½®å·¥ä½œç›®å½•
- en: I always like to do this so I donâ€™t lose files and to simplify subsequent read
    and writes (avoid including the full address each time).
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ€»æ˜¯å–œæ¬¢è¿™æ ·åšï¼Œè¿™æ ·æˆ‘å°±ä¸ä¼šä¸¢å¤±æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥ç®€åŒ–åç»­çš„è¯»å–å’Œå†™å…¥ï¼ˆé¿å…æ¯æ¬¡éƒ½åŒ…å«å®Œæ•´åœ°å€ï¼‰ã€‚
- en: '[PRE6]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: You will have to update the part in quotes with your own working directory and
    the format is different on a Mac (e.g. â€œ~/PGEâ€).
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å°†ä¸å¾—ä¸æ›´æ–°å¼•å·å†…çš„éƒ¨åˆ†ä»¥åŒ¹é…æ‚¨è‡ªå·±çš„å·¥ä½œç›®å½•ï¼Œå¹¶ä¸”åœ¨ Mac ä¸Šæ ¼å¼ä¸åŒï¼ˆä¾‹å¦‚ï¼šâ€œ~/PGEâ€ï¼‰ã€‚
- en: Loading Tabular Data
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½è¡¨æ ¼æ•°æ®
- en: Hereâ€™s the command to load our comma delimited data file in to a Pandasâ€™ DataFrame
    object.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯åŠ è½½æˆ‘ä»¬çš„é€—å·åˆ†éš”æ•°æ®æ–‡ä»¶åˆ° Pandas DataFrame å¯¹è±¡çš„å‘½ä»¤ã€‚
- en: 'Letâ€™s load the provided multivariate, spatial dataset â€˜unconv_MV.csvâ€™. This
    dataset has variables from 1,000 unconventional wells including:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åŠ è½½æä¾›çš„å¤šå…ƒã€ç©ºé—´æ•°æ®é›† â€˜unconv_MV.csvâ€™ã€‚è¿™ä¸ªæ•°æ®é›†åŒ…å«æ¥è‡ª 1,000 ä¸ªéå¸¸è§„äº•çš„å˜é‡ï¼ŒåŒ…æ‹¬ï¼š
- en: well average porosity
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: äº•å¹³å‡å­”éš™ç‡
- en: log transform of permeability (to linearize the relationships with other variables)
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¸—é€ç‡çš„å¯¹æ•°å˜æ¢ï¼ˆä»¥çº¿æ€§åŒ–ä¸å…¶ä»–å˜é‡çš„å…³ç³»ï¼‰
- en: acoustic impedance (kg/m^3 x m/s x 10^6)
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å£°æ³¢é˜»æŠ—ï¼ˆkg/m^3 x m/s x 10^6ï¼‰
- en: brittleness ratio (%)
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‰ªåˆ‡æ¯”ï¼ˆ%ï¼‰
- en: total organic carbon (%)
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ€»æœ‰æœºç¢³ï¼ˆ%ï¼‰
- en: vitrinite reflectance (%)
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»ç’ƒè´¨åå°„ç‡ï¼ˆ%ï¼‰
- en: initial production 90 day average (MCFPD).
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åˆå§‹ç”Ÿäº§ 90 å¤©å¹³å‡ï¼ˆMCFPDï¼‰ã€‚
- en: Note, the dataset is synthetic.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œæ•°æ®é›†æ˜¯åˆæˆçš„ã€‚
- en: We load it with the pandas â€˜read_csvâ€™ function into a DataFrame we called â€˜my_dataâ€™
    and then preview it to make sure it loaded correctly.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ pandas çš„ â€˜read_csvâ€™ å‡½æ•°å°†å…¶åŠ è½½åˆ°æˆ‘ä»¬ç§°ä¸º â€˜my_dataâ€™ çš„ DataFrame ä¸­ï¼Œç„¶åé¢„è§ˆå®ƒä»¥ç¡®ä¿æ­£ç¡®åŠ è½½ã€‚
- en: '[PRE7]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[PRE8]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'We can also establish the feature ranges for plotting. We could calculate the
    feature range directly from the data with code like this:'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºç»˜å›¾å»ºç«‹ç‰¹å¾èŒƒå›´ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ç›´æ¥ä»æ•°æ®ä¸­è®¡ç®—ç‰¹å¾èŒƒå›´ï¼š
- en: '[PRE9]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: but, this would not result in easy to understand color bars and axis scales,
    letâ€™s pick convenient round numbers. We will also declare feature labels for ease
    of plotting.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ï¼Œè¿™ä¸ä¼šå¯¼è‡´æ˜“äºç†è§£çš„è‰²å½©æ¡å’Œè½´åˆ»åº¦ï¼Œè®©æˆ‘ä»¬é€‰æ‹©æ–¹ä¾¿çš„æ•´æ•°ã€‚æˆ‘ä»¬è¿˜å°†å£°æ˜ç‰¹å¾æ ‡ç­¾ä»¥æ–¹ä¾¿ç»˜å›¾ã€‚
- en: Visualize the DataFrame
  id: totrans-134
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯è§†åŒ– DataFrame
- en: Visualizing the DataFrame is useful first check of the data.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: å¯è§†åŒ– DataFrame æ˜¯æ•°æ®çš„ç¬¬ä¸€æ­¥æ£€æŸ¥ã€‚
- en: many things can go wrong, e.g., we loaded the wrong data, all the features did
    not load, etc.
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¸å¤šäº‹æƒ…å¯èƒ½ä¼šå‡ºé”™ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬åŠ è½½äº†é”™è¯¯çš„æ•°æ®ï¼Œæ‰€æœ‰ç‰¹å¾éƒ½æ²¡æœ‰åŠ è½½ï¼Œç­‰ç­‰ã€‚
- en: We can preview by utilizing the â€˜headâ€™ DataFrame member function (with a nice
    and clean format, see below).
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨DataFrameçš„â€˜headâ€™æˆå‘˜å‡½æ•°æ¥é¢„è§ˆï¼ˆæ ¼å¼æ•´æ´ï¼Œè§ä¸‹æ–‡ï¼‰ã€‚
- en: add parameter â€˜n=13â€™ to see the first 13 rows of the dataset.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ·»åŠ å‚æ•°â€˜n=13â€™ä»¥æŸ¥çœ‹æ•°æ®é›†çš„å‰13è¡Œã€‚
- en: '[PRE10]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '|  | Well | Por | Perm | AI | Brittle | TOC | VR | Prod |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '|  | Well | Por | Perm | AI | Brittle | TOC | VR | Prod |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| 0 | 1 | 12.08 | 2.92 | 2.80 | 81.40 | 1.16 | 2.31 | 1695.360819 |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| 0 | 1 | 12.08 | 2.92 | 2.80 | 81.40 | 1.16 | 2.31 | 1695.360819 |'
- en: '| 1 | 2 | 12.38 | 3.53 | 3.22 | 46.17 | 0.89 | 1.88 | 3007.096063 |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 2 | 12.38 | 3.53 | 3.22 | 46.17 | 0.89 | 1.88 | 3007.096063 |'
- en: '| 2 | 3 | 14.02 | 2.59 | 4.01 | 72.80 | 0.89 | 2.72 | 2531.938259 |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 3 | 14.02 | 2.59 | 4.01 | 72.80 | 0.89 | 2.72 | 2531.938259 |'
- en: '| 3 | 4 | 17.67 | 6.75 | 2.63 | 39.81 | 1.08 | 1.88 | 5288.514854 |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 4 | 17.67 | 6.75 | 2.63 | 39.81 | 1.08 | 1.88 | 5288.514854 |'
- en: '| 4 | 5 | 17.52 | 4.57 | 3.18 | 10.94 | 1.51 | 1.90 | 2859.469624 |'
  id: totrans-146
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 5 | 17.52 | 4.57 | 3.18 | 10.94 | 1.51 | 1.90 | 2859.469624 |'
- en: '| 5 | 6 | 14.53 | 4.81 | 2.69 | 53.60 | 0.94 | 1.67 | 4017.374438 |'
  id: totrans-147
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 6 | 14.53 | 4.81 | 2.69 | 53.60 | 0.94 | 1.67 | 4017.374438 |'
- en: '| 6 | 7 | 13.49 | 3.60 | 2.93 | 63.71 | 0.80 | 1.85 | 2952.812773 |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 7 | 13.49 | 3.60 | 2.93 | 63.71 | 0.80 | 1.85 | 2952.812773 |'
- en: '| 7 | 8 | 11.58 | 3.03 | 3.25 | 53.00 | 0.69 | 1.93 | 2670.933846 |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 8 | 11.58 | 3.03 | 3.25 | 53.00 | 0.69 | 1.93 | 2670.933846 |'
- en: '| 8 | 9 | 12.52 | 2.72 | 2.43 | 65.77 | 0.95 | 1.98 | 2474.048178 |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 9 | 12.52 | 2.72 | 2.43 | 65.77 | 0.95 | 1.98 | 2474.048178 |'
- en: '| 9 | 10 | 13.25 | 3.94 | 3.71 | 66.20 | 1.14 | 2.65 | 2722.893266 |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 10 | 13.25 | 3.94 | 3.71 | 66.20 | 1.14 | 2.65 | 2722.893266 |'
- en: '| 10 | 11 | 15.04 | 4.39 | 2.22 | 61.11 | 1.08 | 1.77 | 3828.247174 |'
  id: totrans-152
  prefs: []
  type: TYPE_TB
  zh: '| 10 | 11 | 15.04 | 4.39 | 2.22 | 61.11 | 1.08 | 1.77 | 3828.247174 |'
- en: '| 11 | 12 | 16.19 | 6.30 | 2.29 | 49.10 | 1.53 | 1.86 | 5095.810104 |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| 11 | 12 | 16.19 | 6.30 | 2.29 | 49.10 | 1.53 | 1.86 | 5095.810104 |'
- en: '| 12 | 13 | 16.82 | 5.42 | 2.80 | 66.65 | 1.17 | 1.98 | 4091.637316 |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '| 12 | 13 | 16.82 | 5.42 | 2.80 | 66.65 | 1.17 | 1.98 | 4091.637316 |'
- en: Summary Statistics for Tabular Data
  id: totrans-155
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¡¨æ ¼æ•°æ®çš„æ±‡æ€»ç»Ÿè®¡
- en: There are a lot of efficient methods to calculate summary statistics from tabular
    data in DataFrames. The describe command provides count, mean, minimum, maximum,
    and quartiles all in a nice data table.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨DataFramesä¸­ï¼Œæœ‰è®¸å¤šé«˜æ•ˆçš„æ–¹æ³•å¯ä»¥è®¡ç®—è¡¨æ ¼æ•°æ®çš„æ±‡æ€»ç»Ÿè®¡ã€‚`describe`å‘½ä»¤æä¾›äº†è®¡æ•°ã€å¹³å‡å€¼ã€æœ€å°å€¼ã€æœ€å¤§å€¼å’Œå››åˆ†ä½æ•°ï¼Œå…¨éƒ¨åœ¨ä¸€ä¸ªæ¼‚äº®çš„æ•°æ®è¡¨ä¸­ã€‚
- en: We use transpose just to flip the table so that features are on the rows and
    the statistics are on the columns.
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨è½¬ç½®åªæ˜¯ä¸ºäº†è®©è¡¨æ ¼ç¿»è½¬ï¼Œä½¿å¾—ç‰¹å¾åœ¨è¡Œä¸Šï¼Œè€Œç»Ÿè®¡ä¿¡æ¯åœ¨åˆ—ä¸Šã€‚
- en: '[PRE11]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '|  | count | mean | std | min | 25% | 50% | 75% | max |'
  id: totrans-159
  prefs: []
  type: TYPE_TB
  zh: '|  | count | mean | std | min | 25% | 50% | 75% | max |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-160
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| Well | 200.0 | 100.500000 | 57.879185 | 1.000000 | 50.750000 | 100.500000
    | 150.250000 | 200.000000 |'
  id: totrans-161
  prefs: []
  type: TYPE_TB
  zh: '| Well | 200.0 | 100.500000 | 57.879185 | 1.000000 | 50.750000 | 100.500000
    | 150.250000 | 200.000000 |'
- en: '| Por | 200.0 | 14.991150 | 2.971176 | 6.550000 | 12.912500 | 15.070000 | 17.402500
    | 23.550000 |'
  id: totrans-162
  prefs: []
  type: TYPE_TB
  zh: '| Por | 200.0 | 14.991150 | 2.971176 | 6.550000 | 12.912500 | 15.070000 | 17.402500
    | 23.550000 |'
- en: '| Perm | 200.0 | 4.330750 | 1.731014 | 1.130000 | 3.122500 | 4.035000 | 5.287500
    | 9.870000 |'
  id: totrans-163
  prefs: []
  type: TYPE_TB
  zh: '| Perm | 200.0 | 4.330750 | 1.731014 | 1.130000 | 3.122500 | 4.035000 | 5.287500
    | 9.870000 |'
- en: '| AI | 200.0 | 2.968850 | 0.566885 | 1.280000 | 2.547500 | 2.955000 | 3.345000
    | 4.630000 |'
  id: totrans-164
  prefs: []
  type: TYPE_TB
  zh: '| AI | 200.0 | 2.968850 | 0.566885 | 1.280000 | 2.547500 | 2.955000 | 3.345000
    | 4.630000 |'
- en: '| Brittle | 200.0 | 48.161950 | 14.129455 | 10.940000 | 37.755000 | 49.510000
    | 58.262500 | 84.330000 |'
  id: totrans-165
  prefs: []
  type: TYPE_TB
  zh: '| Brittle | 200.0 | 48.161950 | 14.129455 | 10.940000 | 37.755000 | 49.510000
    | 58.262500 | 84.330000 |'
- en: '| TOC | 200.0 | 0.990450 | 0.481588 | -0.190000 | 0.617500 | 1.030000 | 1.350000
    | 2.180000 |'
  id: totrans-166
  prefs: []
  type: TYPE_TB
  zh: '| TOC | 200.0 | 0.990450 | 0.481588 | -0.190000 | 0.617500 | 1.030000 | 1.350000
    | 2.180000 |'
- en: '| VR | 200.0 | 1.964300 | 0.300827 | 0.930000 | 1.770000 | 1.960000 | 2.142500
    | 2.870000 |'
  id: totrans-167
  prefs: []
  type: TYPE_TB
  zh: '| VR | 200.0 | 1.964300 | 0.300827 | 0.930000 | 1.770000 | 1.960000 | 2.142500
    | 2.870000 |'
- en: '| Prod | 200.0 | 3864.407081 | 1553.277558 | 839.822063 | 2686.227611 | 3604.303506
    | 4752.637555 | 8590.384044 |'
  id: totrans-168
  prefs: []
  type: TYPE_TB
  zh: '| Prod | 200.0 | 3864.407081 | 1553.277558 | 839.822063 | 2686.227611 | 3604.303506
    | 4752.637555 | 8590.384044 |'
- en: Ranking features is really an effort to understand the features and their relationships
    with each other. We will start with basic data visualization and move to more
    complicated methods such are partial correlation and recursive feature elimination.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: æ’åºç‰¹å¾å®é™…ä¸Šæ˜¯ä¸€é¡¹åŠªåŠ›ï¼Œæ—¨åœ¨ç†è§£ç‰¹å¾åŠå…¶ç›¸äº’ä¹‹é—´çš„å…³ç³»ã€‚æˆ‘ä»¬å°†ä»åŸºæœ¬çš„æ•°æ®å¯è§†åŒ–å¼€å§‹ï¼Œè¿‡æ¸¡åˆ°æ›´å¤æ‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚åç›¸å…³å’Œé€’å½’ç‰¹å¾æ¶ˆé™¤ã€‚
- en: Coverage
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¦†ç›–ç‡
- en: Letâ€™s start with the concept of feature coverage.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ç‰¹å¾è¦†ç›–çš„æ¦‚å¿µå¼€å§‹ã€‚
- en: If a feature is available over a small proportion of the samples then we may
    not want to include it as it will result in issues with feature imputation, estimation
    of missing data.
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœä¸€ä¸ªç‰¹å¾åªåœ¨å°‘é‡æ ·æœ¬ä¸­å¯ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¸æƒ³å°†å…¶åŒ…æ‹¬åœ¨å†…ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´ç‰¹å¾æ’è¡¥å’Œç¼ºå¤±æ•°æ®ä¼°è®¡çš„é—®é¢˜ã€‚
- en: By removing a couple features with poor coverage we may improve our model because
    there are limitations with feature imputation, feature imputation can actually
    impose bias in statistics and additional error in our prediction models
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€šè¿‡åˆ é™¤ä¸€äº›è¦†ç›–ç‡è¾ƒå·®çš„ç‰¹å¾ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæé«˜æˆ‘ä»¬çš„æ¨¡å‹ï¼Œå› ä¸ºç‰¹å¾æ’è¡¥å­˜åœ¨å±€é™æ€§ï¼Œç‰¹å¾æ’è¡¥å®é™…ä¸Šä¼šåœ¨ç»Ÿè®¡æ•°æ®å’Œæˆ‘ä»¬çš„é¢„æµ‹æ¨¡å‹ä¸­å¼•å…¥åå·®å’Œé¢å¤–çš„è¯¯å·®ã€‚
- en: if likewise deletion is applied to deal with missing values, features with low
    coverage result in a lot of removed data!
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœåº”ç”¨ç±»ä¼¼åˆ é™¤æ¥å¤„ç†ç¼ºå¤±å€¼ï¼Œä½è¦†ç›–ç‡çš„ç‰¹å¾ä¼šå¯¼è‡´å¤§é‡æ•°æ®è¢«åˆ é™¤ï¼
- en: 'Letâ€™s start with a bar chart with the proportion of missing records:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»æ¡å½¢å›¾å¼€å§‹ï¼Œå±•ç¤ºç¼ºå¤±è®°å½•çš„æ¯”ä¾‹ï¼š
- en: '[PRE12]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![_images/6b56bb06fe01cd87f3513b8ebe3a71bb409619f34b70e4dd2bd50d61e5c4e62d.png](../Images/e5a834b70ca47ad151aee5749adc53ce.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/e5a834b70ca47ad151aee5749adc53ce.png)'
- en: For the provided example dataset the plot should be empty. There are no missing
    data so the â€˜Proportion of Missing Recordsâ€™ is 0.0 for all features.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæä¾›çš„ç¤ºä¾‹æ•°æ®é›†ï¼Œå›¾è¡¨åº”ä¸ºç©ºã€‚æ²¡æœ‰ç¼ºå¤±æ•°æ®ï¼Œå› æ­¤æ‰€æœ‰ç‰¹å¾çš„â€œç¼ºå¤±è®°å½•æ¯”ä¾‹â€å‡ä¸º0.0ã€‚
- en: 'If you wanted to test this plot with some missing data, run this code first:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³ç”¨ä¸€äº›ç¼ºå¤±æ•°æ®æµ‹è¯•æ­¤å›¾è¡¨ï¼Œè¯·å…ˆè¿è¡Œæ­¤ä»£ç ï¼š
- en: '[PRE13]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Remove this code and reload the data to continue to get consistent results with
    the discussions below.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ é™¤æ­¤ä»£ç å¹¶é‡æ–°åŠ è½½æ•°æ®ï¼Œä»¥ç»§ç»­è·å¾—ä¸ä»¥ä¸‹è®¨è®ºä¸€è‡´çš„ç»“æœã€‚
- en: This does not tell the whole story. For example, if 20% of feature A is missing
    and 20% of feature B is missing are those the same and different samples. This
    has a huge impact if you perform likewise deletion.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¹¶ä¸èƒ½è¯´æ˜å…¨éƒ¨æƒ…å†µã€‚ä¾‹å¦‚ï¼Œå¦‚æœç‰¹å¾Açš„20%ç¼ºå¤±ï¼Œç‰¹å¾Bçš„20%ç¼ºå¤±ï¼Œè¿™äº›æ˜¯å¦æ˜¯ç›¸åŒçš„æ ·æœ¬æˆ–ä¸åŒçš„æ ·æœ¬ã€‚å¦‚æœä½ æ‰§è¡Œç±»ä¼¼çš„åˆ é™¤ï¼Œè¿™ä¼šäº§ç”Ÿå·¨å¤§çš„å½±å“ã€‚
- en: If there is not too much data then we can actually visualize data coverage over
    all samples and features in a boolean table like this.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœæ•°æ®é‡ä¸æ˜¯å¤ªå¤šï¼Œæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥åœ¨è¿™æ ·çš„å¸ƒå°”è¡¨ä¸­å¯è§†åŒ–æ‰€æœ‰æ ·æœ¬å’Œç‰¹å¾çš„è¦†ç›–æƒ…å†µã€‚
- en: This method may identify specific samples with many missing features that may
    be removed to improve overall coverage or other trends or structures in the missing
    data that may result in sampling bias.
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ­¤æ–¹æ³•å¯èƒ½è¯†åˆ«å‡ºå…·æœ‰è®¸å¤šç¼ºå¤±ç‰¹å¾çš„å…·ä½“æ ·æœ¬ï¼Œè¿™äº›æ ·æœ¬å¯èƒ½è¢«åˆ é™¤ä»¥æé«˜æ•´ä½“è¦†ç›–æˆ–ç¼ºå¤±æ•°æ®ä¸­çš„å…¶ä»–è¶‹åŠ¿æˆ–ç»“æ„ï¼Œè¿™å¯èƒ½å¯¼è‡´é‡‡æ ·åå·®ã€‚
- en: '[PRE14]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '![_images/5849f3ca4f8301f49db8799952b591b62475a866fcaa2646497f042118e36aa0.png](../Images/9b8b2b5fe0360995f89df5950e3ed23d.png)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/9b8b2b5fe0360995f89df5950e3ed23d.png)'
- en: Once again this plot should be quite boring for the provided dataset with perfect
    coverage, every cell should be filled in red.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡å¼ºè°ƒï¼Œå¯¹äºæä¾›çš„å…·æœ‰å®Œç¾è¦†ç›–çš„æ•°æ®é›†ï¼Œæ­¤å›¾è¡¨åº”è¯¥ç›¸å½“æ— èŠï¼Œæ¯ä¸ªå•å…ƒæ ¼éƒ½åº”å¡«å……çº¢è‰²ã€‚
- en: add the code to remove some records to test this plot. White cells are missing
    records.
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ·»åŠ ä»£ç ä»¥åˆ é™¤ä¸€äº›è®°å½•ä»¥æµ‹è¯•æ­¤å›¾è¡¨ã€‚ç™½è‰²å•å…ƒæ ¼è¡¨ç¤ºç¼ºå¤±è®°å½•ã€‚
- en: Feature Imputation
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’è¡¥
- en: See the chapter on feature imputation to learn what to do about missing data.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·å‚é˜…å…³äºç‰¹å¾æ’è¡¥çš„ç« èŠ‚ï¼Œäº†è§£å¦‚ä½•å¤„ç†ç¼ºå¤±æ•°æ®ã€‚
- en: For now a concise treatment here, we will just apply likewise deletion and move
    on.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®å‰åœ¨æ­¤å¤„è¿›è¡Œç®€è¦å¤„ç†ï¼Œæˆ‘ä»¬åªéœ€åŒæ ·åˆ é™¤å¹¶ç»§ç»­è¿›è¡Œã€‚
- en: we remove all samples with any missing feature values. While this is quite simple,
    it is a sledge hammer approach to ensure perfect coverage required by feature
    ranking methods that we are about to demonstrate. Please check out the other methods
    in the linked workflow above.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç§»é™¤æ‰€æœ‰å…·æœ‰ä»»ä½•ç¼ºå¤±ç‰¹å¾å€¼çš„æ ·æœ¬ã€‚è™½ç„¶è¿™å¾ˆç®€å•ï¼Œä½†è¿™æ˜¯ç¡®ä¿æˆ‘ä»¬å³å°†å±•ç¤ºçš„ç‰¹å¾æ’åæ–¹æ³•æ‰€éœ€å®Œç¾è¦†ç›–çš„ä¸€ç§ç®€å•ç²—æš´çš„æ–¹æ³•ã€‚è¯·æŸ¥çœ‹ä¸Šé¢é“¾æ¥çš„å·¥ä½œæµç¨‹ä¸­çš„å…¶ä»–æ–¹æ³•ã€‚
- en: '[PRE15]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Summary Statistics
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‘˜è¦ç»Ÿè®¡
- en: 'In any multivariate work we should start with the univariate analysis, summary
    statistics of one variable at a time. The summary statistic ranking method is
    qualitative, we are asking:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä»»ä½•å¤šå…ƒå·¥ä½œä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ä»å•å˜é‡åˆ†æå¼€å§‹ï¼Œä¸€æ¬¡åªåˆ†æä¸€ä¸ªå˜é‡çš„æ‘˜è¦ç»Ÿè®¡ã€‚æ‘˜è¦ç»Ÿè®¡æ’åæ–¹æ³•æ˜¯å®šæ€§çš„ï¼Œæˆ‘ä»¬æ˜¯åœ¨é—®ï¼š
- en: Are there data issues?
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ˜¯å¦å­˜åœ¨æ•°æ®é—®é¢˜ï¼Ÿ
- en: Do we trust the features? Do we trust the features all equally?
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ˜¯å¦ä¿¡ä»»ç‰¹å¾ï¼Ÿæˆ‘ä»¬æ˜¯å¦åŒç­‰ä¿¡ä»»æ‰€æœ‰ç‰¹å¾ï¼Ÿ
- en: Are there issues that need to be taken care of before we develop any multivariate
    workflows?
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬å¼€å‘ä»»ä½•å¤šå…ƒå·¥ä½œæµç¨‹ä¹‹å‰ï¼Œéœ€è¦å¤„ç†å“ªäº›é—®é¢˜ï¼Ÿ
- en: There are a lot of efficient methods to calculate summary statistics from tabular
    data in DataFrames. The describe command provides count, mean, minimum, maximum,
    and quartiles all in a compact data table. We use transpose() command to flip
    the table so that features are on the rows and the statistics are on the columns.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨DataFramesä¸­ï¼Œæœ‰è®¸å¤šé«˜æ•ˆçš„æ–¹æ³•å¯ä»¥è®¡ç®—è¡¨æ ¼æ•°æ®çš„æ‘˜è¦ç»Ÿè®¡ã€‚describeå‘½ä»¤æä¾›äº†ä¸€ä¸ªç´§å‡‘çš„æ•°æ®è¡¨ï¼Œæä¾›äº†è®¡æ•°ã€å¹³å‡å€¼ã€æœ€å°å€¼ã€æœ€å¤§å€¼å’Œå››åˆ†ä½æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨transpose()å‘½ä»¤ç¿»è½¬è¡¨æ ¼ï¼Œä½¿ç‰¹å¾ä½äºè¡Œä¸Šï¼Œè€Œç»Ÿè®¡å€¼ä½äºåˆ—ä¸Šã€‚
- en: '[PRE16]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '|  | count | mean | std | min | 25% | 50% | 75% | max |'
  id: totrans-201
  prefs: []
  type: TYPE_TB
  zh: '|  | count | mean | std | min | 25% | 50% | 75% | max |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-202
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| Well | 200.0 | 100.500000 | 57.879185 | 1.000000 | 50.750000 | 100.500000
    | 150.250000 | 200.000000 |'
  id: totrans-203
  prefs: []
  type: TYPE_TB
  zh: '| Well | 200.0 | 100.500000 | 57.879185 | 1.000000 | 50.750000 | 100.500000
    | 150.250000 | 200.000000 |'
- en: '| Por | 200.0 | 14.991150 | 2.971176 | 6.550000 | 12.912500 | 15.070000 | 17.402500
    | 23.550000 |'
  id: totrans-204
  prefs: []
  type: TYPE_TB
  zh: '| Por | 200.0 | 14.991150 | 2.971176 | 6.550000 | 12.912500 | 15.070000 | 17.402500
    | 23.550000 |'
- en: '| Perm | 200.0 | 4.330750 | 1.731014 | 1.130000 | 3.122500 | 4.035000 | 5.287500
    | 9.870000 |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '| Perm | 200.0 | 4.330750 | 1.731014 | 1.130000 | 3.122500 | 4.035000 | 5.287500
    | 9.870000 |'
- en: '| AI | 200.0 | 2.968850 | 0.566885 | 1.280000 | 2.547500 | 2.955000 | 3.345000
    | 4.630000 |'
  id: totrans-206
  prefs: []
  type: TYPE_TB
  zh: '| AI | 200.0 | 2.968850 | 0.566885 | 1.280000 | 2.547500 | 2.955000 | 3.345000
    | 4.630000 |'
- en: '| Brittle | 200.0 | 48.161950 | 14.129455 | 10.940000 | 37.755000 | 49.510000
    | 58.262500 | 84.330000 |'
  id: totrans-207
  prefs: []
  type: TYPE_TB
  zh: '| Brittle | 200.0 | 48.161950 | 14.129455 | 10.940000 | 37.755000 | 49.510000
    | 58.262500 | 84.330000 |'
- en: '| TOC | 200.0 | 0.990450 | 0.481588 | -0.190000 | 0.617500 | 1.030000 | 1.350000
    | 2.180000 |'
  id: totrans-208
  prefs: []
  type: TYPE_TB
  zh: '| TOC | 200.0 | 0.990450 | 0.481588 | -0.190000 | 0.617500 | 1.030000 | 1.350000
    | 2.180000 |'
- en: '| VR | 200.0 | 1.964300 | 0.300827 | 0.930000 | 1.770000 | 1.960000 | 2.142500
    | 2.870000 |'
  id: totrans-209
  prefs: []
  type: TYPE_TB
  zh: '| VR | 200.0 | 1.964300 | 0.300827 | 0.930000 | 1.770000 | 1.960000 | 2.142500
    | 2.870000 |'
- en: '| Prod | 200.0 | 3864.407081 | 1553.277558 | 839.822063 | 2686.227611 | 3604.303506
    | 4752.637555 | 8590.384044 |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| Prod | 200.0 | 3864.407081 | 1553.277558 | 839.822063 | 2686.227611 | 3604.303506
    | 4752.637555 | 8590.384044 |'
- en: Summary statistics are a critical first step in data checking.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: æ‘˜è¦ç»Ÿè®¡æ˜¯æ•°æ®æ£€æŸ¥çš„å…³é”®ç¬¬ä¸€æ­¥ã€‚
- en: this includes the number of valid (non-null) values for each feature (count
    removes all np.NaN from the totals for each variable).
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™åŒ…æ‹¬æ¯ä¸ªç‰¹å¾çš„æœ‰æ•ˆï¼ˆéç©ºï¼‰å€¼çš„æ•°é‡ï¼ˆè®¡æ•°ä¼šä»æ¯ä¸ªå˜é‡çš„æ€»æ•°ä¸­ç§»é™¤æ‰€æœ‰np.NaNï¼‰ã€‚
- en: we can see the general behaviors such as central tendency, mean, and dispersion,
    variance.
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€èˆ¬çš„è¡Œä¸ºï¼Œå¦‚ä¸­å¿ƒè¶‹åŠ¿ã€å‡å€¼å’Œåˆ†æ•£åº¦ã€æ–¹å·®ã€‚
- en: we can identify issue with negative values, extreme values, and values that
    are outside the range of plausible values for each property.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¯†åˆ«å‡ºè´Ÿå€¼ã€æç«¯å€¼ä»¥åŠè¶…å‡ºæ¯ä¸ªå±æ€§å¯èƒ½å€¼èŒƒå›´çš„å€¼çš„é—®é¢˜ã€‚
- en: The data looks to be in pretty good shape and for brevity we skip outlier detection.
    Letâ€™s look at the univariate distributions.
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ•°æ®çœ‹èµ·æ¥ç›¸å½“è‰¯å¥½ï¼Œä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘ä»¬è·³è¿‡å¼‚å¸¸å€¼æ£€æµ‹ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å•å˜é‡åˆ†å¸ƒã€‚
- en: Univariate Distributions
  id: totrans-216
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å•å˜é‡åˆ†å¸ƒ
- en: As with summary statistics, this ranking method is a qualitative check for issues
    with the data and to assess our confidence with each feature. It is better to
    not include a feature with low confidence of quality as it may be misleading (while
    adding to model complexity as discussed previously).
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æ‘˜è¦ç»Ÿè®¡ä¸€æ ·ï¼Œè¿™ç§æ–¹æ³•æ˜¯å¯¹æ•°æ®é—®é¢˜è¿›è¡Œå®šæ€§æ£€æŸ¥ï¼Œå¹¶è¯„ä¼°æˆ‘ä»¬å¯¹æ¯ä¸ªç‰¹å¾çš„ä¿¡å¿ƒã€‚æœ€å¥½ä¸åŒ…å«è´¨é‡ä¿¡å¿ƒä½çš„ç‰¹å¾ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šè¯¯å¯¼ï¼ˆå¦‚å‰æ‰€è¿°ï¼ŒåŒæ—¶å¢åŠ æ¨¡å‹å¤æ‚æ€§ï¼‰ã€‚
- en: '[PRE17]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![_images/1b5c32c2236778514e0fd18a00eb66559f6030647523aca11be1a1e520a5693c.png](../Images/8a0c89fa0d885a7643839d04c23ff8be.png)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/8a0c89fa0d885a7643839d04c23ff8be.png)'
- en: 'The univariate distributions look good:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: å•å˜é‡åˆ†å¸ƒçœ‹èµ·æ¥å¾ˆå¥½ï¼š
- en: there are no obvious outliers
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ²¡æœ‰æ˜æ˜¾çš„å¼‚å¸¸å€¼
- en: the permeability is positively skewed, as is often observed
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¸—é€ç‡æ˜¯æ­£åæ–œçš„ï¼Œè¿™æ˜¯å¸¸è§çš„ç°è±¡
- en: the corrected TOC has a small spike, but itâ€™s reasonable
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¿®æ­£åçš„ç›®å½•è¡¨æœ‰ä¸€ä¸ªå°å³°å€¼ï¼Œä½†è¿™æ˜¯åˆç†çš„
- en: Bivariate Distributions
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŒå˜é‡åˆ†å¸ƒ
- en: Matrix scatter plots are a very efficient method to observe the bivariate relationships
    between the variables.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: çŸ©é˜µæ•£ç‚¹å›¾æ˜¯è§‚å¯Ÿå˜é‡ä¹‹é—´åŒå˜é‡å…³ç³»çš„ä¸€ç§éå¸¸æœ‰æ•ˆçš„æ–¹æ³•ã€‚
- en: this is another opportunity through data visualization to identify data issues
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™åˆæ˜¯é€šè¿‡æ•°æ®å¯è§†åŒ–æ¥è¯†åˆ«æ•°æ®é—®é¢˜çš„å¦ä¸€ä¸ªæœºä¼š
- en: we can assess if we have collinearity, specifically simpler form between two
    features at a time.
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¯„ä¼°æ˜¯å¦å­˜åœ¨å¤šé‡å…±çº¿æ€§ï¼Œç‰¹åˆ«æ˜¯æ¯æ¬¡è¯„ä¼°ä¸¤ä¸ªç‰¹å¾ä¹‹é—´çš„ç®€å•å½¢å¼ã€‚
- en: '[PRE18]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '![_images/283204472327a4b7c8b5d3fcf91848aec9161f0646166a8de22e8d42f8dbdaf5.png](../Images/eb1c7e7e9920c8c27be71cd70df81661.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/eb1c7e7e9920c8c27be71cd70df81661.png)'
- en: This plot communicates a lot of information. How could we use this plot for
    variable ranking?
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå›¾è¡¨ä¼ è¾¾äº†å¤§é‡çš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¿™ä¸ªå›¾è¡¨è¿›è¡Œå˜é‡æ’åï¼Ÿ
- en: we can identify features that are closely related to each other, e.g., if two
    features have almost a perfect monotonic linear or near linear relationship we
    should remove one immediately. This is a simple case of collinearity that will
    likely result in model instability as discussed above.
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¯†åˆ«å‡ºå½¼æ­¤ç´§å¯†ç›¸å…³çš„ç‰¹å¾ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä¸¤ä¸ªç‰¹å¾å‡ ä¹æœ‰å®Œç¾çš„å•è°ƒçº¿æ€§æˆ–è¿‘çº¿æ€§å…³ç³»ï¼Œæˆ‘ä»¬åº”è¯¥ç«‹å³åˆ é™¤ä¸€ä¸ªã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å¤šé‡å…±çº¿æ€§æ¡ˆä¾‹ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¨¡å‹ä¸ç¨³å®šã€‚
- en: we can check for linear vs. non-linear relationships. If we observe nonlinear
    bivariate relationships this will impact the choice of methods, and the quality
    of results from methods that assume linear relationships for variable ranking.
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥æ£€æŸ¥çº¿æ€§ä¸éçº¿æ€§å…³ç³»ã€‚å¦‚æœæˆ‘ä»¬è§‚å¯Ÿåˆ°éçº¿æ€§åŒå˜é‡å…³ç³»ï¼Œè¿™å°†å½±å“æ–¹æ³•çš„é€‰æ‹©ï¼Œä»¥åŠå˜é‡æ’åæ–¹æ³•å‡è®¾çº¿æ€§å…³ç³»æ—¶çš„ç»“æœè´¨é‡ã€‚
- en: we can identify constraint relationships and heteroscedasticity between variables.
    Once again these may restrict our ranking methods and also encourage us to retains
    specific features to retain these features in the resulting model.
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¯†åˆ«å˜é‡ä¹‹é—´çš„çº¦æŸå…³ç³»å’Œå¼‚æ–¹å·®æ€§ã€‚å†æ¬¡å¼ºè°ƒï¼Œè¿™äº›å¯èƒ½ä¼šé™åˆ¶æˆ‘ä»¬çš„æ’åæ–¹æ³•ï¼Œå¹¶é¼“åŠ±æˆ‘ä»¬ä¿ç•™ç‰¹å®šç‰¹å¾ä»¥åœ¨ç»“æœæ¨¡å‹ä¸­ä¿ç•™è¿™äº›ç‰¹å¾ã€‚
- en: Yet, we must remember that bivariate visualization and analysis is not sufficient
    to understand all the multivariate relationships in the data, e.g., multicollinearity
    includes strong linear relationships between 2 or more features. These may be
    hard to see with only bivariate plots.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œæˆ‘ä»¬å¿…é¡»è®°ä½ï¼ŒåŒå˜é‡å¯è§†åŒ–å’Œåˆ†æä¸è¶³ä»¥ç†è§£æ•°æ®ä¸­çš„æ‰€æœ‰å¤šå…ƒå…³ç³»ï¼Œä¾‹å¦‚ï¼Œå¤šé‡å…±çº¿æ€§åŒ…æ‹¬ä¸¤ä¸ªæˆ–æ›´å¤šç‰¹å¾ä¹‹é—´å¼ºçƒˆçš„çº¿æ€§å…³ç³»ã€‚è¿™äº›å¯èƒ½ä»…é€šè¿‡åŒå˜é‡å›¾éš¾ä»¥çœ‹åˆ°ã€‚
- en: Pairwise Covariance
  id: totrans-235
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯¹æ•°åæ–¹å·®
- en: 'Pairwise covariance provides a measure of the strength of the linear relationship
    between each predictor feature and the response feature. At this point, we specify
    that the goal of this study is to predict production, our response variable, from
    the other available predictor features. We are thinking predictively now, not
    inferentially, we want to estimate the function, \(\hat{f}\), to accomplish this:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹æ•°åæ–¹å·®æä¾›äº†è¡¡é‡æ¯ä¸ªé¢„æµ‹ç‰¹å¾ä¸å“åº”ç‰¹å¾ä¹‹é—´çº¿æ€§å…³ç³»å¼ºåº¦çš„åº¦é‡ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬æŒ‡å®šæœ¬ç ”ç©¶çš„ç›®çš„æ˜¯ä»å…¶ä»–å¯ç”¨çš„é¢„æµ‹ç‰¹å¾ä¸­é¢„æµ‹äº§é‡ï¼Œæˆ‘ä»¬çš„å“åº”å˜é‡ã€‚æˆ‘ä»¬ç°åœ¨æ­£åœ¨é¢„æµ‹æ€§æ€è€ƒï¼Œè€Œä¸æ˜¯æ¨æ–­æ€§æ€è€ƒï¼Œæˆ‘ä»¬æƒ³è¦ä¼°è®¡å‡½æ•°
    \(\hat{f}\) æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼š
- en: \[ Y = \hat{f}(X_1,\ldots,X_n) \]
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: \[ Y = \hat{f}(X_1,\ldots,X_n) \]
- en: 'where \(Y\) is our response feature and \(X_1,\ldots,X_n\) are our predictor
    features. If we retained all of our predictor features to predict the response
    we would have:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ \(Y\) æ˜¯æˆ‘ä»¬çš„å“åº”ç‰¹å¾ï¼Œ\(X_1,\ldots,X_n\) æ˜¯æˆ‘ä»¬çš„é¢„æµ‹ç‰¹å¾ã€‚å¦‚æœæˆ‘ä»¬ä¿ç•™äº†æ‰€æœ‰é¢„æµ‹ç‰¹å¾æ¥é¢„æµ‹å“åº”ï¼Œæˆ‘ä»¬å°±ä¼šæœ‰ï¼š
- en: \[ Prod = \hat{f}(Por,Perm,AI,Brittle,TOC,VR) \]
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: \[ äº§é‡ = \hat{f}(å­”éš™ç‡ï¼Œæ¸—é€ç‡ï¼ŒAIï¼Œè„†æ€§ï¼ŒTOCï¼ŒVR) \]
- en: 'Now back to the covariance, the covariance is defined as:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å›åˆ°åæ–¹å·®ï¼Œåæ–¹å·®å®šä¹‰ä¸ºï¼š
- en: \[ C_{xy} = \frac{\sum_{i=1}^{n} (x_i - \overline{x})(y_i - \overline{y})}{(n-1)}
    \]
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: \[ C_{xy} = \frac{\sum_{i=1}^{n} (x_i - \overline{x})(y_i - \overline{y})}{(n-1)}
    \]
- en: 'Covariance:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: åæ–¹å·®ï¼š
- en: measures the linear relationship
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¡¡é‡çº¿æ€§å…³ç³»
- en: sensitive to the dispersion / variance of both the predictor and response
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹é¢„æµ‹å’Œå“åº”çš„åˆ†æ•£/æ–¹å·®æ•æ„Ÿ
- en: 'We can use the follow command to build a covariance matrix:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºåæ–¹å·®çŸ©é˜µï¼š
- en: '[PRE19]'
  id: totrans-246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: the output is a new Pandas DataFrame, so we can slice the last column to get
    a Pandas series (ndarray with names) with the covariances between all predictors
    features and the response.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„ Pandas DataFrameï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ‡ç‰‡æœ€åä¸€åˆ—ä»¥è·å–ä¸€ä¸ª Pandas ç³»åˆ—ï¼ˆå…·æœ‰åç§°çš„ ndarrayï¼‰ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰é¢„æµ‹ç‰¹å¾ä¸å“åº”ä¹‹é—´çš„åæ–¹å·®ã€‚
- en: '[PRE20]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '![_images/ff711b73e2baba3be2993b907d5023462afb3ab86692953cb31870078fc6969f.png](../Images/89e89e3a083da28954418714216aa9d0.png)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/89e89e3a083da28954418714216aa9d0.png)'
- en: The covariance is useful, but as you can see the magnitude is quite variable.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: åæ–¹å·®æ˜¯æœ‰ç”¨çš„ï¼Œä½†å¦‚æ‚¨æ‰€è§ï¼Œå…¶å¤§å°ç›¸å½“å¤šå˜ã€‚
- en: the covarince magnitudes are a function of each featureâ€™s feature and feature
    variance is somewhat arbitrary.
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åæ–¹å·®çš„å¤§å°æ˜¯æ¯ä¸ªç‰¹å¾çš„ç‰¹æ€§åŠå…¶ç‰¹å¾æ–¹å·®æ˜¯ç›¸å½“ä»»æ„çš„ã€‚
- en: 'for example, what is the variance of porosity in fraction vs. percentage or
    permeability in Darcy vs. milliDarcy. We can show that if we apply a constant
    multiplier, \(c\), to a feature, \(X\), that the variance will change according
    to this relationship (the proof is based on expectation formulation of variance):'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå­”éš™ç‡çš„æ–¹å·®åœ¨åˆ†æ•°ä¸ç™¾åˆ†æ¯”ä¹‹é—´æˆ–æ¸—é€ç‡åœ¨è¾¾è¥¿ä¸æ¯«è¾¾è¥¿ä¹‹é—´çš„æ–¹å·®æ˜¯å¤šå°‘ã€‚æˆ‘ä»¬å¯ä»¥è¡¨æ˜ï¼Œå¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªç‰¹å¾ \(X\) åº”ç”¨ä¸€ä¸ªå¸¸æ•°ä¹˜æ•° \(c\)ï¼Œæ–¹å·®å°†æ ¹æ®æ­¤å…³ç³»å˜åŒ–ï¼ˆè¯æ˜åŸºäºæ–¹å·®çš„æœŸæœ›å…¬å¼ï¼‰ï¼š
- en: \[ \sigma_{cX}^2 = c^2 \cdot \sigma_{X}^2 \]
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \sigma_{cX}^2 = c^2 \cdot \sigma_{X}^2 \]
- en: By moving from percentage to fraction we decrease the variance of porosity by
    a factor of 10,000! The variance of each feature is potentially arbitrary, with
    the exception when all the features are in the same units.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡ä»ç™¾åˆ†æ¯”è½¬æ¢ä¸ºåˆ†æ•°ï¼Œæˆ‘ä»¬ä½¿å­”éš™ç‡çš„æ–¹å·®é™ä½äº†10000å€ï¼æ¯ä¸ªç‰¹å¾çš„æ–¹å·®å¯èƒ½æ˜¯ä»»æ„çš„ï¼Œé™¤éæ‰€æœ‰ç‰¹å¾éƒ½åœ¨ç›¸åŒçš„å•ä½ä¸­ã€‚
- en: Pairwise correlations are standardized covariances; therefore, avoids this arbitrary
    magnitude issue.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹æ•°ç›¸å…³ç³»æ•°æ˜¯æ ‡å‡†åŒ–çš„åæ–¹å·®ï¼›å› æ­¤ï¼Œé¿å…äº†è¿™ç§ä»»æ„å¤§å°çš„é—®é¢˜ã€‚
- en: Pairwise Correlation Coefficient
  id: totrans-256
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯¹æ•°ç›¸å…³ç³»æ•°
- en: Pairwise correlation coefficient provides a measure of the strength of the linear
    relationship between each predictor feature and the response feature.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: é…å¯¹ç›¸å…³ç³»æ•°æä¾›äº†è¡¡é‡æ¯ä¸ªé¢„æµ‹ç‰¹å¾ä¸å“åº”ç‰¹å¾ä¹‹é—´çº¿æ€§å…³ç³»å¼ºåº¦çš„åº¦é‡ã€‚
- en: \[ \rho_{xy} = \frac{\sum_{i=1}^{n} (x_i - \overline{x})(y_i - \overline{y})}{(n-1)\sigma_x
    \sigma_y}, \, -1.0 \le \rho_{xy} \le 1.0 \]
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \rho_{xy} = \frac{\sum_{i=1}^{n} (x_i - \overline{x})(y_i - \overline{y})}{(n-1)\sigma_x
    \sigma_y}, \, -1.0 \le \rho_{xy} \le 1.0 \]
- en: 'The correlation coefficient:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: ç›¸å…³ç³»æ•°ï¼š
- en: measures the linear relationship
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¡¡é‡çº¿æ€§å…³ç³»
- en: removes the sensitivity to the dispersion / variance of both the predictor and
    response features, by normalizing by the product of the standard deviation of
    each feature
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€šè¿‡å°†æ¯ä¸ªç‰¹å¾çš„æ ‡å‡†å·®ä¹˜ç§¯è¿›è¡Œå½’ä¸€åŒ–ï¼Œæ¶ˆé™¤äº†å¯¹é¢„æµ‹ç‰¹å¾å’Œå“åº”ç‰¹å¾åˆ†æ•£/æ–¹å·®çš„æ•æ„Ÿæ€§
- en: 'We can use the follow command to build a correlation matrix:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºä¸€ä¸ªç›¸å…³çŸ©é˜µï¼š
- en: '[PRE21]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: the output is a new Pandas DataFrame, so we can slice the last column to get
    a Pandas series (ndarray with names) with the correlations between all predictors
    features and the response.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„ Pandas DataFrameï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ‡ç‰‡æœ€åä¸€åˆ—ä»¥è·å–ä¸€ä¸ª Pandas ç³»åˆ—ï¼ˆå…·æœ‰åç§°çš„ ndarrayï¼‰ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰é¢„æµ‹ç‰¹å¾ä¸å“åº”ä¹‹é—´çš„ç›¸å…³æ€§ã€‚
- en: '[PRE22]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '![_images/8de550142d1a57e5f8c2443095641ca1f3d8907168b1d668112afc3f7f49b625.png](../Images/cf2f8ebbbb9381f4ae232eefb7ce2e7a.png)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![_images/8de550142d1a57e5f8c2443095641ca1f3d8907168b1d668112afc3f7f49b625.png](../Images/cf2f8ebbbb9381f4ae232eefb7ce2e7a.png)'
- en: 'From the correlation matrix we can observe:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ç›¸å…³çŸ©é˜µä¸­æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼š
- en: We see that porosity, permeability and total organic carbon have the strongest
    linear relationships with production.
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å­”éš™ç‡ã€æ¸—é€ç‡å’Œæ€»æœ‰æœºç¢³ä¸äº§é‡ä¹‹é—´æœ‰æœ€å¼ºçš„çº¿æ€§å…³ç³»ã€‚
- en: Acoustic impedance has weak negative relationships with production.
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å£°æ³¢é˜»æŠ—ä¸äº§é‡å‘ˆå¼±è´Ÿç›¸å…³ã€‚
- en: Brittleness is very close to 0.0\. If you review the brittleness vs. production
    scatterplot, youâ€™ll observe a complicated non-linear relationship. There is a
    brittleness ratio sweet spot for production (rock that is not too soft nor too
    hard)!
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å»¶å±•æ€§éå¸¸æ¥è¿‘ 0.0ã€‚å¦‚æœä½ æŸ¥çœ‹å»¶å±•æ€§ vs. äº§é‡æ•£ç‚¹å›¾ï¼Œä½ ä¼šè§‚å¯Ÿåˆ°ä¸€ç§å¤æ‚çš„éçº¿æ€§å…³ç³»ã€‚å¯¹äºäº§é‡æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªå»¶å±•æ€§æ¯”ç‡æœ€ä½³ç‚¹ï¼ˆæ—¢ä¸å¤ªè½¯ä¹Ÿä¸å¤ªç¡¬çš„å²©çŸ³ï¼‰ï¼
- en: We could also look at the full correlation matrix to evaluate the potential
    for redundancy between predictor features.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¹Ÿå¯ä»¥æŸ¥çœ‹å®Œæ•´çš„ç›¸å…³çŸ©é˜µæ¥è¯„ä¼°é¢„æµ‹ç‰¹å¾ä¹‹é—´å†—ä½™çš„æ½œåŠ›ã€‚
- en: strong degree of correlation between porosity and permeability and porosity
    and TOC
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡å’Œæ¸—é€ç‡ä»¥åŠå­”éš™ç‡å’Œ TOC ä¹‹é—´å­˜åœ¨å¼ºçƒˆçš„å…³è”åº¦
- en: strong degree of negative correlation between TOC and acoustic impedance
  id: totrans-273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: TOC å’Œå£°æ³¢é˜»æŠ—ä¹‹é—´å­˜åœ¨å¼ºçƒˆçš„è´Ÿç›¸å…³åº¦
- en: We are still limited to a strict linear relationship. The rank correlation allows
    us to relax this assumption.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»ç„¶å±€é™äºä¸¥æ ¼çš„çº¿æ€§å…³ç³»ã€‚æ’åºç›¸å…³ç³»æ•°ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ”¾å®½è¿™ä¸ªå‡è®¾ã€‚
- en: Pairwise Spearman Rank Correlation Coefficient
  id: totrans-275
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é…å¯¹æ–¯çš®å°”æ›¼ç§©ç›¸å…³ç³»æ•°
- en: The rank correlation coefficient applies the rank transform to the data prior
    to calculating the correlation coefficient. To calculate the rank transform simply
    replace the data values with the rank \(R_x = 1,\dots,n\), where \(n\) is the
    maximum value and \(1\) is the minimum value.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: æ’åºç›¸å…³ç³»æ•°åœ¨è®¡ç®—ç›¸å…³ç³»æ•°ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œç§©è½¬æ¢ã€‚è¦è®¡ç®—ç§©è½¬æ¢ï¼Œåªéœ€å°†æ•°æ®å€¼æ›¿æ¢ä¸ºç§© \(R_x = 1,\dots,n\)ï¼Œå…¶ä¸­ \(n\) æ˜¯æœ€å¤§å€¼ï¼Œ\(1\)
    æ˜¯æœ€å°å€¼ã€‚
- en: \[ \rho_{R_x R_y} = \frac{\sum_{i=1}^{n} (R_{x_i} - \overline{R_x})(R_{y_i}
    - \overline{R_y})}{(n-1)\sigma_{R_x} \sigma_{R_y}}, \, -1.0 \le \rho_{xy} \le
    1.0 \]\[ x_\alpha, \, \forall \alpha = 1,\dots, n, \, | \, x_i \ge x_j \, \forall
    \, i \gt j \]\[ R_{x_i} = i \]
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \rho_{R_x R_y} = \frac{\sum_{i=1}^{n} (R_{x_i} - \overline{R_x})(R_{y_i}
    - \overline{R_y})}{(n-1)\sigma_{R_x} \sigma_{R_y}}, \, -1.0 \le \rho_{xy} \le
    1.0 \]\[ x_\alpha, \, \forall \alpha = 1,\dots, n, \, | \, x_i \ge x_j \, \forall
    \, i \gt j \]\[ R_{x_i} = i \]
- en: 'The rank correlation:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: æ’åºç›¸å…³ç³»æ•°ï¼š
- en: measures the monotonic relationship, relaxes the linear assumption
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¡¡é‡å•è°ƒå…³ç³»ï¼Œæ”¾å®½äº†çº¿æ€§å‡è®¾
- en: removes the sensitivity to the dispersion / variance of both the predictor and
    response, by normalizing by the product of the standard deviation of each.
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€šè¿‡å°†æ¯ä¸ªç‰¹å¾çš„æ ‡å‡†å·®ä¹˜ç§¯è¿›è¡Œå½’ä¸€åŒ–ï¼Œæ¶ˆé™¤äº†å¯¹é¢„æµ‹ç‰¹å¾å’Œå“åº”çš„æ•æ„Ÿæ€§
- en: 'We can use the follow command to build a rank correlation matrix and calculate
    the p-value:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºæ’åºç›¸å…³çŸ©é˜µå¹¶è®¡ç®— p å€¼ï¼š
- en: '[PRE23]'
  id: totrans-282
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: the output is a new Pandas DataFrame, so we can slice the last column to get
    a Pandas series (ndarray with names) with the correlations between all predictors
    features and the response.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„ Pandas DataFrameï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ‡ç‰‡æœ€åä¸€åˆ—ä»¥è·å–ä¸€ä¸ª Pandas ç³»åˆ—ï¼ˆå…·æœ‰åç§°çš„ ndarrayï¼‰ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰é¢„æµ‹ç‰¹å¾ä¸å“åº”ä¹‹é—´çš„ç›¸å…³æ€§ã€‚
- en: 'Also, we get a very convenient *pval* 2D ndarray with the two-sided (two-tail
    summing symmetric over both tails) p-value for a hypothesis test with:'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¾—åˆ°äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„ *pval* 2D ndarrayï¼Œå®ƒå…·æœ‰å‡è®¾æ£€éªŒçš„åŒä¾§ï¼ˆä¸¤å°¾æ±‚å’Œå¯¹ç§°åœ°è·¨è¶Šä¸¤ç«¯ï¼‰p å€¼ï¼š
- en: '\[ H_o: \rho_{R_x R_y} = 0 \]\[ H_1: \rho_{R_x R_y} \ne 0 \]'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: '\[ H_o: \rho_{R_x R_y} = 0 \]\[ H_1: \rho_{R_x R_y} \ne 0 \]'
- en: Letâ€™s keep the p-values between all the predictor features and our response
    feature.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä¿ç•™æ‰€æœ‰é¢„æµ‹ç‰¹å¾å’Œå“åº”ç‰¹å¾ä¹‹é—´çš„ p å€¼ã€‚
- en: '[PRE24]'
  id: totrans-287
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '[PRE25]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '![_images/dd0d78eac8d8429bd13249c35c5d50933da7bf91abf6d4cb58614489675c598e.png](../Images/609c07d08205a2c92204da55d19ad62a.png)'
  id: totrans-289
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/609c07d08205a2c92204da55d19ad62a.png)'
- en: There matrix and line plots indicate that the rank correlation coefficients
    are similar to the correlation coefficients indicating that nonlinearity and outliers
    are not likely impacting the correlation-based feature ranking.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›çŸ©é˜µå’Œçº¿å›¾è¡¨æ˜ï¼Œç§©ç›¸å…³ç³»æ•°ä¸ç›¸å…³ç³»æ•°ç›¸ä¼¼ï¼Œè¡¨æ˜éçº¿æ€§å¼‚å¸¸å€¼ä¸å¤ªå¯èƒ½å½±å“åŸºäºç›¸å…³æ€§çš„ç‰¹å¾æ’åºã€‚
- en: With regard to rank correlation p-values,
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºç§©ç›¸å…³ p å€¼ï¼Œ
- en: at a typical alpha value of 0.05, only the rank correlation between brittleness
    and production does not fail the hypothesis test; therefore, is not significantly
    different than 0.0.
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨å…¸å‹çš„ alpha å€¼ä¸º 0.05 çš„æƒ…å†µä¸‹ï¼Œåªæœ‰è„†æ€§ä¸äº§é‡çš„ç§©ç›¸å…³æ²¡æœ‰é€šè¿‡å‡è®¾æ£€éªŒï¼›å› æ­¤ï¼Œä¸ 0.0 å¹¶æ— æ˜¾è‘—å·®å¼‚ã€‚
- en: It is useful to look at the difference between the correlation coefficient and
    rank correlation coefficient.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹ç›¸å…³ç³»æ•°å’Œç§©ç›¸å…³ç³»æ•°ä¹‹é—´çš„å·®å¼‚æ˜¯æœ‰ç”¨çš„ã€‚
- en: '[PRE26]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '![_images/e6d73185fa9381a8bc24c2f7002331e6bbb2de3276c7073a45074a6ef2fae98b.png](../Images/9010e510d3b644ed069447aad1564797.png)'
  id: totrans-295
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/9010e510d3b644ed069447aad1564797.png)'
- en: 'Here are some interesting observations:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸€äº›æœ‰è¶£çš„è§‚å¯Ÿï¼š
- en: correlation of porosity and vitrinite reflectance with production improve when
    we reduce the impact of linearity and outliers
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬å‡å°‘çº¿æ€§å’Œå¼‚å¸¸å€¼çš„å½±å“æ—¶ï¼Œå­”éš™ç‡å’Œç»ç’ƒå…‰æ³½åå°„ç‡ä¸äº§é‡çš„ç›¸å…³æ€§æé«˜
- en: correlation of brittleness with production worsen when we reduce the impact
    of linearity and outliers
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬å‡å°‘çº¿æ€§å’Œå¼‚å¸¸å€¼çš„å½±å“æ—¶ï¼Œè„†æ€§ä¸äº§é‡çš„ç›¸å…³æ€§å˜å·®
- en: All of these methods up to now have considered one feature at a time. We can
    also consider methods that consider all features jointly to â€˜isolateâ€™ the influence
    of each feature.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯ä¸€æ¬¡è€ƒè™‘ä¸€ä¸ªç‰¹å¾ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥è€ƒè™‘åŒæ—¶è€ƒè™‘æ‰€æœ‰ç‰¹å¾çš„æ–¹æ³•ï¼Œä»¥â€œéš”ç¦»â€æ¯ä¸ªç‰¹å¾çš„å½±å“ã€‚
- en: Partial Correlation Coefficient
  id: totrans-300
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åç›¸å…³ç³»æ•°
- en: This is a linear correlation coefficient that controls for the effects all the
    remaining variables, \(\rho_{XY.Z}\) and \(\rho_{YX.Z}\) is the partial correlation
    between \(X\) and \(Y\), \(Y\) and \(X\), after controlling for \(Z\).
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªæ§åˆ¶æ‰€æœ‰å‰©ä½™å˜é‡å½±å“çš„çº¿æ€§ç›¸å…³ç³»æ•°ï¼Œ\(\rho_{XY.Z}\) å’Œ \(\rho_{YX.Z}\) æ˜¯åœ¨æ§åˆ¶ \(Z\) å \(X\) å’Œ
    \(Y\)ã€\(Y\) å’Œ \(X\) ä¹‹é—´çš„åç›¸å…³ã€‚
- en: 'To calculate the partial correlation coefficient between \(X\) and \(Y\) given
    \(Z_i, \forall \quad i = 1,\ldots, m-1\) remaining features we use the following
    steps:'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è®¡ç®—åœ¨ç»™å®š \(Z_i, \forall \quad i = 1,\ldots, m-1\) å‰©ä½™ç‰¹å¾çš„æƒ…å†µä¸‹ \(X\) å’Œ \(Y\) ä¹‹é—´çš„åç›¸å…³ç³»æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š
- en: perform linear, least-squares regression to predict \(X\) from \(Z_i, \forall
    \quad i = 1,\ldots, m-1\). \(X\) is regressed on the predictors to calculate the
    estimate, \(X^*\)
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰§è¡Œçº¿æ€§ã€æœ€å°äºŒä¹˜å›å½’ä»¥ä» \(Z_i, \forall \quad i = 1,\ldots, m-1\) é¢„æµ‹ \(X\)ã€‚\(X\) é€šè¿‡é¢„æµ‹å˜é‡è¿›è¡Œå›å½’ä»¥è®¡ç®—ä¼°è®¡å€¼ï¼Œ\(X^*\)
- en: 'calculate the residuals in Step #1, \(X-X^*\), where \(X^* = f(Z_{1,\ldots,m-1})\),
    linear regression model'
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'åœ¨æ­¥éª¤ #1 ä¸­è®¡ç®—æ®‹å·®ï¼Œ\(X-X^*\)ï¼Œå…¶ä¸­ \(X^* = f(Z_{1,\ldots,m-1})\)ï¼Œçº¿æ€§å›å½’æ¨¡å‹'
- en: perform linear, least-squares regression to predict \(Y\) from \(Z_i, \forall
    \quad i = 1,\ldots, m-1\). \(Y\) is regressed on the predictors to calculate the
    estimate, \(Y^*\)
  id: totrans-305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰§è¡Œçº¿æ€§ã€æœ€å°äºŒä¹˜å›å½’ä»¥ä» \(Z_i, \forall \quad i = 1,\ldots, m-1\) é¢„æµ‹ \(Y\)ã€‚\(Y\) é€šè¿‡é¢„æµ‹å˜é‡è¿›è¡Œå›å½’ä»¥è®¡ç®—ä¼°è®¡å€¼ï¼Œ\(Y^*\)
- en: 'calculate the residuals in Step #3, \(Y-Y^*\), where \(Y^* = f(Z_{1,\ldots,m-1})\),
    linear regression model'
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'åœ¨æ­¥éª¤ #3 ä¸­è®¡ç®—æ®‹å·®ï¼Œ\(Y-Y^*\)ï¼Œå…¶ä¸­ \(Y^* = f(Z_{1,\ldots,m-1})\)ï¼Œçº¿æ€§å›å½’æ¨¡å‹'
- en: 'calculate the correlation coefficient between the residuals from Steps #2 and
    #4, \(\rho_{X-X^*,Y-Y^*}\)'
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'è®¡ç®—æ­¥éª¤ #2 å’Œ #4 çš„æ®‹å·®ä¹‹é—´çš„ç›¸å…³ç³»æ•°ï¼Œ\(\rho_{X-X^*,Y-Y^*}\)'
- en: The partial correlation, provides a measure of the linear relationship between
    \(X\) and \(Y\) while controlling for the effect of \(Z\) other features on both,
    \(X\) and \(Y\). We use the function declared previously taken from Fabian Pedregosa-Izquierdo,
    [f@bianp.net](mailto:f%40bianp.net). The original code is on GitHub at [https://git.io/fhyHB](https://git.io/fhyHB).
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: åç›¸å…³ç³»æ•°æä¾›äº†åœ¨æ§åˆ¶ \(Z\) ç­‰å…¶ä»–ç‰¹å¾å¯¹ \(X\) å’Œ \(Y\) çš„å½±å“ä¸‹ï¼Œ\(X\) å’Œ \(Y\) ä¹‹é—´çº¿æ€§å…³ç³»çš„åº¦é‡ã€‚æˆ‘ä»¬ä½¿ç”¨ä¹‹å‰å£°æ˜çš„å‡½æ•°ï¼Œæ¥è‡ª
    Fabian Pedregosa-Izquierdoï¼Œ[f@bianp.net](mailto:f%40bianp.net)ã€‚åŸå§‹ä»£ç åœ¨ GitHub ä¸Šï¼Œ[https://git.io/fhyHB](https://git.io/fhyHB)ã€‚
- en: 'To use this method we must assume:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: è¦ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œæˆ‘ä»¬å¿…é¡»å‡è®¾ï¼š
- en: two variables to compare, \(X\) and \(Y\)
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: éœ€è¦æ¯”è¾ƒçš„ä¸¤ä¸ªå˜é‡ï¼Œ\(X\) å’Œ \(Y\)
- en: other variables to control, \(Z_{1,\ldots,m-2}\)
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: éœ€è¦æ§åˆ¶çš„å…¶å®ƒå˜é‡ï¼Œ\(Z_{1,\ldots,m-2}\)
- en: linear relationships between all variables
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰€æœ‰å˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»
- en: no significant outliers
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ²¡æœ‰æ˜¾è‘—å¼‚å¸¸å€¼
- en: approximately bivariate normality between the variables
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å˜é‡ä¹‹é—´çš„å¤§è‡´åŒå˜é‡æ­£æ€æ€§
- en: We are in pretty good shape, but we have some departures from bivariate normality.
    We could consider Gaussian univariate transforms to improve this. This option
    is provided later.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„æƒ…å†µç›¸å½“ä¸é”™ï¼Œä½†æœ‰ä¸€äº›åç¦»åŒå˜é‡æ­£æ€æ€§çš„æƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘é«˜æ–¯å•å˜é‡å˜æ¢æ¥æ”¹è¿›è¿™ä¸€ç‚¹ã€‚æ­¤é€‰é¡¹å°†åœ¨ç¨åæä¾›ã€‚
- en: '[PRE27]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '![_images/685abb597e65278976ed6245ea39ffba1c566acd98a0496f9a20ae9b472f4e07.png](../Images/11649099249c19a8d0134ee44bd96661.png)'
  id: totrans-317
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/11649099249c19a8d0134ee44bd96661.png)'
- en: Now we see a lot of new things about the unique contributions of each predictor
    feature!
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å…³äºæ¯ä¸ªé¢„æµ‹ç‰¹å¾ç‹¬ç‰¹è´¡çŒ®çš„è®¸å¤šæ–°äº‹ç‰©ï¼
- en: porosity and permeability are strongly correlated with each other so they are
    penalized severely
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡å’Œæ¸—é€ç‡å½¼æ­¤ä¹‹é—´é«˜åº¦ç›¸å…³ï¼Œå› æ­¤å®ƒä»¬å—åˆ°ä¸¥é‡æƒ©ç½š
- en: acoustic impedanceâ€™s and vitrinite reflectanceâ€™s absolute correlation are increased
    reflecting their unique contributions
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å£°æ³¢é˜»æŠ—å’Œé•œè´¨ä½“åå°„ç‡çš„ç»å¯¹å…³è”æ€§å¢åŠ ï¼Œåæ˜ äº†å®ƒä»¬ç‹¬ç‰¹çš„è´¡çŒ®
- en: total organic carbon flipped signs! When we control for all other variables,
    it has a negative relationship with production.
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ€»æœ‰æœºç¢³ç¿»è½¬äº†ç¬¦å·ï¼å½“æˆ‘ä»¬æ§åˆ¶æ‰€æœ‰å…¶ä»–å˜é‡æ—¶ï¼Œå®ƒä¸äº§é‡å‘ˆè´Ÿç›¸å…³å…³ç³»ã€‚
- en: With the partial correlation coefficients we have controlled for the influence
    of all other predictor features on both the specific predictor and the response
    features. The semipartial correlation filters out the influence of all other predictor
    features on the raw response variable.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡åç›¸å…³ç³»æ•°ï¼Œæˆ‘ä»¬å·²ç»æ§åˆ¶äº†æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾å¯¹ç‰¹å®šé¢„æµ‹ç‰¹å¾å’Œå“åº”ç‰¹å¾çš„å½±å“ã€‚åŠåç›¸å…³ç³»æ•°è¿‡æ»¤æ‰æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾å¯¹åŸå§‹å“åº”å˜é‡çš„å½±å“ã€‚
- en: Semipartial Correlation Coefficient
  id: totrans-323
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠåç›¸å…³ç³»æ•°
- en: 'This is a linear correlation coefficient that controls for the effects all
    the remaining features, \(Z\) on \(X\), and then calculates the correlation between
    the residual \(X^*-X\) and \(Y\). Note: we do not control for influence of \(Z\)
    features on the response feature, \(Y\).'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªæ§åˆ¶æ‰€æœ‰å‰©ä½™ç‰¹å¾ \(Z\) å¯¹ \(X\) çš„å½±å“çš„çº¿æ€§ç›¸å…³ç³»æ•°ï¼Œç„¶åè®¡ç®—æ®‹å·® \(X^*-X\) å’Œ \(Y\) ä¹‹é—´çš„ç›¸å…³ç³»æ•°ã€‚æ³¨æ„ï¼šæˆ‘ä»¬ä¸æ§åˆ¶
    \(Z\) ç‰¹å¾å¯¹å“åº”ç‰¹å¾ \(Y\) çš„å½±å“ã€‚
- en: 'To calculate the semipartial correlation coefficient between \(X\) and \(Y\)
    given \(Z_i, \forall \quad i = 1,\ldots, m-1\) remaining features we use the following
    steps:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è®¡ç®—ç»™å®š \(Z_i, \forall \quad i = 1,\ldots, m-1\) å‰©ä½™ç‰¹å¾ä¸‹çš„ \(X\) å’Œ \(Y\) ä¹‹é—´çš„åŠåç›¸å…³ç³»æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š
- en: perform linear, least-squares regression to predict \(X\) from \(Z_i, \forall
    \quad i = 1,\ldots, m-1\). \(X\) is regressed on the remaining predictor features
    to calculate the estimate, \(X^*\)
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰§è¡Œçº¿æ€§ã€æœ€å°äºŒä¹˜å›å½’ä»¥é¢„æµ‹ \(X\) æ¥è‡ª \(Z_i, \forall \quad i = 1,\ldots, m-1\)ã€‚\(X\) é€šè¿‡å‰©ä½™çš„é¢„æµ‹ç‰¹å¾è¿›è¡Œå›å½’ä»¥è®¡ç®—ä¼°è®¡å€¼ï¼Œ\(X^*\)
- en: 'calculate the residuals in Step #1, \(X-X^*\), where \(X^* = f(Z_{1,\ldots,m-1})\),
    linear regression model'
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'åœ¨æ­¥éª¤ #1 ä¸­è®¡ç®—æ®‹å·®ï¼Œ\(X-X^*\)ï¼Œå…¶ä¸­ \(X^* = f(Z_{1,\ldots,m-1})\)ï¼Œçº¿æ€§å›å½’æ¨¡å‹'
- en: 'calculate the correlation coefficient between the residuals from Steps #2 and
    \(Y\) response feature, \(\rho_{X-X^*,Y}\)'
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'è®¡ç®—æ­¥éª¤ #2 ä¸­æ®‹å·®ä¸ \(Y\) å“åº”ç‰¹å¾çš„å…³è”ç³»æ•°ï¼Œ\(\rho_{X-X^*,Y}\)'
- en: The semipartial correlation coefficient, provides a measure of the linear relationship
    between \(X\) and \(Y\) while controlling for the effect of \(Z\) other predictor
    features on the predictor feature, \(X\), to get the unique contribution of \(X\)
    with respect to \(Y\). We use a modified version of the partial correlation function
    that we declared previously. The original code is on GitHub at [https://git.io/fhyHB](https://git.io/fhyHB).
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: åŠéƒ¨åˆ†ç›¸å…³ç³»æ•°æä¾›äº†åœ¨æ§åˆ¶ \(Z\)ï¼ˆå…¶ä»–é¢„æµ‹ç‰¹å¾ï¼‰å¯¹é¢„æµ‹ç‰¹å¾ \(X\) çš„å½±å“çš„æƒ…å†µä¸‹ï¼Œ\(X\) å’Œ \(Y\) ä¹‹é—´çº¿æ€§å…³ç³»çš„åº¦é‡ã€‚æˆ‘ä»¬ä½¿ç”¨ä¹‹å‰å£°æ˜çš„éƒ¨åˆ†ç›¸å…³å‡½æ•°çš„ä¿®æ”¹ç‰ˆã€‚åŸå§‹ä»£ç åœ¨
    GitHub ä¸Šï¼Œè§ [https://git.io/fhyHB](https://git.io/fhyHB)ã€‚
- en: '[PRE28]'
  id: totrans-330
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '![_images/8288d5546785bae96f5c850214ddd5be4c148d6210b1b7d05ca2f86640b6b443.png](../Images/9bc790699675e3bdbd9e8ed625051fa1.png)'
  id: totrans-331
  prefs: []
  type: TYPE_IMG
  zh: '![_images/8288d5546785bae96f5c850214ddd5be4c148d6210b1b7d05ca2f86640b6b443.png](../Images/9bc790699675e3bdbd9e8ed625051fa1.png)'
- en: 'More information to consider:'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: éœ€è¦è€ƒè™‘çš„æ›´å¤šä¿¡æ¯ï¼š
- en: porosity, permeability and vitrinite reflectance are the most important by this
    feature ranking method
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡ã€æ¸—é€ç‡å’Œé•œè´¨ä½“åå°„ç‡æ˜¯æŒ‰æ­¤ç‰¹å¾æ’åæ–¹æ³•æœ€é‡è¦çš„
- en: all other predictor features have quite low correlations
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å…¶ä»–é¢„æµ‹ç‰¹å¾çš„ç›¸å…³æ€§éƒ½ç›¸å½“ä½
- en: This is a good moment to stop and take stock of all the results from the quantitative
    methods. We will plot them all together.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯åœä¸‹æ¥æ€»ç»“æ‰€æœ‰å®šé‡æ–¹æ³•ç»“æœçš„ä¸é”™æ—¶æœºã€‚æˆ‘ä»¬å°†ä¸€èµ·ç»˜åˆ¶å®ƒä»¬ã€‚
- en: '[PRE29]'
  id: totrans-336
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '![_images/8e1ed4eede67a45f3fd9cf848e281724927b517c683e5207ab574696b9952bde.png](../Images/9b87cdad7bc65f987a9f65bfe7febc3b.png)'
  id: totrans-337
  prefs: []
  type: TYPE_IMG
  zh: '![_images/8e1ed4eede67a45f3fd9cf848e281724927b517c683e5207ab574696b9952bde.png](../Images/9b87cdad7bc65f987a9f65bfe7febc3b.png)'
- en: I think we are converging on porosity, permeability and vitrinite reflectance
    as the most important variables with respect to linear relationships with the
    production.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘è®¤ä¸ºæˆ‘ä»¬æ­£åœ¨æ”¶æ•›äºå­”éš™ç‡ã€æ¸—é€ç‡å’Œé•œè´¨ä½“åå°„ç‡ä½œä¸ºä¸ç”Ÿäº§ç›¸å…³çš„çº¿æ€§å…³ç³»ä¸­æœ€é‡è¦çš„å˜é‡ã€‚
- en: Feature Ranking with Feature Transformations
  id: totrans-339
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¸¦æœ‰ç‰¹å¾è½¬æ¢çš„ç‰¹å¾æ’å
- en: There are many reasons to perform feature transformations (see the associated
    chapter) and as mentioned above for partial and semipartial correlation a distribution
    transformation may assist with compliance to metric assumptions.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰è®¸å¤šåŸå› éœ€è¦è¿›è¡Œç‰¹å¾è½¬æ¢ï¼ˆå‚è§ç›¸å…³ç« èŠ‚ï¼‰ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œå¯¹äºéƒ¨åˆ†å’ŒåŠéƒ¨åˆ†ç›¸å…³ï¼Œåˆ†å¸ƒè½¬æ¢å¯èƒ½æœ‰åŠ©äºç¬¦åˆåº¦é‡å‡è®¾ã€‚
- en: As an exercise and check, letâ€™s standardize all the features and repeat the
    previously calculated quantitative methods. We know this will have an impact on
    covariance, what about the other metrics?
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½œä¸ºä¸€é¡¹ç»ƒä¹ å’Œæ£€æŸ¥ï¼Œè®©æˆ‘ä»¬å°†æ‰€æœ‰ç‰¹å¾æ ‡å‡†åŒ–å¹¶é‡å¤ä¹‹å‰è®¡ç®—å‡ºçš„å®šé‡æ–¹æ³•ã€‚æˆ‘ä»¬çŸ¥é“è¿™å°†å¯¹åæ–¹å·®äº§ç”Ÿå½±å“ï¼Œé‚£ä¹ˆå…¶ä»–æŒ‡æ ‡å‘¢ï¼Ÿ
- en: 'There is a bunch of code to get this done, but it isnâ€™t too complicated. First,
    lets make a new DataFrame with all variables standardized. Then we can make a
    minor edit (change the DataFrame name) and reuse the code from above. You can
    choose between:'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸€äº›ä»£ç æ¥å®Œæˆè¿™é¡¹å·¥ä½œï¼Œä½†å¹¶ä¸å¤æ‚ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ…å«æ‰€æœ‰æ ‡å‡†åŒ–å˜é‡çš„ DataFrameã€‚ç„¶åæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€äº›å°çš„ç¼–è¾‘ï¼ˆæ›´æ”¹ DataFrame
    åç§°ï¼‰å¹¶é‡ç”¨ä¸Šé¢çš„ä»£ç ã€‚æ‚¨å¯ä»¥é€‰æ‹©ï¼š
- en: Standardization - affine correction to scale the distributions to have \(\overline{x}
    = 0\) and \(\sigma_x = 1.0\).
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ ‡å‡†åŒ– - å¯¹åˆ†å¸ƒè¿›è¡Œä»¿å°„æ ¡æ­£ä»¥ä½¿å…¶å…·æœ‰ \(\overline{x} = 0\) å’Œ \(\sigma_x = 1.0\)ã€‚
- en: Normal Score Transform - distribution transform of each feature to standard
    normal, Gaussian shape with \(\overline{x} = 0\) and \(\sigma_x = 1.0\).
  id: totrans-344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ­£æ€åˆ†æ•°è½¬æ¢ - å°†æ¯ä¸ªç‰¹å¾çš„åˆ†å¸ƒè½¬æ¢ä¸ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œå…·æœ‰ \(\overline{x} = 0\) å’Œ \(\sigma_x = 1.0\) çš„é«˜æ–¯å½¢çŠ¶ã€‚
- en: 'Use this block to perform affine correction of the features:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ­¤å—æ‰§è¡Œç‰¹å¾çš„ä»¿å°„æ ¡æ­£ï¼š
- en: '[PRE30]'
  id: totrans-346
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Use this block to perform normal score transform of the features:'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ­¤å—æ‰§è¡Œç‰¹å¾çš„æ­£å¸¸åˆ†æ•°è½¬æ¢ï¼š
- en: '[PRE31]'
  id: totrans-348
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '|  | Por | Perm | AI | Brittle | TOC | VR | Prod |'
  id: totrans-349
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Perm | AI | Brittle | TOC | VR | Prod |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-350
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| 0 | -0.964092 | -0.780664 | -0.285841 | 2.432379 | 0.312053 | 1.114651 |
    -1.780464 |'
  id: totrans-351
  prefs: []
  type: TYPE_TB
  zh: '| 0 | -0.964092 | -0.780664 | -0.285841 | 2.432379 | 0.312053 | 1.114651 |
    -1.780464 |'
- en: '| 1 | -0.832725 | -0.378580 | 0.446827 | -0.195502 | -0.272809 | -0.325239
    | -0.392079 |'
  id: totrans-352
  prefs: []
  type: TYPE_TB
  zh: '| 1 | -0.832725 | -0.378580 | 0.446827 | -0.195502 | -0.272809 | -0.325239
    | -0.392079 |'
- en: '| 2 | -0.312053 | -1.069155 | 1.722384 | 2.004654 | -0.272809 | 2.241403 |
    -0.832725 |'
  id: totrans-353
  prefs: []
  type: TYPE_TB
  zh: '| 2 | -0.312053 | -1.069155 | 1.722384 | 2.004654 | -0.272809 | 2.241403 |
    -0.832725 |'
- en: '| 3 | 0.730638 | 1.325516 | -0.531604 | -0.590284 | 0.131980 | -0.325239 |
    0.815126 |'
  id: totrans-354
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 0.730638 | 1.325516 | -0.531604 | -0.590284 | 0.131980 | -0.325239 |
    0.815126 |'
- en: '| 4 | 0.698283 | 0.298921 | 0.365149 | -2.870033 | 1.047216 | -0.259823 | -0.531604
    |'
  id: totrans-355
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 0.698283 | 0.298921 | 0.365149 | -2.870033 | 1.047216 | -0.259823 | -0.531604
    |'
- en: Regardless of the transformation that you chose it is best practice to check
    the summary statistics.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: æ— è®ºé€‰æ‹©å“ªç§è½¬æ¢ï¼Œæ£€æŸ¥æ€»ç»“ç»Ÿè®¡ä¿¡æ¯éƒ½æ˜¯æœ€ä½³å®è·µã€‚
- en: '[PRE32]'
  id: totrans-357
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '|  | Por | Perm | AI | Brittle | TOC | VR | Prod |'
  id: totrans-358
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Perm | AI | Brittle | TOC | VR | Prod |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-359
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| count | 200.000000 | 200.000000 | 2.000000e+02 | 2.000000e+02 | 200.000000
    | 200.000000 | 2.000000e+02 |'
  id: totrans-360
  prefs: []
  type: TYPE_TB
  zh: '| count | 200.000000 | 200.000000 | 2.000000e+02 | 2.000000e+02 | 200.000000
    | 200.000000 | 2.000000e+02 |'
- en: '| mean | -0.009700 | 0.010306 | 9.732356e-03 | 8.028717e-05 | 0.014152 | 0.017360
    | 1.617223e-03 |'
  id: totrans-361
  prefs: []
  type: TYPE_TB
  zh: '| mean | -0.009700 | 0.010306 | 9.732356e-03 | 8.028717e-05 | 0.014152 | 0.017360
    | 1.617223e-03 |'
- en: '| std | 1.040456 | 1.005488 | 1.000221e+00 | 1.000278e+00 | 0.989223 | 1.000401
    | 9.949811e-01 |'
  id: totrans-362
  prefs: []
  type: TYPE_TB
  zh: '| std | 1.040456 | 1.005488 | 1.000221e+00 | 1.000278e+00 | 0.989223 | 1.000401
    | 9.949811e-01 |'
- en: '| min | -4.991462 | -3.355431 | -2.782502e+00 | -2.870033e+00 | -2.336891 |
    -2.899210 | -2.483589e+00 |'
  id: totrans-363
  prefs: []
  type: TYPE_TB
  zh: '| min | -4.991462 | -3.355431 | -2.782502e+00 | -2.870033e+00 | -2.336891 |
    -2.899210 | -2.483589e+00 |'
- en: '| 25% | -0.670577 | -0.647337 | -6.588985e-01 | -6.705770e-01 | -0.670577 |
    -0.651072 | -6.705770e-01 |'
  id: totrans-364
  prefs: []
  type: TYPE_TB
  zh: '| 25% | -0.670577 | -0.647337 | -6.588985e-01 | -6.705770e-01 | -0.670577 |
    -0.651072 | -6.705770e-01 |'
- en: '| 50% | 0.006267 | 0.006267 | 8.881784e-16 | 8.881784e-16 | 0.018807 | 0.006267
    | 8.881784e-16 |'
  id: totrans-365
  prefs: []
  type: TYPE_TB
  zh: '| 50% | 0.006267 | 0.006267 | 8.881784e-16 | 8.881784e-16 | 0.018807 | 0.006267
    | 8.881784e-16 |'
- en: '| 75% | 0.670577 | 0.678574 | 6.705770e-01 | 6.705770e-01 | 0.682378 | 0.682642
    | 6.705770e-01 |'
  id: totrans-366
  prefs: []
  type: TYPE_TB
  zh: '| 75% | 0.670577 | 0.678574 | 6.705770e-01 | 6.705770e-01 | 0.682378 | 0.682642
    | 6.705770e-01 |'
- en: '| max | 2.807034 | 2.807034 | 2.807034e+00 | 2.807034e+00 | 2.807034 | 2.807034
    | 2.807034e+00 |'
  id: totrans-367
  prefs: []
  type: TYPE_TB
  zh: '| max | 2.807034 | 2.807034 | 2.807034e+00 | 2.807034e+00 | 2.807034 | 2.807034
    | 2.807034e+00 |'
- en: We should also check the matrix scatter plot again.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜åº”è¯¥å†æ¬¡æ£€æŸ¥çŸ©é˜µæ•£ç‚¹å›¾ã€‚
- en: If you performed normal score transform, you have standardized the mean and
    variance and correct the univariate shape of the distribution, but the bivariate
    relationships still depart from Gaussian.
  id: totrans-369
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è¿›è¡Œäº†æ­£æ€å¾—åˆ†è½¬æ¢ï¼Œä½ å·²ç»æ ‡å‡†åŒ–äº†å‡å€¼å’Œæ–¹å·®ï¼Œå¹¶çº æ­£äº†åˆ†å¸ƒçš„å•å˜é‡å½¢çŠ¶ï¼Œä½†åŒå˜é‡å…³ç³»ä»ç„¶åç¦»é«˜æ–¯ã€‚
- en: '[PRE33]'
  id: totrans-370
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '![_images/884680b3106f0f9bc10b64a1888d213dedcd55860acea49e6f5bd179d1604868.png](../Images/8568ba1fa581044cc577242f378dd1db.png)'
  id: totrans-371
  prefs: []
  type: TYPE_IMG
  zh: '![_images/884680b3106f0f9bc10b64a1888d213dedcd55860acea49e6f5bd179d1604868.png](../Images/8568ba1fa581044cc577242f378dd1db.png)'
- en: This is the new DataFrame with standardized variables. Now we repeat the previous
    calculations.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¸¦æœ‰æ ‡å‡†åŒ–å˜é‡çš„æ–° DataFrameã€‚ç°åœ¨æˆ‘ä»¬é‡å¤ä¹‹å‰çš„è®¡ç®—ã€‚
- en: We will be more efficient this time and use quite compact code.
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿™æ¬¡å°†æ›´åŠ é«˜æ•ˆï¼Œå¹¶ä½¿ç”¨ç›¸å½“ç´§å‡‘çš„ä»£ç ã€‚
- en: '[PRE34]'
  id: totrans-374
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: and repeat the previous summary plot.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¶é‡å¤ä¹‹å‰çš„æ±‡æ€»å›¾ã€‚
- en: '[PRE35]'
  id: totrans-376
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '![_images/e6320b5768883e13feea467d4888f04edce7671ecd0ba7a92874bc94656cd1a2.png](../Images/8eeed3569969856a648e8f7bf97ddb8b.png)'
  id: totrans-377
  prefs: []
  type: TYPE_IMG
  zh: '![_images/e6320b5768883e13feea467d4888f04edce7671ecd0ba7a92874bc94656cd1a2.png](../Images/8eeed3569969856a648e8f7bf97ddb8b.png)'
- en: 'What can you observe:'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥è§‚å¯Ÿåˆ°ä»€ä¹ˆï¼š
- en: covariance is now equal to correlation coefficient
  id: totrans-379
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åæ–¹å·®ç°åœ¨ç­‰äºç›¸å…³ç³»æ•°
- en: the semipartial correlations are sensitive to the feature standardization (affine
    correlation or normal score transform).
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åŠåç›¸å…³å¯¹ç‰¹å¾æ ‡å‡†åŒ–ï¼ˆä»¿å°„ç›¸å…³æˆ–æ­£æ€å¾—åˆ†è½¬æ¢ï¼‰æ•æ„Ÿã€‚
- en: Conditional Statistics
  id: totrans-381
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¡ä»¶ç»Ÿè®¡é‡
- en: We will separate the wells into low, mid and high production and access the
    difference in the conditional statistics.
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†æŠŠäº•åˆ†æˆä½ã€ä¸­ã€é«˜äº§é‡ï¼Œå¹¶æ£€æŸ¥æ¡ä»¶ç»Ÿè®¡é‡çš„å·®å¼‚ã€‚
- en: This will provide a more flexible method to compare the relationship between
    each feature and production
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™å°†æä¾›ä¸€ç§æ›´çµæ´»çš„æ–¹æ³•æ¥æ¯”è¾ƒæ¯ä¸ªç‰¹å¾ä¸ç”Ÿäº§ä¹‹é—´çš„å…³ç³»
- en: If the conditional statistics change significantly then that feature is informative
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœæ¡ä»¶ç»Ÿè®¡é‡å‘ç”Ÿæ˜¾è‘—å˜åŒ–ï¼Œé‚£ä¹ˆè¯¥ç‰¹å¾æ˜¯æœ‰ä¿¡æ¯çš„
- en: We are going to make a single violin plot over all of our features
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†åˆ¶ä½œä¸€ä¸ªåŒ…å«æ‰€æœ‰ç‰¹å¾çš„å•ä¸€å°æç´å›¾
- en: We need a categorical feature for production, so we truncate production to High
    or Low with this code,
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç”¨äºç”Ÿäº§çš„åˆ†ç±»ç‰¹å¾ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨æ­¤ä»£ç å°†ç”Ÿäº§æˆªæ–­ä¸ºé«˜æˆ–ä½ï¼Œ
- en: '[PRE36]'
  id: totrans-387
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: We will need to standardize all of our features so we can observe their relative
    differences together
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦æ ‡å‡†åŒ–æ‰€æœ‰ç‰¹å¾ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿå®ƒä»¬çš„ç›¸å¯¹å·®å¼‚
- en: '[PRE37]'
  id: totrans-389
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: This code extracted the features into a new DataFrame â€˜xâ€™, then applied the
    standardization operation on each column (feature)
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ­¤ä»£ç å°†ç‰¹å¾æå–åˆ°æ–°çš„ DataFrame â€˜xâ€™ ä¸­ï¼Œç„¶åå¯¹æ¯ä¸ªåˆ—ï¼ˆç‰¹å¾ï¼‰åº”ç”¨æ ‡å‡†åŒ–æ“ä½œ
- en: Then we add the truncated production feature into the standardized features
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç„¶åæˆ‘ä»¬å°†æˆªæ–­çš„ç”Ÿäº§ç‰¹å¾æ·»åŠ åˆ°æ ‡å‡†åŒ–ç‰¹å¾ä¸­
- en: '[PRE38]'
  id: totrans-392
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: We can then apply the melt command to unpivot the DataFrame
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥åº”ç”¨ melt å‘½ä»¤æ¥é€†è½¬ DataFrame
- en: '[PRE39]'
  id: totrans-394
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'We now have a long DataFrame (6 features x 200 samples = 12000 rows) with:'
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªé•¿ DataFrameï¼ˆ6 ä¸ªç‰¹å¾ x 200 ä¸ªæ ·æœ¬ = 12000 è¡Œï¼‰ï¼ŒåŒ…å«ï¼š
- en: 'production: Low or High'
  id: totrans-396
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”Ÿäº§ï¼šä½æˆ–é«˜
- en: 'features: Por, Perm, AI, Brittle, TOC or VR'
  id: totrans-397
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç‰¹å¾ï¼šPor, Perm, AI, Brittle, TOC æˆ– VR
- en: standardized feature value
  id: totrans-398
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ ‡å‡†åŒ–ç‰¹å¾å€¼
- en: We can then build our violin plot
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥æ„å»ºæˆ‘ä»¬çš„å°æç´å›¾
- en: x is our predictor features
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: x æ˜¯æˆ‘ä»¬çš„é¢„æµ‹ç‰¹å¾
- en: y is the standardized values for the predictor features (all now in one column)
  id: totrans-401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: y æ˜¯é¢„æµ‹ç‰¹å¾çš„æ ‡å‡†åŒ–å€¼ï¼ˆç°åœ¨éƒ½åœ¨ä¸€åˆ—ä¸­ï¼‰
- en: hue is the production level High or Low
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: hue æ˜¯ç”Ÿäº§æ°´å¹³é«˜æˆ–ä½
- en: split is True so the violins are split in half
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: split æ˜¯ Trueï¼Œå› æ­¤å°æç´å›¾è¢«åˆ†æˆä¸¤åŠ
- en: inner is quartiles for P25, P50 and P75 are plotted as dashed lines
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†…éƒ¨æ˜¯ P25ã€P50 å’Œ P75 çš„å››åˆ†ä½æ•°ï¼Œç”¨è™šçº¿è¡¨ç¤º
- en: '[PRE40]'
  id: totrans-405
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '![_images/39636127cd144d1449668e2c0eee3c8e122afe9891a46cc3e4610d38ff16390a.png](../Images/97e5b28483156d276669ee0ba4b67c7a.png)'
  id: totrans-406
  prefs: []
  type: TYPE_IMG
  zh: '![_images/39636127cd144d1449668e2c0eee3c8e122afe9891a46cc3e4610d38ff16390a.png](../Images/97e5b28483156d276669ee0ba4b67c7a.png)'
- en: From the violin plot we can observe that the conditional distributions of porosity,
    permeability, TOC have the most variation between low and high production wells.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å°æç´å›¾ä¸­æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å­”éš™ç‡ã€æ¸—é€ç‡å’Œæ€»æœ‰æœºç¢³ï¼ˆTOCï¼‰åœ¨ä½äº§é‡äº•å’Œé«˜äº§é‡äº•ä¹‹é—´çš„æ¡ä»¶åˆ†å¸ƒå˜åŒ–æœ€å¤§ã€‚
- en: We can replace the plot with box and whisker plots of the conditional distributions.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ç”¨æ¡ä»¶åˆ†å¸ƒçš„ç®±çº¿å›¾æ¥æ›¿æ¢è¿™ä¸ªå›¾ã€‚
- en: Box and whisker plots improve our ability to observe the conditional P25, P75
    and the upper and lower bounds from the Tukey outlier test.
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç®±çº¿å›¾å’Œé¡»å›¾æé«˜äº†æˆ‘ä»¬è§‚å¯Ÿæ¡ä»¶ P25ã€P75 ä»¥åŠ Tukey å¼‚å¸¸å€¼æµ‹è¯•ä¸Šä¸‹é™çš„èƒ½åŠ›ã€‚
- en: '[PRE41]'
  id: totrans-410
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '![_images/2121ce938f6088b2c90acec866c9ff94b488c33826983e13a20d4e1721016352.png](../Images/5cb6b0c21042f1de1888484ca5e64a81.png)'
  id: totrans-411
  prefs: []
  type: TYPE_IMG
  zh: '![_images/2121ce938f6088b2c90acec866c9ff94b488c33826983e13a20d4e1721016352.png](../Images/5cb6b0c21042f1de1888484ca5e64a81.png)'
- en: From the conditional box plot we can observe that the conditional distributions
    of porosity, permeability, TOC have the most variation between low and high production
    wells.
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æ¡ä»¶ç®±çº¿å›¾ä¸­æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å­”éš™ç‡ã€æ¸—é€ç‡å’Œæ€»æœ‰æœºç¢³ï¼ˆTOCï¼‰åœ¨ä½äº§é‡äº•å’Œé«˜äº§é‡äº•ä¹‹é—´çš„æ¡ä»¶åˆ†å¸ƒå˜åŒ–æœ€å¤§ã€‚
- en: We can observed the outliers in porosity, permeability (upper tail), total organic
    carbon (lower tail) and vitrinite reflectance.
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å­”éš™ç‡ã€æ¸—é€ç‡ï¼ˆä¸Šå°¾ï¼‰ã€æ€»æœ‰æœºç¢³ï¼ˆä¸‹å°¾ï¼‰å’Œç»ç’ƒè´¨åå°„ç‡çš„å¼‚å¸¸å€¼ã€‚
- en: Variance Inflation Factor (VIF)
  id: totrans-414
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ–¹å·®è†¨èƒ€å› å­ï¼ˆVIFï¼‰
- en: A measure of linear multicollinearity between a predictor feature (\(X_i\))
    a nd all other predictor features (\(X_j, \forall j \ne i\)).
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªè¡¡é‡é¢„æµ‹ç‰¹å¾ï¼ˆ\(X_i\)ï¼‰ä¸æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾ï¼ˆ\(X_j, \forall j \ne i\)ï¼‰ä¹‹é—´çº¿æ€§å¤šé‡å…±çº¿æ€§ç¨‹åº¦çš„æŒ‡æ ‡ã€‚
- en: First we calculate a linear regression for a predictor feature given all the
    other predictor features.
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæˆ‘ä»¬é’ˆå¯¹æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾ï¼Œå¯¹ç»™å®šé¢„æµ‹ç‰¹å¾è¿›è¡Œçº¿æ€§å›å½’è®¡ç®—ã€‚
- en: \[ X_i = \sum_{j, j \ne i}^m X_j + \epsilon \]
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: \[ X_i = \sum_{j, j \ne i}^m X_j + \epsilon \]
- en: From this model we determine the coefficient of determination, \(R^2\), known
    as variance explained.
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ç¡®å®šç¡®å®šç³»æ•° \(R^2\)ï¼Œä¹Ÿç§°ä¸ºæ–¹å·®è§£é‡Šã€‚
- en: 'Then we calculate the Variance Inflation Factor as:'
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬è®¡ç®—æ–¹å·®è†¨èƒ€å› å­ï¼ˆVIFï¼‰å¦‚ä¸‹ï¼š
- en: \[ VIF = \frac{1}{1 - R^2} \]
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: \[ VIF = \frac{1}{1 - R^2} \]
- en: '[PRE42]'
  id: totrans-421
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '![_images/eaaa1c71dedcaed7ee83a0dfce8fdfb50ad17facc2a2c38a51caf6c6481cb547.png](../Images/5692efa445f9167d3d0d5a6d8f3e8bcb.png)'
  id: totrans-422
  prefs: []
  type: TYPE_IMG
  zh: '![_images/eaaa1c71dedcaed7ee83a0dfce8fdfb50ad17facc2a2c38a51caf6c6481cb547.png](../Images/5692efa445f9167d3d0d5a6d8f3e8bcb.png)'
- en: Vitrinite reflectance has the most linear redundancy while permeability has
    the least linear redundancy with other predictor features.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: ç»ç’ƒè´¨åå°„ç‡å…·æœ‰æœ€å¤šçš„çº¿æ€§å†—ä½™ï¼Œè€Œæ¸—é€ç‡ä¸å…¶ä»–é¢„æµ‹ç‰¹å¾çš„çº¿æ€§å†—ä½™æœ€å°‘ã€‚
- en: remember, high variance inflation factor is bad
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œé«˜æ–¹å·®è†¨èƒ€å› å­æ˜¯ä¸å¥½çš„ã€‚
- en: recall that variance inflation factor does not integrate the relationship between
    each predictor feature and the response feature.
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œæ–¹å·®è†¨èƒ€å› å­ï¼ˆVIFï¼‰å¹¶ä¸æ•´åˆæ¯ä¸ªé¢„æµ‹ç‰¹å¾ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„å…³ç³»ã€‚
- en: typically, variance inflation factor is used as a screening tool to remove features
    that have too much redundancy with other predictor features.
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œæ–¹å·®è†¨èƒ€å› å­è¢«ç”¨ä½œç­›é€‰å·¥å…·ï¼Œä»¥å»é™¤ä¸å…¶ä»–é¢„æµ‹ç‰¹å¾æœ‰è¿‡å¤šå†—ä½™çš„ç‰¹å¾ã€‚
- en: Now letâ€™s cover model-based feature ranking methods.
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬æ¥ä»‹ç»åŸºäºæ¨¡å‹çš„ç‰¹å¾æ’åºæ–¹æ³•ã€‚
- en: \(B\) Coefficients / Beta Weights
  id: totrans-428
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: \(B\) ç³»æ•° / è´å¡”æƒé‡
- en: We could also consider \(B\) coefficients. These are the linear regression coefficients
    without standardization of the variables. Letâ€™s use the linear regression method
    that is available in the SciPy package.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥è€ƒè™‘ \(B\) ç³»æ•°ã€‚è¿™äº›æ˜¯ä¸å¯¹å˜é‡è¿›è¡Œæ ‡å‡†åŒ–çš„çº¿æ€§å›å½’ç³»æ•°ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ SciPy åŒ…ä¸­å¯ç”¨çš„çº¿æ€§å›å½’æ–¹æ³•ã€‚
- en: 'The estimator for \(Y\) is simply the linear equation:'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: \(Y\) çš„ä¼°è®¡å™¨ç®€å•åœ°æ˜¯çº¿æ€§æ–¹ç¨‹ï¼š
- en: \begin{equation} Y^* = \sum_{i=1}^{m} b_i X_i + c \end{equation}
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} Y^* = \sum_{i=1}^{m} b_i X_i + c \end{equation}
- en: The \(b_i\) coefficients are solved to minimize the squared error between the
    estimates, \(Y^*\) and the values in the training dataset, \(Y\).
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: \(b_i\) ç³»æ•°é€šè¿‡æœ€å°åŒ–ä¼°è®¡å€¼ \(Y^*\) ä¸è®­ç»ƒæ•°æ®é›†ä¸­å€¼ \(Y\) ä¹‹é—´çš„å¹³æ–¹è¯¯å·®æ¥æ±‚è§£ã€‚
- en: '[PRE43]'
  id: totrans-433
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '![_images/ddb18df2725eafa50c95853e6bec78f8aa249726ae339ee0d874966578afdf95.png](../Images/7da7b523b4ae881b20a379148ea78eea.png)'
  id: totrans-434
  prefs: []
  type: TYPE_IMG
  zh: '![_images/ddb18df2725eafa50c95853e6bec78f8aa249726ae339ee0d874966578afdf95.png](../Images/7da7b523b4ae881b20a379148ea78eea.png)'
- en: The output is the \(b\) coefficients, ordered over our features from \(b_i,
    i = 1,\ldots,n\) and then the intercept, \(c\), that I have removed to avoid confusion.
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºæ˜¯ \(b\) ç³»æ•°ï¼ŒæŒ‰æˆ‘ä»¬çš„ç‰¹å¾ä» \(b_i, i = 1,\ldots,n\) æ’åºï¼Œç„¶åæ˜¯æˆªè· \(c\)ï¼Œæˆ‘å·²ç»ç§»é™¤ä»¥é¿å…æ··æ·†ã€‚
- en: we see the negative contribution of AI and TOC
  id: totrans-436
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çœ‹åˆ°äº†äººå·¥æ™ºèƒ½å’ŒTOCçš„è´Ÿè´¡çŒ®
- en: the results are very sensitive to the magnitudes of the variances of the predictor
    features.
  id: totrans-437
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»“æœå¯¹é¢„æµ‹ç‰¹å¾æ–¹å·®çš„å¹…åº¦éå¸¸æ•æ„Ÿã€‚
- en: We can remove this sensitivity by working with standardized features.
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤„ç†æ ‡å‡†åŒ–ç‰¹å¾æ¥æ¶ˆé™¤è¿™ç§æ•æ„Ÿæ€§ã€‚
- en: \(\beta\) Coefficients / Beta Weights
  id: totrans-439
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: \(\beta\) ç³»æ•° / Beta Weights
- en: \(\beta\) coefficients are calculated as the linear regression of the coefficients
    after we have standardized the predictor and response features to have a variance
    of one.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: \(\beta\) ç³»æ•°æ˜¯åœ¨æˆ‘ä»¬å°†é¢„æµ‹å’Œå“åº”ç‰¹å¾æ ‡å‡†åŒ–ä¸ºæ–¹å·®ä¸º1ä¹‹åè®¡ç®—çš„çº¿æ€§å›å½’ç³»æ•°ã€‚
- en: \begin{equation} \sigma^2_{X^s_i} = 1.0 \quad \forall \quad i = 1,\ldots,m,
    \quad \sigma^2_{Y^s} = 1.0 \end{equation}
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \sigma^2_{X^s_i} = 1.0 \quad \forall \quad i = 1,\ldots,m, \quad \sigma^2_{Y^s}
    = 1.0 \]
- en: 'The estimator for \(Y^s\) standardized is simply the linear equation:'
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: \(Y^s\) æ ‡å‡†åŒ–çš„ä¼°è®¡å™¨åªæ˜¯ä¸€ä¸ªç®€å•çš„çº¿æ€§æ–¹ç¨‹ï¼š
- en: \begin{equation} Y^{s*} = \sum_{i=1}^{m} \beta_i X^s_i + c \end{equation}
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: \[ Y^{s*} = \sum_{i=1}^{m} \beta_i X^s_i + c \]
- en: It is convenient that we have just standardized all our variables to have a
    variance of 1.0 just recently (see above). Letâ€™s use the same linear regression
    method again on the standardized features to get \(\beta\) coefficients.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: å¾ˆæ–¹ä¾¿çš„æ˜¯ï¼Œæˆ‘ä»¬åˆšåˆšåˆšåˆšå°†æ‰€æœ‰å˜é‡æ ‡å‡†åŒ–ï¼Œä½¿å…¶æ–¹å·®ä¸º1.0ï¼ˆè§ä¸Šæ–‡ï¼‰ã€‚è®©æˆ‘ä»¬å†æ¬¡ä½¿ç”¨ç›¸åŒçš„çº¿æ€§å›å½’æ–¹æ³•åœ¨æ ‡å‡†åŒ–ç‰¹å¾ä¸Šå¾—åˆ° \(\beta\) ç³»æ•°ã€‚
- en: '[PRE44]'
  id: totrans-445
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '![_images/29565b4c74d530743a2aacdb6e0cda302fe0e962b6635c8cc1f909311289fcd9.png](../Images/63a59eb20ac3161240452ef8f6fcd97a.png)'
  id: totrans-446
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/63a59eb20ac3161240452ef8f6fcd97a.png)'
- en: 'Some observations:'
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€äº›è§‚å¯Ÿç»“æœï¼š
- en: the change between \(b\) and \(\beta\) coefficients is not just a constant scaling
    on the ranking metrics, because the linear model coefficients are also sensitive
    to the ranges and magnitudes of the features.
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(b\) å’Œ \(\beta\) ç³»æ•°çš„å·®å¼‚å¹¶ä¸ä»…ä»…æ˜¯æ’åæŒ‡æ ‡ä¸Šçš„å¸¸æ•°ç¼©æ”¾ï¼Œå› ä¸ºçº¿æ€§æ¨¡å‹ç³»æ•°å¯¹ç‰¹å¾çš„å–å€¼èŒƒå›´å’Œå¤§å°ä¹Ÿå¾ˆæ•æ„Ÿã€‚
- en: with beta coefficients porosity, acoustic impedance and total organic carbon
    have higher rank for estimating production
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨ä¼°è®¡ç”Ÿäº§æ—¶ï¼Œ\(\beta\) ç³»æ•°ã€å­”éš™ç‡ã€å£°é˜»æŠ—å’Œæ€»æœ‰æœºç¢³å…·æœ‰æ›´é«˜çš„æ’å
- en: Feature Importance
  id: totrans-450
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾é‡è¦æ€§
- en: 'A variety of machine learning methods provide measures of feature importance,
    for example decision trees the reduction in mean square error through inclusion
    of each feature and is summarized as:'
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸åŒçš„æœºå™¨å­¦ä¹ æ–¹æ³•æä¾›äº†ç‰¹å¾é‡è¦æ€§çš„åº¦é‡ï¼Œä¾‹å¦‚å†³ç­–æ ‘é€šè¿‡åŒ…å«æ¯ä¸ªç‰¹å¾æ¥å‡å°‘å‡æ–¹è¯¯å·®ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š
- en: \[ FI(x) = \sum_{t \in T_f} \frac{N_t}{N} \Delta_{MSE_t} \]
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: \[ FI(x) = \sum_{t \in T_f} \frac{N_t}{N} \Delta_{MSE_t} \]
- en: where \(T_f\) are all nodes with feature \(x\) as the split, \(N_t\) is the
    number of training samples reaching node \(t\), \(N\) is the total number of samples
    in the dataset and \(\Delta_{MSE_t}\) is the reduction in MSE with the \(t\) split.
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ \(T_f\) æ˜¯æ‰€æœ‰ä»¥ç‰¹å¾ \(x\) ä½œä¸ºåˆ†å‰²çš„èŠ‚ç‚¹ï¼Œ\(N_t\) æ˜¯è¾¾åˆ°èŠ‚ç‚¹ \(t\) çš„è®­ç»ƒæ ·æœ¬æ•°é‡ï¼Œ\(N\) æ˜¯æ•°æ®é›†ä¸­æ ·æœ¬çš„æ€»æ•°ï¼Œ\(\Delta_{MSE_t}\)
    æ˜¯ \(t\) åˆ†å‰²å¸¦æ¥çš„MSEå‡å°‘ã€‚
- en: Note, feature importance can be calculated in a similar manner to MSE above
    for the case of classification trees with **Gini Impurity**.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œç‰¹å¾é‡è¦æ€§å¯ä»¥åƒä¸Šé¢çš„MSEä¸€æ ·ï¼Œä»¥ç±»ä¼¼çš„æ–¹å¼è®¡ç®—åˆ†ç±»æ ‘ä¸­çš„ **Gini ä¸çº¯åº¦** çš„æƒ…å†µã€‚
- en: Letâ€™s look at the feature importance from a random forest regression model fit
    to our data.
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹æ‹Ÿåˆåˆ°æˆ‘ä»¬æ•°æ®çš„éšæœºæ£®æ—å›å½’æ¨¡å‹çš„ç‰¹å¾é‡è¦æ€§ã€‚
- en: We instantiate a random forest with default hyperparameters. This results in
    unlimited complexity, over-trained trees in our forest. The averaging of these
    trees takes care of the overfit issue.
  id: totrans-456
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨é»˜è®¤è¶…å‚æ•°å®ä¾‹åŒ–ä¸€ä¸ªéšæœºæ£®æ—ã€‚è¿™å¯¼è‡´æˆ‘ä»¬çš„æ£®æ—ä¸­æ— é™å¤æ‚ï¼Œè¿‡æ‹Ÿåˆçš„æ ‘ã€‚è¿™äº›æ ‘çš„å¹³å‡å¤„ç†äº†è¿‡æ‹Ÿåˆé—®é¢˜ã€‚
- en: Then we train our random forest and extract the feature importances, calculated
    as the expectated feature importance over all the trees in the forest.
  id: totrans-457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬è®­ç»ƒæˆ‘ä»¬çš„éšæœºæ£®æ—å¹¶æå–ç‰¹å¾é‡è¦æ€§ï¼Œè®¡ç®—ä¸ºæ£®æ—ä¸­æ‰€æœ‰æ ‘ä¸Šçš„é¢„æœŸç‰¹å¾é‡è¦æ€§ã€‚
- en: we can also extract the feature importances over all the trees in the forest
    and summarize with the standard deviation to access the robustness, uncertainty
    of our feature importance measure
  id: totrans-458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥ä»æ£®æ—ä¸­çš„æ‰€æœ‰æ ‘ä¸­æå–ç‰¹å¾é‡è¦æ€§ï¼Œå¹¶ä½¿ç”¨æ ‡å‡†å·®æ¥æ€»ç»“ï¼Œä»¥è¯„ä¼°æˆ‘ä»¬ç‰¹å¾é‡è¦æ€§åº¦é‡çš„é²æ£’æ€§å’Œä¸ç¡®å®šæ€§ã€‚
- en: For more information check out my lecture on [random forest](https://www.youtube.com/watch?v=m5_wk310fho&list=PLG19vXLQHvSC2ZKFIkgVpI9fCjkN38kwf&index=39)
    predictive machine learning.
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: æƒ³äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹æˆ‘å…³äº[éšæœºæ£®æ—](https://www.youtube.com/watch?v=m5_wk310fho&list=PLG19vXLQHvSC2ZKFIkgVpI9fCjkN38kwf&index=39)é¢„æµ‹æœºå™¨å­¦ä¹ çš„è®²åº§ã€‚
- en: '[PRE45]'
  id: totrans-460
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '![_images/633da2b9b4e395da57c78aa4f82399344b016071733ef9fb8569d30c70d92604.png](../Images/4221de8488fdf2ce8f7716c22e1ea9d8.png)'
  id: totrans-461
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/4221de8488fdf2ce8f7716c22e1ea9d8.png)'
- en: There is more we can do with model-based methods. We will actually test models
    to assess the incremental impact of each predictor feature! We will try this with
    recursive feature elimination.
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨åŸºäºæ¨¡å‹çš„æ–¹æ³•åšæ›´å¤šçš„äº‹æƒ…ã€‚æˆ‘ä»¬å°†å®é™…æµ‹è¯•æ¨¡å‹ä»¥è¯„ä¼°æ¯ä¸ªé¢„æµ‹ç‰¹å¾å¢é‡å½±å“ï¼æˆ‘ä»¬å°†å°è¯•ä½¿ç”¨é€’å½’ç‰¹å¾æ¶ˆé™¤æ³•æ¥åšè¿™ä¸ªå®éªŒã€‚
- en: Letâ€™s plot the results from the \(B\) and \(\beta\) coefficients and compare
    with the previous results.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç»˜åˆ¶\(B\)å’Œ\(\beta\)ç³»æ•°çš„ç»“æœï¼Œå¹¶ä¸ä¹‹å‰çš„ç»“æœè¿›è¡Œæ¯”è¾ƒã€‚
- en: '[PRE46]'
  id: totrans-464
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '![_images/28592d6d0a57887d32a07cc893157689a5862f636dd4b208cc9b42b3dc9dd964.png](../Images/9b736db6a7b146115943a1775ce2cc0d.png)'
  id: totrans-465
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/9b736db6a7b146115943a1775ce2cc0d.png)'
- en: Mutual Information
  id: totrans-466
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: äº’ä¿¡æ¯
- en: Mutual information is a generalized approach that quantifies the mutual dependence
    between two features.
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: äº’ä¿¡æ¯æ˜¯ä¸€ç§æ³›åŒ–æ–¹æ³•ï¼Œé‡åŒ–äº†ä¸¤ä¸ªç‰¹å¾ä¹‹é—´çš„ç›¸äº’ä¾èµ–æ€§ã€‚
- en: quantifies the amount of information gained from observing one feature about
    the other
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é‡åŒ–äº†ä»è§‚å¯Ÿä¸€ä¸ªç‰¹å¾ä¸­è·å–å…³äºå¦ä¸€ä¸ªç‰¹å¾çš„ä¿¡æ¯é‡
- en: avoids any assumption about the form of the relationship (e.g. no assumption
    of linear relationship)
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¿å…äº†å¯¹å…³ç³»å½¢å¼çš„ä»»ä½•å‡è®¾ï¼ˆä¾‹å¦‚ï¼Œæ²¡æœ‰çº¿æ€§å…³ç³»çš„å‡è®¾ï¼‰
- en: compares the joint probabilities to the product of the marginal probabilities
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†è”åˆæ¦‚ç‡ä¸è¾¹ç¼˜æ¦‚ç‡çš„ä¹˜ç§¯è¿›è¡Œæ¯”è¾ƒ
- en: 'For discrete or binned continuous features \(X\) and \(Y\), mutual information
    is calculated as:'
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç¦»æ•£æˆ–åˆ†ç®±çš„è¿ç»­ç‰¹å¾\(X\)å’Œ\(Y\)ï¼Œäº’ä¿¡æ¯è®¡ç®—å¦‚ä¸‹ï¼š
- en: \[ I(X;Y) = \sum_{y \in Y} \sum_{x \in X}P_{X,Y}(x,y) log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) \]
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: \[ I(X;Y) = \sum_{y \in Y} \sum_{x \in X}P_{X,Y}(x,y) log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) \]
- en: 'recall, given independence between \(X\) and \(Y\):'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: å›å¿†ï¼Œç»™å®š\(X\)å’Œ\(Y\)ä¹‹é—´çš„ç‹¬ç«‹æ€§ï¼š
- en: \[ P_{X,Y}(x,y) = P_X(x) \cdot P_Y(y) \]
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: \[ P_{X,Y}(x,y) = P_X(x) \cdot P_Y(y) \]
- en: therefore if the two features are independent then the \(log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) = 0\)
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå¦‚æœä¸¤ä¸ªç‰¹å¾æ˜¯ç‹¬ç«‹çš„ï¼Œé‚£ä¹ˆ\(log \left( \frac{P_{X,Y}(x,y)}{P_X(x) \cdot P_Y(y)} \right)
    = 0\)
- en: The joint probability \(P_{X,Y}(x,y)\) is a weighting term on the sum and enforces
    closure.
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: è”åˆæ¦‚ç‡\(P_{X,Y}(x,y)\)æ˜¯æ€»å’Œçš„åŠ æƒé¡¹ï¼Œå¹¶å¼ºåˆ¶å°é—­ã€‚
- en: parts of the joint distribution with greater density have greater impact on
    the mutual information metric
  id: totrans-477
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è”åˆåˆ†å¸ƒä¸­å¯†åº¦æ›´å¤§çš„éƒ¨åˆ†å¯¹äº’ä¿¡æ¯åº¦é‡æœ‰æ›´å¤§çš„å½±å“
- en: For continuous (and nonbinned) features we can applied the integral form.
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿ç»­ï¼ˆä¸”æœªåˆ†ç®±ï¼‰çš„ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨ç§¯åˆ†å½¢å¼ã€‚
- en: \[ I(X;Y) = \int_{Y} \int_{X}P_{X,Y}(x,y) log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) dx dy \]
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: \[ I(X;Y) = \int_{Y} \int_{X}P_{X,Y}(x,y) log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) dx dy \]
- en: We get a sorted list of the indices in decreasing order of importance with the
    command
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤è·å–æŒ‰é‡è¦æ€§é™åºæ’åˆ—çš„ç´¢å¼•åˆ—è¡¨
- en: '[PRE47]'
  id: totrans-481
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: the slice reverses the order, for descending order of feature importance.
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ‡ç‰‡ä¼šåè½¬é¡ºåºï¼Œä»¥ç‰¹å¾é‡è¦æ€§çš„é™åºæ’åˆ—ã€‚
- en: '[PRE48]'
  id: totrans-483
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '[PRE49]'
  id: totrans-484
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: '![_images/704e3c6fd50614dcf67edb8dd01d1392f4509c1017dae51fcd1a26281de97377.png](../Images/d12dd6dd61aa76402a54c096acd0768b.png)'
  id: totrans-485
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/d12dd6dd61aa76402a54c096acd0768b.png)'
- en: Mutual Information Accounting For Relevance and Redundancy
  id: totrans-486
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è€ƒè™‘åˆ°ç›¸å…³æ€§å’Œå†—ä½™çš„äº’ä¿¡æ¯
- en: The standard Maximum Relevance - Minumum Redundancy (MRMR) objective function
    considers a subset of predictor features, i.e., to score predictor feature subsets
    as metric to identify the most informative subset of predictor features.
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‡å‡†çš„æœ€å¤§ç›¸å…³æ€§-æœ€å°å†—ä½™ï¼ˆMRMRï¼‰ç›®æ ‡å‡½æ•°è€ƒè™‘é¢„æµ‹ç‰¹å¾çš„ä¸€ä¸ªå­é›†ï¼Œå³ï¼Œå°†é¢„æµ‹ç‰¹å¾å­é›†ä½œä¸ºåº¦é‡æ ‡å‡†ï¼Œä»¥è¯†åˆ«æœ€å…·æœ‰ä¿¡æ¯é‡çš„é¢„æµ‹ç‰¹å¾å­é›†ã€‚
- en: the approach calculates the average mutual information between the subset of
    predictor features and the response feature minus the average mutual information
    between the subset of predictor features.
  id: totrans-488
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¯¥æ–¹æ³•è®¡ç®—é¢„æµ‹ç‰¹å¾å­é›†ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„å¹³å‡äº’ä¿¡æ¯å‡å»é¢„æµ‹ç‰¹å¾å­é›†ä¹‹é—´çš„å¹³å‡äº’ä¿¡æ¯ã€‚
- en: \begin{equation} MID = \frac{1}{|S|}{\sum_{\alpha \in S} I(X_{\alpha},Y) } -
    \frac{1}{|S|^2} {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})}
    \end{equation}
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
  zh: \[ MID = \frac{1}{|S|}{\sum_{\alpha \in S} I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})} \]
- en: as a measure of \(relevance - redundancy\) or
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸º\(ç›¸å…³æ€§ - å†—ä½™\)çš„åº¦é‡æˆ–
- en: \begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha \in S}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: \(\begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha \in S}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}\)
- en: as a measure of \(\frac{relevance}{redundancy}\).
  id: totrans-492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½œä¸º\(\frac{ç›¸å…³æ€§}{å†—ä½™}\)çš„åº¦é‡ã€‚
- en: Mutual Information Accounting For Relevance and Redundancy OFAT Variants
  id: totrans-493
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç›¸å…³æ€§å’Œå†—ä½™çš„äº’ä¿¡æ¯OFATå˜ä½“
- en: 'I propose that for one-feature-at-a-time (OFAT) predictor feature ranking (predictor
    feature subset, \(S = [X_i]\) and \(|S| = 1\)) we modify this to the following
    calculation:'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å»ºè®®å¯¹äºä¸€æ¬¡ä¸€ä¸ªç‰¹å¾ï¼ˆOFATï¼‰é¢„æµ‹ç‰¹å¾æ’åºï¼ˆé¢„æµ‹ç‰¹å¾å­é›†ï¼Œ\(S = [X_i]\) å’Œ \(|S| = 1\)ï¼‰ï¼Œæˆ‘ä»¬å°†æ­¤ä¿®æ”¹ä¸ºä»¥ä¸‹è®¡ç®—ï¼š
- en: '**relevance** - the mutual information between the selected predictor feature,
    \(X_i\), and the response feature, \(Y\)'
  id: totrans-495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç›¸å…³æ€§** - é€‰å®šçš„é¢„æµ‹ç‰¹å¾ \(X_i\) ä¸å“åº”ç‰¹å¾ \(Y\) ä¹‹é—´çš„äº’ä¿¡æ¯'
- en: '**redundancy** - the average mutual information between the selected predictor
    feature, \(X_i\), and the remaining predictor features, \(X_{\alpha}, \alpha \ne
    i\).'
  id: totrans-496
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å†—ä½™** - é€‰å®šçš„é¢„æµ‹ç‰¹å¾ \(X_i\) ä¸å‰©ä½™é¢„æµ‹ç‰¹å¾ \(X_{\alpha}, \alpha \ne i\) ä¹‹é—´çš„å¹³å‡äº’ä¿¡æ¯ã€‚'
- en: we use the quotient form of the calculation from Gulgezen, Cataltepe and Yu
    (2009).
  id: totrans-497
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ Gulgezen, Cataltepe å’Œ Yu (2009) çš„è®¡ç®—å…¬å¼çš„å•†å½¢å¼ã€‚
- en: 'Our modified version of the Maximum Relevance - Minumum Redundancy (MRMR) objective
    function for OFAT ranking scores the selected predictor feature \(X_i\)â€™s **relevance**
    as its mutual information with the response feature:'
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯¹æœ€å¤§ç›¸å…³æ€§-æœ€å°å†—ä½™ï¼ˆMRMRï¼‰ç›®æ ‡å‡½æ•°è¿›è¡Œäº†ä¿®æ”¹ï¼Œç”¨äºOFATæ’åºåˆ†æ•°ï¼Œå°†é€‰å®šçš„é¢„æµ‹ç‰¹å¾ \(X_i\) çš„**ç›¸å…³æ€§**ä½œä¸ºå…¶ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„äº’ä¿¡æ¯ï¼š
- en: \begin{equation} I(X_i,Y) \end{equation}
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: \(\begin{equation} I(X_i,Y) \end{equation}\)
- en: 'and **redundancy** between the selected predictor feature, \(X_i\), and the
    remaining predictor features:'
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŠé€‰å®šçš„é¢„æµ‹ç‰¹å¾ \(X_i\) ä¸å‰©ä½™é¢„æµ‹ç‰¹å¾ä¹‹é—´çš„**å†—ä½™**ï¼š
- en: \begin{equation} \frac{1}{|S|-1} \sum_{\alpha=1, \alpha \ne i}^m I(X_i,X_{\alpha})
    \end{equation}
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: \(\begin{equation} \frac{1}{|S|-1} \sum_{\alpha=1, \alpha \ne i}^m I(X_i,X_{\alpha})
    \end{equation}\)
- en: were \(X\) are predictor features, \(Y\) is the response feature, \(X_i\) is
    the specific predictor feature being scored and \(|S|\) is the number of predictor
    features and \(I()\) is mutual information between the indicated features. One
    formulation is a simple difference, relevance minus redundancy,
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ \(X\) æ˜¯é¢„æµ‹ç‰¹å¾ï¼Œ\(Y\) æ˜¯å“åº”ç‰¹å¾ï¼Œ\(X_i\) æ˜¯è¢«è¯„åˆ†çš„å…·ä½“é¢„æµ‹ç‰¹å¾ï¼Œ\(|S|\) æ˜¯é¢„æµ‹ç‰¹å¾çš„æ•°é‡ï¼Œ\(I()\) æ˜¯ç‰¹å¾ä¹‹é—´çš„äº’ä¿¡æ¯ã€‚ä¸€ç§å½¢å¼æ˜¯ç®€å•çš„å·®å€¼ï¼Œç›¸å…³æ€§å‡å»å†—ä½™ï¼Œ
- en: \[ \Phi_{\Delta}(X_i,Y) = I(X_{\alpha},Y) - \frac{1}{|S|-1} \sum_{\beta=1, \alpha
    \ne \beta}^m I( X_{\alpha},X_{\beta} ) \]
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \Phi_{\Delta}(X_i,Y) = I(X_{\alpha},Y) - \frac{1}{|S|-1} \sum_{\beta=1, \alpha
    \ne \beta}^m I( X_{\alpha},X_{\beta} ) \]
- en: an alternative is a ratio,
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ä¸ªé€‰æ‹©æ˜¯æ¯”ç‡ï¼Œ
- en: \[ \Phi_{r}(X_i,Y) = \frac{ I(X_i,Y) }{ \frac{1}{|S|-1} \sum_{\alpha=1, \alpha
    \ne i}^m I(X_i,X_{\alpha})} \]
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \Phi_{r}(X_i,Y) = \frac{ I(X_i,Y) }{ \frac{1}{|S|-1} \sum_{\alpha=1, \alpha
    \ne i}^m I(X_i,X_{\alpha})} \]
- en: Here the feature ranks for the mutual information relevance minus redundancy,
    \(\Phi_{\Delta}(X_i,Y)\), approach.
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œç‰¹å¾æ’åä¸ºäº’ä¿¡æ¯ç›¸å…³æ€§å‡å»å†—ä½™ï¼Œ\(\Phi_{\Delta}(X_i,Y)\)æ–¹æ³•ã€‚
- en: '[PRE50]'
  id: totrans-507
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: '![_images/c0b176e4990bdb326b638222358d06af771613f6ae47153d42a7e2614c7d3c28.png](../Images/ce31fdb26712840a6f374091a92555c3.png)'
  id: totrans-508
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/ce31fdb26712840a6f374091a92555c3.png)'
- en: Delta Mutual Information Quotient Accounting for Relevance and Redundancy
  id: totrans-509
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç›¸å…³æ€§å’Œå†—ä½™çš„Deltaäº’ä¿¡æ¯å•†
- en: We use adapt the mutual information quotient from Gulgezen, Cataltepe and Yu
    (2009) to develop an OFAT ranking metric.
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°† Gulgezen, Cataltepe å’Œ Yu (2009) çš„äº’ä¿¡æ¯å•†åº”ç”¨äºå¼€å‘ä¸€ä¸ªOFATæ’åºåº¦é‡ã€‚
- en: 'The standard MRMR objective function that scores the subset of featuresâ€™ **relevance**
    between the subset of predictor features and the response feature:'
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‡å‡†çš„MRMRç›®æ ‡å‡½æ•°ï¼Œç”¨äºè¯„ä¼°é¢„æµ‹ç‰¹å¾å­é›†ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„**ç›¸å…³æ€§**ï¼š
- en: \begin{equation} \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } \end{equation}
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: \(\begin{equation} \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } \end{equation}\)
- en: 'and **redundancy** between the subset of predictor features:'
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŠé¢„æµ‹ç‰¹å¾å­é›†ä¹‹é—´çš„**å†—ä½™**ï¼š
- en: \begin{equation} \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    \end{equation}
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: \(\begin{equation} \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    \end{equation}\)
- en: To find the most informative subset of predictor features we must find the subset
    of features that maximize relevance while minimizing redundancy. We can accomplish
    this by maximizing either of these two formulations,
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ‰¾åˆ°æœ€æœ‰ä¿¡æ¯çš„é¢„æµ‹ç‰¹å¾å­é›†ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°æœ€å¤§åŒ–ç›¸å…³æ€§åŒæ—¶æœ€å°åŒ–å†—ä½™çš„ç‰¹å¾å­é›†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€å¤§åŒ–è¿™ä¸¤ä¸ªå…¬å¼ä¸­çš„ä»»ä½•ä¸€ä¸ªæ¥å®ç°è¿™ä¸€ç‚¹ï¼Œ
- en: \begin{equation} MID = \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} \end{equation}
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} MID = \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} \end{equation}
- en: or
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…
- en: \begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
- en: I suggest feature ranking through the calculation of the change in \(MIQ\) via
    inclusion and removal of a specific predictor feature (\(X_i\)).
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å»ºè®®é€šè¿‡è®¡ç®—åŒ…å«å’Œç§»é™¤ç‰¹å®šé¢„æµ‹ç‰¹å¾ï¼ˆ\(X_i\)ï¼‰çš„\(MIQ\)å˜åŒ–æ¥è¿›è¡Œç‰¹å¾æ’åºã€‚
- en: \begin{equation} \Delta MIQ_i = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } - \frac{ \frac{1}{|S|}{\sum_{\alpha=1,\alpha \ne i}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha=1,\alpha \ne i}^m \sum_{\beta=1,\beta \ne i}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} \Delta MIQ_i = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } - \frac{ \frac{1}{|S|}{\sum_{\alpha=1,\alpha \ne i}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha=1,\alpha \ne i}^m \sum_{\beta=1,\beta \ne i}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
- en: '[PRE51]'
  id: totrans-521
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: '![_images/03d7d53a3d4abf4c562eeb53cbb1d74427a39a38a569d1e60c953a3ce9fe55a8.png](../Images/21f9cee66dbe4d7f6bc8cac154c1ad85.png)'
  id: totrans-522
  prefs: []
  type: TYPE_IMG
  zh: '![_images/03d7d53a3d4abf4c562eeb53cbb1d74427a39a38a569d1e60c953a3ce9fe55a8.png](../Images/21f9cee66dbe4d7f6bc8cac154c1ad85.png)'
- en: It is intructive to compare delta mutual information and variance inflation
    factor ranking. Both of these methods account for predictor feature redundancy.
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”è¾ƒå¢é‡äº’ä¿¡æ¯å’Œæ–¹å·®è†¨èƒ€å› å­æ’åºæ˜¯æœ‰æ•™è‚²æ„ä¹‰çš„ã€‚è¿™ä¸¤ç§æ–¹æ³•éƒ½è€ƒè™‘äº†é¢„æµ‹ç‰¹å¾å†—ä½™ã€‚
- en: but VIF assumes linearity and does not account for relevance
  id: totrans-524
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½†VIFå‡è®¾çº¿æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸è€ƒè™‘ç›¸å…³æ€§
- en: '[PRE52]'
  id: totrans-525
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: '![_images/753de82205baf137ac8f92671732ef8708fc686e982b161ca2b05ba1095ee90e.png](../Images/3028e58a56f928ebb26de84cfb6e1f54.png)'
  id: totrans-526
  prefs: []
  type: TYPE_IMG
  zh: '![_images/753de82205baf137ac8f92671732ef8708fc686e982b161ca2b05ba1095ee90e.png](../Images/3028e58a56f928ebb26de84cfb6e1f54.png)'
- en: From mutual information we can observe that porosity, permeability then total
    organic carbon and brittleness have the greatest departure from general independence.
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: ä»äº’ä¿¡æ¯ä¸­æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œå­”éš™ç‡ã€æ¸—é€ç‡ç„¶åæ˜¯æ€»æœ‰æœºç¢³å’Œè„†æ€§åœ¨ä¸€èˆ¬ç‹¬ç«‹æ€§æ–¹é¢æœ‰æœ€å¤§çš„åç¦»ã€‚
- en: Summary of All Bivariate Metrics
  id: totrans-528
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‰€æœ‰åŒå˜é‡æŒ‡æ ‡çš„æ€»ç»“
- en: We have a wide array of criteria to rank our features.
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æœ‰ä¸€ç³»åˆ—å¹¿æ³›çš„å‡†åˆ™æ¥å¯¹ç‰¹å¾è¿›è¡Œæ’åºã€‚
- en: the \(B\) coefficient have the same issue as covariance, sensitivity to the
    univariate variance
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(B\)ç³»æ•°ä¸åæ–¹å·®æœ‰ç›¸åŒçš„é—®é¢˜ï¼Œå¯¹å•å˜é‡æ–¹å·®æ•æ„Ÿ
- en: the \(\beta\) coefficients remove this sensitivity and are consistent with previous
    results.
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(\beta\)ç³»æ•°æ¶ˆé™¤äº†è¿™ç§æ•æ„Ÿæ€§ï¼Œå¹¶ä¸å…ˆå‰ç»“æœä¸€è‡´ã€‚
- en: 'Given all of these methods, I would rank the variables as:'
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘åˆ°æ‰€æœ‰è¿™äº›æ–¹æ³•ï¼Œæˆ‘å°†å˜é‡æ’åºå¦‚ä¸‹ï¼š
- en: Porosity
  id: totrans-533
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡
- en: Vitrinite Reflectance
  id: totrans-534
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç»ç’ƒå…‰æ³½åå°„ç‡
- en: Acoustic Impedance
  id: totrans-535
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å£°é˜»æŠ—
- en: Permeability
  id: totrans-536
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¸—é€ç‡
- en: Total Organic Carbon
  id: totrans-537
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ€»æœ‰æœºç¢³
- en: Brittleness
  id: totrans-538
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è„†æ€§
- en: I have assigned these ranks by observing the general trend in these metrics.
    Of course, we could make a more quantitative score and rank by weighting each
    method.
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘é€šè¿‡è§‚å¯Ÿè¿™äº›æŒ‡æ ‡çš„ä¸€èˆ¬è¶‹åŠ¿æ¥åˆ†é…è¿™äº›ç­‰çº§ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ æƒæ¯ç§æ–¹æ³•æ¥åˆ¶ä½œä¸€ä¸ªæ›´å®šé‡çš„åˆ†æ•°å¹¶æ’åºã€‚
- en: As mentioned before, we should not neglect expert knowledge. If additional information
    is known about physical processes, causation, and reliability and availability
    of variables this should be integrated into assigning ranks.
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬ä¸åº”å¿½è§†ä¸“å®¶çŸ¥è¯†ã€‚å¦‚æœå…³äºç‰©ç†è¿‡ç¨‹ã€å› æœå…³ç³»ä»¥åŠå˜é‡çš„å¯é æ€§å’Œå¯ç”¨æ€§æœ‰æ›´å¤šä¿¡æ¯ï¼Œåˆ™åº”å°†è¿™äº›ä¿¡æ¯æ•´åˆåˆ°åˆ†é…ç­‰çº§ä¸­ã€‚
- en: We include a bonus method here, recursive feature elimination, but only provide
    a simple linear regression model example. More could be done with more complicated
    models.
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åœ¨è¿™é‡ŒåŒ…æ‹¬ä¸€ä¸ªé™„åŠ æ–¹æ³•ï¼Œé€’å½’ç‰¹å¾æ¶ˆé™¤ï¼Œä½†åªæä¾›äº†ä¸€ä¸ªç®€å•çš„çº¿æ€§å›å½’æ¨¡å‹ç¤ºä¾‹ã€‚å¯¹äºæ›´å¤æ‚çš„æ¨¡å‹ï¼Œå¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ã€‚
- en: Recursive Feature Elimination
  id: totrans-542
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é€’å½’ç‰¹å¾æ¶ˆé™¤
- en: Recursive Feature Elimination (RFE) method works by recursively removing features
    and building a model with the remaining features.
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: é€’å½’ç‰¹å¾æ¶ˆé™¤ï¼ˆRFEï¼‰æ–¹æ³•é€šè¿‡é€’å½’åœ°ç§»é™¤ç‰¹å¾å¹¶ä½¿ç”¨å‰©ä½™ç‰¹å¾æ„å»ºæ¨¡å‹æ¥å·¥ä½œã€‚
- en: for the first step, all features are used to build a model and the features
    are ranked by feature importance or the \(\beta\) coefficient
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨ç¬¬ä¸€æ­¥ä¸­ï¼Œä½¿ç”¨æ‰€æœ‰ç‰¹å¾æ„å»ºæ¨¡å‹ï¼Œå¹¶æ ¹æ®ç‰¹å¾é‡è¦æ€§æˆ–\(\beta\)ç³»æ•°å¯¹ç‰¹å¾è¿›è¡Œæ’åº
- en: the least important feature is pruned and the model is rebuilt
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€ä¸é‡è¦çš„ç‰¹å¾è¢«å‰ªæï¼Œå¹¶é‡æ–°æ„å»ºæ¨¡å‹
- en: this is repeated until there is only one feature remaining
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™ä¼šä¸€ç›´é‡å¤ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªç‰¹å¾
- en: In this code we make a prediction model based on multilinear regression and
    indicate that we want to find the best feature based on recursive feature elimination.
    The algorithm assigns rank \(1,\ldots,m\) for all features.
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ­¤ä»£ç ä¸­ï¼Œæˆ‘ä»¬åŸºäºå¤šå…ƒå›å½’æ„å»ºé¢„æµ‹æ¨¡å‹ï¼Œå¹¶æŒ‡å‡ºæˆ‘ä»¬æƒ³è¦æ ¹æ®é€’å½’ç‰¹å¾æ¶ˆé™¤æ‰¾åˆ°æœ€ä½³ç‰¹å¾ã€‚ç®—æ³•ä¸ºæ‰€æœ‰ç‰¹å¾åˆ†é…æ’å \(1,\ldots,m\)ã€‚
- en: '[PRE53]'
  id: totrans-548
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: '[PRE54]'
  id: totrans-549
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'The advantages with the recursive elimination method:'
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: é€’å½’æ¶ˆé™¤æ–¹æ³•çš„ä¼˜ç‚¹ï¼š
- en: the actual model can be used in assessing feature ranks
  id: totrans-551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®é™…æ¨¡å‹å¯ç”¨äºè¯„ä¼°ç‰¹å¾æ’å
- en: the ranking is based on accuracy of the estimate
  id: totrans-552
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ’ååŸºäºä¼°è®¡çš„å‡†ç¡®æ€§
- en: 'but this method is sensitive to:'
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†è¿™ç§æ–¹æ³•å¯¹ä»¥ä¸‹å› ç´ æ•æ„Ÿï¼š
- en: choice of model
  id: totrans-554
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¨¡å‹çš„é€‰æ‹©
- en: training dataset
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®­ç»ƒæ•°æ®é›†
- en: The feature ranks are quite different from our previous methods. Many have moved
    from the previous assessment. Perhaps we should use a more flexible modeling method.
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åä¸æˆ‘ä»¬ä¹‹å‰çš„æ–¹æ³•ç›¸å½“ä¸åŒã€‚è®¸å¤šå·²ç»ä»ä¹‹å‰çš„è¯„ä¼°ä¸­ç§»åŠ¨ã€‚ä¹Ÿè®¸æˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ›´çµæ´»çš„å»ºæ¨¡æ–¹æ³•ã€‚
- en: Letâ€™s repeat this method with a more flexible machine learning method, a decision
    tree regression model.
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨ä¸€ç§æ›´çµæ´»çš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œå³å†³ç­–æ ‘å›å½’æ¨¡å‹ï¼Œé‡å¤è¿™ç§æ–¹æ³•ã€‚
- en: '[PRE55]'
  id: totrans-558
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: '[PRE56]'
  id: totrans-559
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: Once again, recursive feature elimination for feature ranking is sensitive to
    the accuracy of the model.
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡å¼ºè°ƒï¼Œé€’å½’ç‰¹å¾æ¶ˆé™¤åœ¨ç‰¹å¾æ’åä¸­å¯¹æ¨¡å‹çš„å‡†ç¡®æ€§æ•æ„Ÿã€‚
- en: the actual prediction model must have its associated hyperparameters tuned and
    the model accuracy checked.
  id: totrans-561
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®é™…çš„é¢„æµ‹æ¨¡å‹å¿…é¡»è°ƒæ•´å…¶å…³è”çš„è¶…å‚æ•°å¹¶æ£€æŸ¥æ¨¡å‹ç²¾åº¦ã€‚
- en: for example, in this case the multilinear regression feature ranks are unreliable
    due to the poor accuracy of the linear model.
  id: totrans-562
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºçº¿æ€§æ¨¡å‹çš„å‡†ç¡®æ€§å·®ï¼Œå¤šå…ƒå›å½’çš„ç‰¹å¾æ’åä¸å¯é ã€‚
- en: Shapley Values for Feature Ranking
  id: totrans-563
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åçš„Shapleyå€¼
- en: Letâ€™s take a random subset of the data, as background values to evaluate our
    model.
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å–æ•°æ®çš„ä¸€ä¸ªéšæœºå­é›†ï¼Œä½œä¸ºèƒŒæ™¯å€¼æ¥è¯„ä¼°æˆ‘ä»¬çš„æ¨¡å‹ã€‚
- en: we subset for faster calculation
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¸ºäº†æ›´å¿«åœ°è®¡ç®—è€Œè¿›è¡Œå­é›†åˆ’åˆ†
- en: we should evaluate / enforce efficient coverage of the predictor feature space
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åº”è¯¥è¯„ä¼°/å¼ºåˆ¶é¢„æµ‹ç‰¹å¾ç©ºé—´çš„æ•ˆç‡è¦†ç›–
- en: Since Shapley values are model based, we must start with building a model
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºShapleyå€¼æ˜¯åŸºäºæ¨¡å‹çš„ï¼Œæˆ‘ä»¬å¿…é¡»ä»æ„å»ºæ¨¡å‹å¼€å§‹
- en: Build a Random Forest Model
  id: totrans-568
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ„å»ºéšæœºæ£®æ—æ¨¡å‹
- en: Since Shapley is model based we need to build a model
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºShapleyæ˜¯åŸºäºæ¨¡å‹çš„ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªæ¨¡å‹
- en: Letâ€™s start with a good random forest model, observe Shapley and then return
    here and modify the model
  id: totrans-570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ä¸€ä¸ªå¥½çš„éšæœºæ£®æ—æ¨¡å‹å¼€å§‹ï¼Œè§‚å¯ŸShapleyï¼Œç„¶åè¿”å›è¿™é‡Œå¹¶ä¿®æ”¹æ¨¡å‹
- en: '[PRE57]'
  id: totrans-571
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: '[PRE58]'
  id: totrans-572
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '![_images/cbc4aa1b1542fb9bf3527dc1f3f615180d1f3b63d21eb259a11b916d03595cea.png](../Images/6262d930974113cf78a782fd287a8df6.png)'
  id: totrans-573
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/6262d930974113cf78a782fd287a8df6.png)'
- en: Calculate Shapley Values
  id: totrans-574
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¡ç®—Shapleyå€¼
- en: Letâ€™s select some background data at random to calculate local Shapley values
    and then summarize with global Shapley measures.
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬éšæœºé€‰æ‹©ä¸€äº›èƒŒæ™¯æ•°æ®æ¥è®¡ç®—å±€éƒ¨Shapleyå€¼ï¼Œç„¶åç”¨å…¨å±€Shapleyåº¦é‡æ¥æ€»ç»“ã€‚
- en: Background Samples are selected as a random subset from all the data. Why not
    just use all the data as background?
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: èƒŒæ™¯æ ·æœ¬æ˜¯ä»æ‰€æœ‰æ•°æ®ä¸­éšæœºé€‰æ‹©çš„å­é›†ã€‚ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨æ‰€æœ‰æ•°æ®ä½œä¸ºèƒŒæ™¯ï¼Ÿ
- en: '**Shapley values can be computationally expensive to calculate**, we need all
    the combinations of models to get all the predictions for marginal contributions
    that are summarized as Shapley values'
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Shapleyå€¼çš„è®¡ç®—å¯èƒ½å¾ˆæ˜‚è´µ**ï¼Œæˆ‘ä»¬éœ€è¦æ‰€æœ‰æ¨¡å‹çš„ç»„åˆæ¥è·å–æ‰€æœ‰è¾¹é™…è´¡çŒ®çš„é¢„æµ‹ï¼Œè¿™äº›è¾¹é™…è´¡çŒ®è¢«æ€»ç»“ä¸ºShapleyå€¼'
- en: '**The original data may be sampled in a biased manner**, then we would want
    to ensure that the background data are representative, i.e., sampled from the
    original data to reduce bias to avoid bias in our feature importance assessment'
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**åŸå§‹æ•°æ®å¯èƒ½ä»¥æœ‰åçš„æ–¹å¼é‡‡æ ·**ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¼šæƒ³ç¡®ä¿èƒŒæ™¯æ•°æ®å…·æœ‰ä»£è¡¨æ€§ï¼Œå³ä»åŸå§‹æ•°æ®ä¸­é‡‡æ ·ä»¥å‡å°‘åå·®ï¼Œé¿å…åœ¨ç‰¹å¾é‡è¦æ€§è¯„ä¼°ä¸­çš„åå·®'
- en: '**Generalization vs. specific prediction cases**, if all the data are used
    as background we get an overall data assessment of feature importance, but we
    may want to carefully select data to explore specific prediction cases'
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ³›åŒ–ä¸ç‰¹å®šé¢„æµ‹æ¡ˆä¾‹**ï¼Œå¦‚æœæ‰€æœ‰æ•°æ®éƒ½ç”¨ä½œèƒŒæ™¯ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ç‰¹å¾é‡è¦æ€§çš„æ€»ä½“æ•°æ®è¯„ä¼°ï¼Œä½†æˆ‘ä»¬å¯èƒ½å¸Œæœ›ä»”ç»†é€‰æ‹©æ•°æ®æ¥æ¢ç´¢ç‰¹å®šçš„é¢„æµ‹æ¡ˆä¾‹'
- en: For simplicity here, we just select randomly selection \(n\) data.
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬åªæ˜¯éšæœºé€‰æ‹© \(n\) ä¸ªæ•°æ®ã€‚
- en: '[PRE59]'
  id: totrans-581
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: Local Shapley Values
  id: totrans-582
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å±€éƒ¨Shapleyå€¼
- en: Letâ€™s start by looking at the local Shapley values to demonstrate the concept
    of efficiency.
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å…ˆçœ‹çœ‹å±€éƒ¨Shapleyå€¼ï¼Œä»¥å±•ç¤ºæ•ˆç‡çš„æ¦‚å¿µã€‚
- en: first letâ€™s confirm that the output from the shap function is a \(\left[n_{background},
    m\right]\) nd array.
  id: totrans-584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç¡®è®¤shapå‡½æ•°çš„è¾“å‡ºæ˜¯ä¸€ä¸ª \(\left[n_{background}, m\right]\) çš„ndæ•°ç»„ã€‚
- en: '[PRE60]'
  id: totrans-585
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: '[PRE61]'
  id: totrans-586
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: We have the local Shapley values for each prediction for the background cases.
    Letâ€™s visualize one to demonstrate this.
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¸ºèƒŒæ™¯æ¡ˆä¾‹ä¸­çš„æ¯ä¸ªé¢„æµ‹éƒ½è®¡ç®—äº†å±€éƒ¨Shapleyå€¼ã€‚è®©æˆ‘ä»¬å¯è§†åŒ–ä¸€ä¸ªæ¥å±•ç¤ºè¿™ä¸€ç‚¹ã€‚
- en: I coded this custom visualization to clearly communicate local Shapley values
    and the concept of efficiency.
  id: totrans-588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ç¼–å†™äº†è¿™ä¸ªè‡ªå®šä¹‰å¯è§†åŒ–ï¼Œä»¥æ¸…æ¥šåœ°ä¼ è¾¾å±€éƒ¨Shapleyå€¼å’Œæ•ˆç‡çš„æ¦‚å¿µã€‚
- en: We start at the average of the training response feature and add the local Shapely
    values for each predictor feature to reach the prediction.
  id: totrans-589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»è®­ç»ƒå“åº”ç‰¹å¾çš„å‡å€¼å¼€å§‹ï¼Œä¸ºæ¯ä¸ªé¢„æµ‹ç‰¹å¾æ·»åŠ å±€éƒ¨Shapleyå€¼ï¼Œä»¥è¾¾åˆ°é¢„æµ‹ã€‚
- en: '[PRE62]'
  id: totrans-590
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: '![_images/4687606001e63cc73cb21d138e664ae5506aa6589d98a6bb132426a1eeacd218.png](../Images/223f16f325ce6407f83bcbcad31a87a9.png)'
  id: totrans-591
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/223f16f325ce6407f83bcbcad31a87a9.png)'
- en: Now I show you the built in plotting methods to communicate the same thing with
    the shap Python Package.
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘å‘æ‚¨å±•ç¤ºä½¿ç”¨shap PythonåŒ…å†…ç½®çš„ç»˜å›¾æ–¹æ³•æ¥ä¼ è¾¾ç›¸åŒçš„ä¿¡æ¯ã€‚
- en: Shapley Force Plot
  id: totrans-593
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ShapleyåŠ›å›¾
- en: We can simulaneously visualize all of the Shapley values for all of the sample
    data in the order of the background data set.
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥åŒæ—¶å¯è§†åŒ–æ‰€æœ‰æ ·æœ¬æ•°æ®ä¸­çš„æ‰€æœ‰Shapleyå€¼ï¼ŒæŒ‰èƒŒæ™¯æ•°æ®é›†çš„é¡ºåºæ’åˆ—ã€‚
- en: blue indicates reduction in the predicted production and red indicates increase
    in predicted production
  id: totrans-595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è“è‰²è¡¨ç¤ºé¢„æµ‹äº§é‡çš„å‡å°‘ï¼Œçº¢è‰²è¡¨ç¤ºé¢„æµ‹äº§é‡çš„å¢åŠ 
- en: We are visualizing over all background sample data at once. Reorder by original
    sample ordering and select the nback index to compare to the above plot.
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ­£åœ¨ä¸€æ¬¡æ€§å¯è§†åŒ–æ‰€æœ‰èƒŒæ™¯æ ·æœ¬æ•°æ®ã€‚æŒ‰åŸå§‹æ ·æœ¬é¡ºåºé‡æ–°æ’åºï¼Œå¹¶é€‰æ‹©nbackç´¢å¼•ä»¥ä¸ä¸Šé¢çš„å›¾è¡¨è¿›è¡Œæ¯”è¾ƒã€‚
- en: '[PRE63]'
  id: totrans-597
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '**Visualization omitted, Javascript library not loaded!**'
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯è§†åŒ–è¢«çœç•¥ï¼ŒJavaScriptåº“æœªåŠ è½½ï¼**'
- en: Have you run `initjs()` in this notebook? If this notebook was from another
    user you must also trust this notebook (File -> Trust notebook). If you are viewing
    this notebook on github the Javascript has been stripped for security. If you
    are using JupyterLab this error is because a JupyterLab extension has not yet
    been written.
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨åœ¨è¿™ä¸ªç¬”è®°æœ¬ä¸­è¿è¡Œäº†`initjs()`å—ï¼Ÿå¦‚æœè¿™ä¸ªç¬”è®°æœ¬æ¥è‡ªå¦ä¸€ä¸ªç”¨æˆ·ï¼Œæ‚¨è¿˜å¿…é¡»ä¿¡ä»»è¿™ä¸ªç¬”è®°æœ¬ï¼ˆæ–‡ä»¶ -> ä¿¡ä»»ç¬”è®°æœ¬ï¼‰ã€‚å¦‚æœæ‚¨åœ¨GitHubä¸ŠæŸ¥çœ‹æ­¤ç¬”è®°æœ¬ï¼ŒJavaScriptå·²è¢«ç§»é™¤ä»¥å¢å¼ºå®‰å…¨æ€§ã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨JupyterLabï¼Œæ­¤é”™è¯¯æ˜¯å› ä¸ºå°šæœªç¼–å†™JupyterLabæ‰©å±•ã€‚
- en: Local Force Plot
  id: totrans-600
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å±€éƒ¨åŠ›å›¾
- en: We pick a specific sample from the background and visualize the force plot.
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»èƒŒæ™¯ä¸­é€‰å–ä¸€ä¸ªç‰¹å®šçš„æ ·æœ¬ï¼Œå¹¶å¯è§†åŒ–å…¶åŠ›å›¾ã€‚
- en: We can see the genesis of the plot above, Shapley values for all features given
    a local set of values in sample \(i\), (\(x_i\)).
  id: totrans-602
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šè¿°å›¾è¡¨çš„èµ·æºï¼Œç»™å®šæ ·æœ¬\(i\)ï¼ˆ\(x_i\)ï¼‰çš„å±€éƒ¨å€¼é›†çš„æ‰€æœ‰ç‰¹å¾çš„Shapleyå€¼ã€‚
- en: Compare this result to the above custom plot that I made and you will see that
    it communicates the same information.
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ­¤ç»“æœä¸ä¸Šé¢æˆ‘åˆ¶ä½œçš„è‡ªå®šä¹‰å›¾è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œæ‚¨å°†çœ‹åˆ°å®ƒä»¬ä¼ è¾¾äº†ç›¸åŒçš„ä¿¡æ¯ã€‚
- en: '[PRE64]'
  id: totrans-604
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: '**Visualization omitted, Javascript library not loaded!**'
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯è§†åŒ–è¢«çœç•¥ï¼ŒJavaScriptåº“æœªåŠ è½½ï¼**'
- en: Have you run `initjs()` in this notebook? If this notebook was from another
    user you must also trust this notebook (File -> Trust notebook). If you are viewing
    this notebook on github the Javascript has been stripped for security. If you
    are using JupyterLab this error is because a JupyterLab extension has not yet
    been written.
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨åœ¨è¿™ä¸ªç¬”è®°æœ¬ä¸­è¿è¡Œäº†`initjs()`å—ï¼Ÿå¦‚æœè¿™ä¸ªç¬”è®°æœ¬æ¥è‡ªå¦ä¸€ä¸ªç”¨æˆ·ï¼Œæ‚¨è¿˜å¿…é¡»ä¿¡ä»»è¿™ä¸ªç¬”è®°æœ¬ï¼ˆæ–‡ä»¶ -> ä¿¡ä»»ç¬”è®°æœ¬ï¼‰ã€‚å¦‚æœæ‚¨åœ¨GitHubä¸ŠæŸ¥çœ‹æ­¤ç¬”è®°æœ¬ï¼ŒJavaScriptå·²è¢«ç§»é™¤ä»¥å¢å¼ºå®‰å…¨æ€§ã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨JupyterLabï¼Œæ­¤é”™è¯¯æ˜¯å› ä¸ºå°šæœªç¼–å†™JupyterLabæ‰©å±•ã€‚
- en: Appreciation to Xuesong Ma for the suggestion to improve the above local Shapley
    value content and visualizations.
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢è–›æ¾å¯¹æ”¹è¿›ä¸Šè¿°å±€éƒ¨Shapleyå€¼å†…å®¹å’Œå¯è§†åŒ–çš„å»ºè®®ã€‚
- en: Global Shapley Values
  id: totrans-608
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…¨å±€Shapleyå€¼
- en: Letâ€™s review the global Shapley measures.
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å›é¡¾å…¨å±€Shapleyåº¦é‡ã€‚
- en: sorted bar chart of the arithmetic average of the absolute SHAP value over the
    background data
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: èƒŒæ™¯æ•°æ®ä¸Šç»å¯¹SHAPå€¼çš„ç®—æœ¯å¹³å‡å€¼çš„æ’åºæ¡å½¢å›¾
- en: sorted plot of the SHAP value over the background data
  id: totrans-611
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: èƒŒæ™¯æ•°æ®ä¸ŠSHAPå€¼çš„æ’åºå›¾
- en: plot of the SHAP value over the background data as a violin plot
  id: totrans-612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: èƒŒæ™¯æ•°æ®ä¸ŠSHAPå€¼çš„violinå›¾
- en: 'Note: all of these methods are applying the global average (\(E[X_i]\)) for
    each feature to impute for those cases not including feature \(i\).'
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šæ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯å°†æ¯ä¸ªç‰¹å¾çš„å…¨çƒå¹³å‡å€¼ï¼ˆ\(E[X_i]\)ï¼‰åº”ç”¨äºé‚£äº›ä¸åŒ…æ‹¬ç‰¹å¾\(i\)çš„æ¡ˆä¾‹ã€‚
- en: '[PRE65]'
  id: totrans-614
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '![_images/2f143182e5f4f722358c7743d0e8d7cd49f8f2a4e3afecee9fcacac06e45af95.png](../Images/e3945b1cd0e515c4f1adfcc33e2436d8.png)'
  id: totrans-615
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/e3945b1cd0e515c4f1adfcc33e2436d8.png)'
- en: The the center and right plots show the Shapley values for each feature over
    all the randomly selected background samples, while the plot on the left is the
    bar chart of the mean absolute Shapley values.
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸­é—´å’Œå³ä¾§çš„å›¾æ˜¾ç¤ºäº†æ‰€æœ‰éšæœºé€‰æ‹©çš„èƒŒæ™¯æ ·æœ¬ä¸­æ¯ä¸ªç‰¹å¾çš„Shapleyå€¼ï¼Œè€Œå·¦ä¾§çš„å›¾æ˜¯å¹³å‡ç»å¯¹Shapleyå€¼çš„æ¡å½¢å›¾ã€‚
- en: Porosity, Permeability and TOC are the top features
  id: totrans-617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡ã€æ¸—é€ç‡å’ŒTOCæ˜¯é¡¶çº§ç‰¹å¾
- en: Comments
  id: totrans-618
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¯„è®º
- en: This was a basic treatment of feature ranking. Much more could be done and discussed,
    I have many more resources. Check out my [shared resource inventory](https://michaelpyrcz.com/my-resources)
    and the YouTube lecture links at the start of this chapter with resource links
    in the videosâ€™ descriptions.
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¯¹ç‰¹å¾æ’åçš„åŸºæœ¬å¤„ç†ã€‚å¯ä»¥åšå’Œè®¨è®ºçš„è¿˜æœ‰å¾ˆå¤šï¼Œæˆ‘æœ‰å¾ˆå¤šæ›´å¤šçš„èµ„æºã€‚æŸ¥çœ‹æˆ‘çš„[å…±äº«èµ„æºæ¸…å•](https://michaelpyrcz.com/my-resources)ä»¥åŠæœ¬ç« å¼€å¤´YouTubeè®²åº§ä¸­çš„èµ„æºé“¾æ¥ï¼Œè§†é¢‘æè¿°ä¸­åŒ…å«èµ„æºé“¾æ¥ã€‚
- en: I hope this is helpful,
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›è¿™æœ‰æ‰€å¸®åŠ©ï¼Œ
- en: '*Michael*'
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿ˆå…‹å°”*'
- en: About the Author
  id: totrans-622
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…³äºä½œè€…
- en: '![](../Images/eb709b2c0a0c715da01ae0165efdf3b2.png)'
  id: totrans-623
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/eb709b2c0a0c715da01ae0165efdf3b2.png)'
- en: Professor Michael Pyrcz in his office on the 40 acres, campus of The University
    of Texas at Austin.
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡æ•™æˆåœ¨å¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡40è‹±äº©æ ¡å›­çš„åŠå…¬å®¤ã€‚
- en: Michael Pyrcz is a professor in the [Cockrell School of Engineering](https://cockrell.utexas.edu/faculty-directory/alphabetical/p),
    and the [Jackson School of Geosciences](https://www.jsg.utexas.edu/researcher/michael_pyrcz/),
    at [The University of Texas at Austin](https://www.utexas.edu/), where he researches
    and teaches subsurface, spatial data analytics, geostatistics, and machine learning.
    Michael is also,
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡æ˜¯å¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡[Cockrellå·¥ç¨‹å­¦é™¢](https://cockrell.utexas.edu/faculty-directory/alphabetical/p)å’Œ[æ°å…‹é€Šåœ°çƒç§‘å­¦å­¦é™¢](https://www.jsg.utexas.edu/researcher/michael_pyrcz/)çš„æ•™æˆï¼Œä»–åœ¨è¯¥æ ¡ä»äº‹å’Œæ•™æˆåœ°ä¸‹ã€ç©ºé—´æ•°æ®åˆ†æã€åœ°ç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ ã€‚è¿ˆå…‹å°”è¿˜ï¼Œ
- en: the principal investigator of the [Energy Analytics](https://fri.cns.utexas.edu/energy-analytics)
    freshmen research initiative and a core faculty in the Machine Learn Laboratory
    in the College of Natural Sciences, The University of Texas at Austin
  id: totrans-626
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[èƒ½æºåˆ†æ](https://fri.cns.utexas.edu/energy-analytics)æ–°ç”Ÿç ”ç©¶é¡¹ç›®çš„é¦–å¸­ç ”ç©¶å‘˜ï¼Œä»¥åŠå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡è‡ªç„¶ç§‘å­¦é™¢æœºå™¨å­¦ä¹ å®éªŒå®¤çš„æ ¸å¿ƒæ•™å‘˜ã€‚'
- en: an associate editor for [Computers and Geosciences](https://www.sciencedirect.com/journal/computers-and-geosciences/about/editorial-board),
    and a board member for [Mathematical Geosciences](https://link.springer.com/journal/11004/editorial-board),
    the International Association for Mathematical Geosciences.
  id: totrans-627
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[è®¡ç®—æœºä¸åœ°çƒç§‘å­¦](https://www.sciencedirect.com/journal/computers-and-geosciences/about/editorial-board)çš„å‰¯ç¼–è¾‘ï¼Œä»¥åŠå›½é™…æ•°å­¦åœ°çƒç§‘å­¦åä¼š[æ•°å­¦åœ°çƒç§‘å­¦](https://link.springer.com/journal/11004/editorial-board)çš„è‘£äº‹ä¼šæˆå‘˜ã€‚'
- en: 'Michael has written over 70 [peer-reviewed publications](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en),
    a [Python package](https://pypi.org/project/geostatspy/) for spatial data analytics,
    co-authored a textbook on spatial data analytics, [Geostatistical Reservoir Modeling](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    and author of two recently released e-books, [Applied Geostatistics in Python:
    a Hands-on Guide with GeostatsPy](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    and [Applied Machine Learning in Python: a Hands-on Guide with Code](https://geostatsguy.github.io/MachineLearningDemos_Book/intro.html).'
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”å·²ç»æ’°å†™äº†70å¤šç¯‡[åŒè¡Œè¯„å®¡å‡ºç‰ˆç‰©](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en)ï¼Œä¸€ä¸ªç”¨äºç©ºé—´æ•°æ®åˆ†æçš„[PythonåŒ…](https://pypi.org/project/geostatspy/)ï¼Œåˆè‘—äº†ä¸€æœ¬å…³äºç©ºé—´æ•°æ®åˆ†æçš„æ•™ç§‘ä¹¦[åœ°ç»Ÿè®¡å­¦å‚¨å±‚å»ºæ¨¡](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)ï¼Œå¹¶æ˜¯ä¸¤æœ¬æœ€è¿‘å‘å¸ƒçš„ç”µå­ä¹¦çš„ä½œè€…ï¼Œ[Pythonä¸­çš„åº”ç”¨åœ°ç»Ÿè®¡å­¦ï¼šGeostatsPyåŠ¨æ‰‹æŒ‡å—](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)å’Œ[Pythonä¸­çš„åº”ç”¨æœºå™¨å­¦ä¹ ï¼šå¸¦ä»£ç çš„åŠ¨æ‰‹æŒ‡å—](https://geostatsguy.github.io/MachineLearningDemos_Book/intro.html)ã€‚
- en: All of Michaelâ€™s university lectures are available on his [YouTube Channel](https://www.youtube.com/@GeostatsGuyLectures)
    with links to 100s of Python interactive dashboards and well-documented workflows
    in over 40 repositories on his [GitHub account](https://github.com/GeostatsGuy),
    to support any interested students and working professionals with evergreen content.
    To find out more about Michaelâ€™s work and shared educational resources visit his
    Website.
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”çš„æ‰€æœ‰å¤§å­¦è®²åº§éƒ½å¯ä»¥åœ¨ä»–çš„[YouTubeé¢‘é“](https://www.youtube.com/@GeostatsGuyLectures)ä¸Šæ‰¾åˆ°ï¼Œé™„æœ‰100å¤šä¸ªPythonäº¤äº’å¼ä»ªè¡¨æ¿å’Œ40å¤šä¸ªGitHubä»“åº“ä¸­çš„è¯¦ç»†æ–‡æ¡£å·¥ä½œæµç¨‹é“¾æ¥ï¼Œè¿™äº›ä»“åº“åœ¨ä»–çš„[GitHubè´¦æˆ·](https://github.com/GeostatsGuy)ä¸Šï¼Œä»¥æ”¯æŒä»»ä½•æ„Ÿå…´è¶£çš„å­¦ç”Ÿå’Œåœ¨èŒä¸“ä¸šäººå£«ï¼Œæä¾›å¸¸é’å†…å®¹ã€‚è¦äº†è§£æ›´å¤šå…³äºè¿ˆå…‹å°”çš„å·¥ä½œå’Œå…±äº«æ•™è‚²èµ„æºï¼Œè¯·è®¿é—®ä»–çš„ç½‘ç«™ã€‚
- en: Want to Work Together?
  id: totrans-630
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æƒ³ä¸€èµ·å·¥ä½œï¼Ÿ
- en: I hope this content is helpful to those that want to learn more about subsurface
    modeling, data analytics and machine learning. Students and working professionals
    are welcome to participate.
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›è¿™ä¸ªå†…å®¹å¯¹é‚£äº›æƒ³äº†è§£æ›´å¤šå…³äºåœ°ä¸‹å»ºæ¨¡ã€æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººæœ‰æ‰€å¸®åŠ©ã€‚å­¦ç”Ÿå’Œåœ¨èŒä¸“ä¸šäººå£«æ¬¢è¿å‚åŠ ã€‚
- en: Want to invite me to visit your company for training, mentoring, project review,
    workflow design and / or consulting? Iâ€™d be happy to drop by and work with you!
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æƒ³é‚€è¯·æˆ‘åˆ°è´µå…¬å¸è¿›è¡ŒåŸ¹è®­ã€è¾…å¯¼ã€é¡¹ç›®å®¡æŸ¥ã€å·¥ä½œæµç¨‹è®¾è®¡å’Œ/æˆ–å’¨è¯¢å—ï¼Ÿæˆ‘å¾ˆä¹æ„æ‹œè®¿å¹¶ä¸æ‚¨åˆä½œï¼
- en: Interested in partnering, supporting my graduate student research or my Subsurface
    Data Analytics and Machine Learning consortium (co-PI is Professor John Foster)?
    My research combines data analytics, stochastic modeling and machine learning
    theory with practice to develop novel methods and workflows to add value. We are
    solving challenging subsurface problems!
  id: totrans-633
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„Ÿå…´è¶£äºåˆä½œï¼Œæ”¯æŒæˆ‘çš„ç ”ç©¶ç”Ÿç ”ç©¶æˆ–æˆ‘çš„åœ°ä¸‹æ•°æ®åˆ†æä¸æœºå™¨å­¦ä¹ è”ç›Ÿï¼ˆå…±åŒè´Ÿè´£äººæ˜¯çº¦ç¿°Â·ç¦æ–¯ç‰¹æ•™æˆï¼‰å—ï¼Ÿæˆ‘çš„ç ”ç©¶å°†æ•°æ®åˆ†æã€éšæœºå»ºæ¨¡å’Œæœºå™¨å­¦ä¹ ç†è®ºä¸å®è·µç›¸ç»“åˆï¼Œä»¥å¼€å‘æ–°çš„æ–¹æ³•å’Œå·¥ä½œæµç¨‹æ¥å¢åŠ ä»·å€¼ã€‚æˆ‘ä»¬æ­£åœ¨è§£å†³å…·æœ‰æŒ‘æˆ˜æ€§çš„åœ°ä¸‹é—®é¢˜ï¼
- en: I can be reached at [mpyrcz@austin.utexas.edu](mailto:mpyrcz%40austin.utexas.edu).
  id: totrans-634
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥é€šè¿‡ [mpyrcz@austin.utexas.edu](mailto:mpyrcz%40austin.utexas.edu) è”ç³»åˆ°æˆ‘ã€‚
- en: Iâ€™m always happy to discuss,
  id: totrans-635
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ€»æ˜¯å¾ˆé«˜å…´è®¨è®ºï¼Œ
- en: '*Michael*'
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿ˆå…‹å°”*'
- en: Michael Pyrcz, Ph.D., P.Eng. Professor, Cockrell School of Engineering and The
    Jackson School of Geosciences, The University of Texas at Austin
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡ï¼Œåšå£«ï¼ŒP.Eng. æ•™æˆï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡ Cockrell å·¥ç¨‹å­¦é™¢å’Œ Jackson åœ°çƒç§‘å­¦å­¦é™¢
- en: 'More Resources Available at: [Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [Website](http://michaelpyrcz.com) | [GoogleScholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [Geostatistics Book](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Applied
    Geostats in Python e-book](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [Applied Machine Learning in Python e-book](https://geostatsguy.github.io/MachineLearningDemos_Book/)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
  id: totrans-638
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´å¤šèµ„æºå¯åœ¨ä»¥ä¸‹é“¾æ¥è·å–ï¼š[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [ç½‘ç«™](http://michaelpyrcz.com) | [Google Scholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [åœ°ç»Ÿè®¡å­¦ä¹¦ç±](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Python
    ä¸­åº”ç”¨åœ°ç»Ÿè®¡å­¦ç”µå­ä¹¦](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html) | [Python
    ä¸­åº”ç”¨æœºå™¨å­¦ä¹ ç”µå­ä¹¦](https://geostatsguy.github.io/MachineLearningDemos_Book/) | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)
- en: Motivation for Feature Ranking
  id: totrans-639
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åºçš„åŠ¨æœº
- en: There are often many predictor features (input variables), available for us
    to work with for building our prediction models.
  id: totrans-640
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸æœ‰å¾ˆå¤šé¢„æµ‹ç‰¹å¾ï¼ˆè¾“å…¥å˜é‡ï¼‰å¯ä¾›æˆ‘ä»¬ç”¨äºæ„å»ºé¢„æµ‹æ¨¡å‹ã€‚
- en: there are good reasons to be selective, throwing in every possible feature is
    not a good idea!
  id: totrans-641
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ‰å……åˆ†çš„ç†ç”±è¿›è¡Œé€‰æ‹©ï¼Œå°†æ‰€æœ‰å¯èƒ½çš„ç‰¹å¾éƒ½åŠ å…¥è¿›æ¥å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼
- en: In general, for the best prediction model, careful selection of the fewest features
    that provide the most amount of information is the best practice.
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œå¯¹äºæœ€ä½³çš„é¢„æµ‹æ¨¡å‹ï¼Œä»”ç»†é€‰æ‹©æä¾›æœ€å¤šä¿¡æ¯çš„å°‘æ•°ç‰¹å¾æ˜¯æœ€ä½³å®è·µã€‚
- en: 'Hereâ€™s why:'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: åŸå› å¦‚ä¸‹ï¼š
- en: '**blunders** - more predictor features result in more complicated workflows
    that require more professional time and have increased opportunity for mistakes
    in the workflow'
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é”™è¯¯** - æ›´å¤šçš„é¢„æµ‹ç‰¹å¾ä¼šå¯¼è‡´æ›´å¤æ‚çš„æµç¨‹ï¼Œéœ€è¦æ›´å¤šä¸“ä¸šæ—¶é—´ï¼Œå¹¶ä¸”åœ¨å·¥ä½œæµç¨‹ä¸­å‡ºé”™çš„æœºä¼šå¢åŠ '
- en: '**difficult to visualize** - higher dimensional models, i.e., larger number
    of predictor features, are more difficult to visualize'
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**éš¾ä»¥å¯è§†åŒ–** - é«˜ç»´æ¨¡å‹ï¼Œå³é¢„æµ‹ç‰¹å¾æ•°é‡æ›´å¤šï¼Œæ›´éš¾ä»¥å¯è§†åŒ–'
- en: '**model checking** - more complicated models may be more difficult to interrogate,
    interpret and QC'
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¨¡å‹æ£€æŸ¥** - æ›´å¤æ‚çš„æ¨¡å‹å¯èƒ½æ›´éš¾ä»¥è°ƒæŸ¥ã€è§£é‡Šå’Œè¿›è¡Œè´¨é‡æ§åˆ¶'
- en: '**predictor feature redundancy** - more likely to have redundant predictor
    features. The inclusion of highly redundant and collinear or multicollinear features
    increases model variance, increase model instability and decreases prediction
    accuracy for testing'
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é¢„æµ‹ç‰¹å¾å†—ä½™** - æ›´æœ‰å¯èƒ½å­˜åœ¨å†—ä½™çš„é¢„æµ‹ç‰¹å¾ã€‚åŒ…å«é«˜åº¦å†—ä½™å’Œå…±çº¿æ€§æˆ–å¤šå…±çº¿æ€§çš„ç‰¹å¾ä¼šå¢åŠ æ¨¡å‹æ–¹å·®ï¼Œå¢åŠ æ¨¡å‹çš„ä¸ç¨³å®šæ€§ï¼Œå¹¶é™ä½æµ‹è¯•é¢„æµ‹çš„å‡†ç¡®æ€§'
- en: '**computational time** - more predictor features generally increase the computational
    time required to train the model and the computational storage, i.e., the model
    may be less compact and portable'
  id: totrans-648
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è®¡ç®—æ—¶é—´** - æ›´å¤šçš„é¢„æµ‹ç‰¹å¾é€šå¸¸ä¼šå¢åŠ è®­ç»ƒæ¨¡å‹æ‰€éœ€çš„è®¡ç®—æ—¶é—´å’Œè®¡ç®—å­˜å‚¨ï¼Œå³æ¨¡å‹å¯èƒ½ä¸å¤Ÿç´§å‡‘ä¸”ä¸ä¾¿äºæºå¸¦'
- en: '**model overfit** - the risk of overfit increases with the more features, due
    to increase in model complexity'
  id: totrans-649
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¨¡å‹è¿‡æ‹Ÿåˆ** - éšç€ç‰¹å¾æ•°é‡çš„å¢åŠ ï¼Œæ¨¡å‹å¤æ‚åº¦çš„æé«˜ï¼Œè¿‡æ‹Ÿåˆçš„é£é™©ä¹Ÿéšä¹‹å¢åŠ '
- en: '**model extrapolation** - many predictor features results in high dimensional
    model space with less data coverage and more likelihood for model extrapolation
    that may be inaccurate'
  id: totrans-650
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¨¡å‹å¤–æ¨** - è®¸å¤šé¢„æµ‹ç‰¹å¾å¯¼è‡´é«˜ç»´æ¨¡å‹ç©ºé—´æ•°æ®è¦†ç›–åº¦ä½ï¼Œä¸”æ¨¡å‹å¤–æ¨å¯èƒ½ä¸å‡†ç¡®'
- en: The primary concern with many predictor features is the curse of dimensionality.
    Letâ€™s summarize the curse!
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè®¸å¤šé¢„æµ‹ç‰¹å¾çš„ä¸»è¦é—®é¢˜æ˜¯ç»´åº¦ç¾éš¾ã€‚è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹è¿™ä¸ªç¾éš¾ï¼
- en: Curse of Dimensionality
  id: totrans-652
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç»´åº¦ç¾éš¾
- en: '**Data and Model Visualization** - we cannot visualize beyond 3D, i.e., access
    the model fit to data, evaluate interpolation vs. extrapolation.'
  id: totrans-653
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ•°æ®å’Œæ¨¡å‹å¯è§†åŒ–** - æˆ‘ä»¬æ— æ³•å¯è§†åŒ–è¶…è¿‡ä¸‰ç»´ï¼Œå³æ— æ³•è®¿é—®æ•°æ®æ‹Ÿåˆæ¨¡å‹ï¼Œè¯„ä¼°å†…æ’ä¸å¤–æ¨ã€‚'
- en: consider a 5D example shown as a matrix scatter plot, even in this case there
    is an extreme marginalization to 2D for each plot,
  id: totrans-654
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è€ƒè™‘ä¸€ä¸ª5ç»´ç¤ºä¾‹ï¼Œå¦‚å›¾æ‰€ç¤ºä¸ºçŸ©é˜µæ•£ç‚¹å›¾ï¼Œå³ä½¿åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå›¾ä¹Ÿæç«¯åœ°è¾¹ç¼˜åŒ–åˆ°äºŒç»´ï¼Œ
- en: '![](../Images/ecf50f66114aec17ea35fde1342d66c4.png)'
  id: totrans-655
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ecf50f66114aec17ea35fde1342d66c4.png)'
- en: Example 5D data as a matrix scatter plot.
  id: totrans-656
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹5Dæ•°æ®ä½œä¸ºçŸ©é˜µæ•£ç‚¹å›¾ã€‚
- en: '**Sampling** - the number of samples sufficient to infer statistics like the
    joint probability, \(P(x_1,\ldots,x_m)\).'
  id: totrans-657
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**é‡‡æ ·** - è¶³å¤Ÿçš„æ ·æœ¬æ•°é‡ä»¥æ¨æ–­è¯¸å¦‚è”åˆæ¦‚ç‡ \(P(x_1,\ldots,x_m)\) è¿™æ ·çš„ç»Ÿè®¡é‡ã€‚'
- en: 'recall the calculation of a histogram or normalized histogram: we establish
    bins and calculate frequencies or probabilities in each bin.'
  id: totrans-658
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›å¿†ç›´æ–¹å›¾æˆ–å½’ä¸€åŒ–ç›´æ–¹å›¾çš„è®¡ç®—ï¼šæˆ‘ä»¬å»ºç«‹åŒºé—´å¹¶è®¡ç®—æ¯ä¸ªåŒºé—´çš„é¢‘ç‡æˆ–æ¦‚ç‡ã€‚
- en: we require a nominal number of data samples for each bin, so we require \(ğ‘›=ğ‘›_{ğ‘ /ğ‘ğ‘–ğ‘›}
    \cdot ğ‘›_{ğ‘ğ‘–ğ‘›ğ‘ }\) samples in 1D
  id: totrans-659
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦ä¸ºæ¯ä¸ªåŒºé—´æä¾›åä¹‰ä¸Šçš„æ•°æ®æ ·æœ¬æ•°é‡ï¼Œå› æ­¤åœ¨ä¸€ç»´ä¸­æˆ‘ä»¬éœ€è¦ \(ğ‘›=ğ‘›_{ğ‘ /ğ‘ğ‘–ğ‘›} \cdot ğ‘›_{ğ‘ğ‘–ğ‘›ğ‘ }\) ä¸ªæ ·æœ¬
- en: but in mD we required \(n\) samples to calculate the discretized joint probability,
  id: totrans-660
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½†åœ¨mDä¸­ï¼Œæˆ‘ä»¬éœ€è¦ \(n\) ä¸ªæ ·æœ¬æ¥è®¡ç®—ç¦»æ•£åŒ–çš„è”åˆæ¦‚ç‡ï¼Œ
- en: \[ ğ‘›=ğ‘›_{ğ‘ /ğ‘ğ‘–ğ‘›} \cdot ğ‘›_{ğ‘ğ‘–ğ‘›ğ‘ }^m$ \]
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: \[ ğ‘›=ğ‘›_{ğ‘ /ğ‘ğ‘–ğ‘›} \cdot ğ‘›_{ğ‘ğ‘–ğ‘›ğ‘ }^m \]
- en: for example, 10 samples per bin with 35 bins requires 12,250 samples in 2D,
    and 428,750 samples in 3D
  id: totrans-662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œæ¯ä¸ªåŒºé—´10ä¸ªæ ·æœ¬ï¼Œ35ä¸ªåŒºé—´ï¼Œåœ¨äºŒç»´ä¸­éœ€è¦12,250ä¸ªæ ·æœ¬ï¼Œåœ¨ä¸‰ç»´ä¸­éœ€è¦428,750ä¸ªæ ·æœ¬
- en: '![](../Images/bc8823819263f4497ef6baab93a9ee38.png)'
  id: totrans-663
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/bc8823819263f4497ef6baab93a9ee38.png)'
- en: Example 2D data with 35 bins for each feature.
  id: totrans-664
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹2Dæ•°æ®ï¼Œæ¯ä¸ªç‰¹å¾æœ‰35ä¸ªåŒºé—´ã€‚
- en: '**Sample Coverage** - the range of the sample values cover the predictor feature
    space.'
  id: totrans-665
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ ·æœ¬è¦†ç›–åº¦** - æ ·æœ¬å€¼èŒƒå›´è¦†ç›–é¢„æµ‹ç‰¹å¾ç©ºé—´ã€‚'
- en: fraction of the possible solution space that is sampled, for 1 feature we assume
    80% coverage
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ ·æœ¬ç©ºé—´ä¸­å¯èƒ½è§£çš„åˆ†æ•°ï¼Œå¯¹äº1ä¸ªç‰¹å¾ï¼Œæˆ‘ä»¬å‡è®¾80%çš„è¦†ç›–åº¦
- en: remember, we usually, directly sample only \(\frac{1}{10^7}\) of the volume
    of the subsurface
  id: totrans-667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œæˆ‘ä»¬é€šå¸¸åªç›´æ¥é‡‡æ ·åœ°ä¸‹ä½“ç§¯çš„ \(\frac{1}{10^7}\)ã€‚
- en: yes, the concept of coverage is subjective, how much data to cover? What about
    gaps? etc.
  id: totrans-668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ˜¯çš„ï¼Œè¦†ç›–åº¦çš„æ¦‚å¿µæ˜¯ä¸»è§‚çš„ï¼Œéœ€è¦è¦†ç›–å¤šå°‘æ•°æ®ï¼Ÿå…³äºé—´éš™æ€ä¹ˆåŠï¼Ÿç­‰ç­‰ã€‚
- en: '![](../Images/d8058511a88a482ed34b0cbd9eb34fec.png)'
  id: totrans-669
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d8058511a88a482ed34b0cbd9eb34fec.png)'
- en: Example 2D data with 35 bins for each feature.
  id: totrans-670
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹2Dæ•°æ®ï¼Œæ¯ä¸ªç‰¹å¾æœ‰35ä¸ªåŒºé—´ã€‚
- en: now if there is 80% coverage for 2 features the 2D coverage is 64%
  id: totrans-671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç°åœ¨å¦‚æœæœ‰ä¸¤ä¸ªç‰¹å¾çš„80%è¦†ç›–åº¦ï¼ŒäºŒç»´è¦†ç›–åº¦ä¸º64%
- en: '![](../Images/8d96453b3f6c2a92a160fe4329a13d4a.png)'
  id: totrans-672
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8d96453b3f6c2a92a160fe4329a13d4a.png)'
- en: Example 2D data with 35 bins for each feature.
  id: totrans-673
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹2Dæ•°æ®ï¼Œæ¯ä¸ªç‰¹å¾æœ‰35ä¸ªåŒºé—´ã€‚
- en: coverage is,
  id: totrans-674
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¦†ç›–åº¦ï¼Œ
- en: \[ c = c_1^m \]
  id: totrans-675
  prefs: []
  type: TYPE_NORMAL
  zh: \[ c = c_1^m \]
- en: '**Distorted Space** - high dimensional space is distorted.'
  id: totrans-676
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ‰­æ›²ç©ºé—´** - é«˜ç»´ç©ºé—´æ˜¯æ‰­æ›²çš„ã€‚'
- en: take the ratio of the volume of an inscribed hypersphere in a hypercube,
  id: totrans-677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å–å†…åµŒè¶…çƒä½“çš„ä½“ç§¯ä¸è¶…ç«‹æ–¹ä½“çš„ä½“ç§¯ä¹‹æ¯”ï¼Œ
- en: \[ \frac{\pi^{\frac{m}{2}}}{m 2^{m-1} \Gamma\left(\frac{m}{2}\right)} \to 0
    \quad \text{as} \quad m \to \infty \]
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{\pi^{\frac{m}{2}}}{m 2^{m-1} \Gamma\left(\frac{m}{2}\right)} \to 0
    \quad \text{as} \quad m \to \infty \]
- en: recall, \(\Gamma(ğ‘›)=(ğ‘›âˆ’1)!\).
  id: totrans-679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›å¿†ï¼Œ\(\Gamma(ğ‘›)=(ğ‘›âˆ’1)!\).
- en: high dimensional space is all corners and no middle and most of high dimensional
    space is far from the middle (all corners!).
  id: totrans-680
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é«˜ç»´ç©ºé—´å…¨æ˜¯è§’è½è€Œæ²¡æœ‰ä¸­é—´éƒ¨åˆ†ï¼Œå¤§å¤šæ•°é«˜ç»´ç©ºé—´ç¦»ä¸­é—´éƒ¨åˆ†å¾ˆè¿œï¼ˆå…¨æ˜¯è§’è½ï¼ï¼‰ã€‚
- en: as a result distances in high dimensional space lose sensitivity, i.e., for
    any random points in the space the expected pairwise distances all become the
    same,
  id: totrans-681
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œåœ¨å¤šç»´ç©ºé—´ä¸­ï¼Œè·ç¦»å¤±å»äº†æ•æ„Ÿæ€§ï¼Œå³å¯¹äºç©ºé—´ä¸­çš„ä»»ä½•éšæœºç‚¹ï¼Œé¢„æœŸçš„æˆå¯¹è·ç¦»éƒ½å˜å¾—ç›¸åŒï¼Œ
- en: \[ \lim_{m \to \infty} \left( \mathbb{E}\left[\text{dist}_{\text{max}}(m) -
    \text{dist}_{\text{min}}(m)\right] \right) \to 0 \]
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \lim_{m \to \infty} \left( \mathbb{E}\left[\text{dist}_{\text{max}}(m) -
    \text{dist}_{\text{min}}(m)\right] \right) \to 0 \]
- en: the limit of the expectation of the range of pairwise distances over random
    points in hyper-dimensional space tends to zero. If distances are almost all the
    same, Euclidian distance is no longer meaningful!
  id: totrans-683
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éšæœºç‚¹åœ¨è¶…ç©ºé—´ä¸­æˆå¯¹è·ç¦»èŒƒå›´çš„æœŸæœ›æé™è¶‹äºé›¶ã€‚å¦‚æœè·ç¦»å‡ ä¹éƒ½ç›¸åŒï¼Œæ¬§å‡ é‡Œå¾—è·ç¦»å°±ä¸å†æœ‰æ„ä¹‰äº†ï¼
- en: '![](../Images/8c8d512cca4eb330150d1ba298831543.png)'
  id: totrans-684
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8c8d512cca4eb330150d1ba298831543.png)'
- en: The ratio of the volume of a hypersphere within a hypercube.
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: è¶…ç«‹æ–¹ä½“å†…è¶…çƒä½“ä½“ç§¯çš„æ¯”ç‡ã€‚
- en: hereâ€™s the severity of the distortion for various dimensionalities,
  id: totrans-686
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯å„ç§ç»´åº¦ä¸‹çš„æ‰­æ›²ç¨‹åº¦ï¼Œ
- en: '| m | nD / 2D |'
  id: totrans-687
  prefs: []
  type: TYPE_TB
  zh: '| m | nD / 2D |'
- en: '| --- | --- |'
  id: totrans-688
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 2 | 1.0 |'
  id: totrans-689
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 1.0 |'
- en: '| 5 | 0.28 |'
  id: totrans-690
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 0.28 |'
- en: '| 10 | 0.003 |'
  id: totrans-691
  prefs: []
  type: TYPE_TB
  zh: '| 10 | 0.003 |'
- en: '| 20 | 0.00000003 |'
  id: totrans-692
  prefs: []
  type: TYPE_TB
  zh: '| 20 | 0.00000003 |'
- en: '**Multicollinearity** - higher dimensional datasets are more likely to have
    collinearity or multicollinearity.'
  id: totrans-693
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Multicollinearity** - é«˜ç»´æ•°æ®é›†æ›´æœ‰å¯èƒ½å‡ºç°å…±çº¿æ€§æˆ–å¤šé‡å…±çº¿æ€§ã€‚'
- en: Feature linearly described by other features resulting in high model variance.
  id: totrans-694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”±å…¶ä»–ç‰¹å¾çº¿æ€§æè¿°çš„ç‰¹å¾å¯¼è‡´æ¨¡å‹æ–¹å·®é«˜ã€‚
- en: What is Feature Ranking?
  id: totrans-695
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯ç‰¹å¾æ’åï¼Ÿ
- en: Feature ranking is a set of metrics that assign relative importance or value
    to each predictor feature with respect to information contained for inference
    and importance in predicting a response feature. There are a wide variety of possible
    methods to accomplish this. My recommendation is a **â€˜wide-arrayâ€™** approach with
    multiple analyses and metrics, while understanding the assumptions and limitations
    of each method.
  id: totrans-696
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åæ˜¯ä¸€ç»„æŒ‡æ ‡ï¼Œå®ƒä»¬æ ¹æ®åŒ…å«åœ¨æ¨ç†ä¸­çš„ä¿¡æ¯å’Œé¢„æµ‹å“åº”ç‰¹å¾çš„é‡è¦æ€§ï¼Œä¸ºæ¯ä¸ªé¢„æµ‹ç‰¹å¾åˆ†é…ç›¸å¯¹é‡è¦æ€§æˆ–ä»·å€¼ã€‚æœ‰å„ç§å„æ ·çš„å¯èƒ½æ–¹æ³•æ¥å®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚æˆ‘çš„å»ºè®®æ˜¯é‡‡ç”¨**â€œå®½æ•°ç»„â€**æ–¹æ³•ï¼Œç»“åˆå¤šç§åˆ†æå’ŒæŒ‡æ ‡ï¼ŒåŒæ—¶ç†è§£æ¯ç§æ–¹æ³•çš„å‡è®¾å’Œå±€é™æ€§ã€‚
- en: Hereâ€™s the general types of metrics that we consider for feature ranking.
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯æˆ‘ä»¬è€ƒè™‘ç”¨äºç‰¹å¾æ’åçš„ä¸€èˆ¬ç±»å‹æŒ‡æ ‡ã€‚
- en: Visual Inspection of Data Distributions and Scatter Plots
  id: totrans-698
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ•°æ®åˆ†å¸ƒå’Œæ•£ç‚¹å›¾çš„è§†è§‰æ£€æŸ¥
- en: Statistical Summaries
  id: totrans-699
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç»Ÿè®¡æ‘˜è¦
- en: Model-based
  id: totrans-700
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åŸºäºæ¨¡å‹
- en: Recursive Feature Elimination
  id: totrans-701
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€’å½’ç‰¹å¾æ¶ˆé™¤
- en: Also, we should not neglect expert knowledge. If additional information is known
    about physical processes, causation, reliability and availability of predictor
    features this should be integrated into assigning feature ranking.
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸åº”å¿½è§†ä¸“å®¶çŸ¥è¯†ã€‚å¦‚æœå…³äºç‰©ç†è¿‡ç¨‹ã€å› æœå…³ç³»ã€é¢„æµ‹ç‰¹å¾çš„å¯ä¿¡åº¦å’Œå¯ç”¨æ€§æœ‰é¢å¤–çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯åº”æ•´åˆåˆ°åˆ†é…ç‰¹å¾æ’åä¸­ã€‚
- en: Load the Required Libraries
  id: totrans-703
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½æ‰€éœ€çš„åº“
- en: The following code loads the required libraries.
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ä»£ç åŠ è½½äº†æ‰€éœ€çš„åº“ã€‚
- en: '[PRE66]'
  id: totrans-705
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: '[PRE67]'
  id: totrans-706
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: We will also need some standard packages. These should have been installed with
    Anaconda 3.
  id: totrans-707
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›æ ‡å‡†åŒ…ã€‚è¿™äº›åŒ…åº”è¯¥å·²ç»ä¸Anaconda 3ä¸€èµ·å®‰è£…ã€‚
- en: '[PRE68]'
  id: totrans-708
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: For the Shapley value approach for feature ranking we need an additional package
    and to start up javascript support.
  id: totrans-709
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç‰¹å¾æ’åçš„Shapleyå€¼æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé¢å¤–çš„åŒ…ä»¥åŠå¯åŠ¨JavaScriptæ”¯æŒã€‚
- en: after running this block you should see a hexagon with the text â€˜jsâ€™ to indicate
    that javascript is ready
  id: totrans-710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿è¡Œæ­¤ä»£ç å—åï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ªå¸¦æœ‰æ–‡æœ¬â€˜jsâ€™çš„å…­è¾¹å½¢ï¼Œä»¥è¡¨ç¤ºJavaScriptå·²å°±ç»ª
- en: '[PRE69]'
  id: totrans-711
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: '![](../Images/70b822753245ba6bb888425de8eb62b5.png)'
  id: totrans-712
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/70b822753245ba6bb888425de8eb62b5.png)'
- en: If you get a package import error, you may have to first install some of these
    packages. This can usually be accomplished by opening up a command window on Windows
    and then typing â€˜python -m pip install [package-name]â€™. More assistance is available
    with the respective package docs.
  id: totrans-713
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ‚¨é‡åˆ°åŒ…å¯¼å…¥é”™è¯¯ï¼Œæ‚¨å¯èƒ½éœ€è¦é¦–å…ˆå®‰è£…è¿™äº›åŒ…ä¸­çš„ä¸€äº›ã€‚è¿™é€šå¸¸å¯ä»¥é€šè¿‡åœ¨Windowsä¸Šæ‰“å¼€å‘½ä»¤çª—å£ï¼Œç„¶åè¾“å…¥â€˜python -m pip install
    [package-name]â€™æ¥å®Œæˆã€‚æœ‰å…³ç›¸åº”åŒ…çš„æ–‡æ¡£å¯ä»¥æä¾›æ›´å¤šå¸®åŠ©ã€‚
- en: Design Custom Color Map
  id: totrans-714
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾è®¡è‡ªå®šä¹‰é¢œè‰²å›¾
- en: Accounting for significance by masking nonsignificant values
  id: totrans-715
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡å±è”½éæ˜¾è‘—å€¼æ¥è€ƒè™‘æ˜¾è‘—æ€§
- en: for demonstration only currently, could be updated for each plot based on results
    confidence and uncertainty
  id: totrans-716
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç›®å‰ä»…ç”¨äºæ¼”ç¤ºï¼Œå¯ä»¥æ ¹æ®ç»“æœç½®ä¿¡åº¦å’Œä¸ç¡®å®šæ€§æ›´æ–°æ¯ä¸ªå›¾è¡¨
- en: '[PRE70]'
  id: totrans-717
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: Declare Functions
  id: totrans-718
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å£°æ˜å‡½æ•°
- en: 'Hereâ€™s a couple of functions to assist with calculating metrics for ranking
    and other plots:'
  id: totrans-719
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸€äº›å‡½æ•°å¯ä»¥å¸®åŠ©è®¡ç®—æ’åå’Œå…¶ä»–å›¾è¡¨çš„æŒ‡æ ‡ï¼š
- en: '**plot_corr** - plot a correlation matrix'
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**plot_corr** - ç»˜åˆ¶ç›¸å…³çŸ©é˜µ'
- en: '**partial_corr** - partial correlation coefficient'
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**partial_corr** - éƒ¨åˆ†ç›¸å…³ç³»æ•°'
- en: '**semipar_corr** - semipartial correlation coefficient'
  id: totrans-722
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**semipar_corr** - åŠéƒ¨åˆ†ç›¸å…³ç³»æ•°'
- en: '**mutual_matrix** - mutual information matrix, matrix of all pairwise mutual
    information'
  id: totrans-723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mutual_matrix** - äº’ä¿¡æ¯çŸ©é˜µï¼Œæ‰€æœ‰æˆå¯¹äº’ä¿¡æ¯çš„çŸ©é˜µ'
- en: '**mutual_information_objective** - my modified version of the MRMR loss function
    (Ixy - average(Ixx)) for feature ranking (uses all other predictor features)'
  id: totrans-724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**mutual_information_objective** - æˆ‘ä¿®æ”¹çš„MRMRæŸå¤±å‡½æ•°ç‰ˆæœ¬ï¼ˆIxy - Ixxçš„å¹³å‡å€¼ï¼‰ç”¨äºç‰¹å¾æ’åï¼ˆä½¿ç”¨æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾ï¼‰'
- en: '**delta_mutual_information_quotient** - change in mutual information quotient
    by adding and removing a specific feature (uses all other predictor features for
    the comparison)'
  id: totrans-725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**delta_mutual_information_quotient** - é€šè¿‡æ·»åŠ å’Œåˆ é™¤ç‰¹å®šç‰¹å¾æ¥æ”¹å˜äº’ä¿¡æ¯å•†çš„å˜åŒ–ï¼ˆç”¨äºæ¯”è¾ƒä½¿ç”¨æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾ï¼‰'
- en: '**weighted_avg_and_std** - average and standard deviation account for data
    weights'
  id: totrans-726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**weighted_avg_and_std** - å¹³å‡å€¼å’Œæ ‡å‡†å·®è€ƒè™‘æ•°æ®æƒé‡'
- en: '**weighted_percentile** - percentile accounting for data weights'
  id: totrans-727
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**weighted_percentile** - è€ƒè™‘æ•°æ®æƒé‡çš„ç™¾åˆ†ä½æ•°'
- en: '**histogram_bounds** - add confidence intervals to histograms'
  id: totrans-728
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**histogram_bounds** - å‘ç›´æ–¹å›¾æ·»åŠ ç½®ä¿¡åŒºé—´'
- en: '**add_grid** - convenience function to add major and minor gridlines to improve
    plot interpretability'
  id: totrans-729
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**add_grid** - æ·»åŠ ä¸»è¦å’Œæ¬¡è¦ç½‘æ ¼çº¿ä»¥å¢å¼ºç»˜å›¾å¯è§£é‡Šæ€§çš„ä¾¿åˆ©å‡½æ•°'
- en: 'Here are the functions:'
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯å‡½æ•°ï¼š
- en: '[PRE71]'
  id: totrans-731
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: Set the Working Directory
  id: totrans-732
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½®å·¥ä½œç›®å½•
- en: I always like to do this so I donâ€™t lose files and to simplify subsequent read
    and writes (avoid including the full address each time).
  id: totrans-733
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ€»æ˜¯å–œæ¬¢è¿™æ ·åšï¼Œè¿™æ ·æˆ‘å°±ä¸ä¼šä¸¢å¤±æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥ç®€åŒ–åç»­çš„è¯»å–å’Œå†™å…¥ï¼ˆé¿å…æ¯æ¬¡éƒ½åŒ…å«å®Œæ•´åœ°å€ï¼‰ã€‚
- en: '[PRE72]'
  id: totrans-734
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: You will have to update the part in quotes with your own working directory and
    the format is different on a Mac (e.g. â€œ~/PGEâ€).
  id: totrans-735
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å°†ä¸å¾—ä¸æ›´æ–°å¼•å·ä¸­çš„éƒ¨åˆ†ä»¥åŒ…å«æ‚¨è‡ªå·±çš„å·¥ä½œç›®å½•ï¼Œå¹¶ä¸”æ ¼å¼åœ¨Macä¸Šä¸åŒï¼ˆä¾‹å¦‚ï¼Œâ€œ~/PGEâ€ï¼‰ã€‚
- en: Loading Tabular Data
  id: totrans-736
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠ è½½è¡¨æ ¼æ•°æ®
- en: Hereâ€™s the command to load our comma delimited data file in to a Pandasâ€™ DataFrame
    object.
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å°†æˆ‘ä»¬çš„é€—å·åˆ†éš”æ•°æ®æ–‡ä»¶åŠ è½½åˆ°Pandas DataFrameå¯¹è±¡çš„å‘½ä»¤ã€‚
- en: 'Letâ€™s load the provided multivariate, spatial dataset â€˜unconv_MV.csvâ€™. This
    dataset has variables from 1,000 unconventional wells including:'
  id: totrans-738
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åŠ è½½æä¾›çš„å¤šå…ƒç©ºé—´æ•°æ®é›†â€˜unconv_MV.csvâ€™ã€‚è¿™ä¸ªæ•°æ®é›†åŒ…æ‹¬æ¥è‡ª1,000ä¸ªéå¸¸è§„äº•çš„å˜é‡ï¼ŒåŒ…æ‹¬ï¼š
- en: well average porosity
  id: totrans-739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: äº•å¹³å‡å­”éš™ç‡
- en: log transform of permeability (to linearize the relationships with other variables)
  id: totrans-740
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¸—é€ç‡çš„å¯¹æ•°å˜æ¢ï¼ˆä»¥çº¿æ€§åŒ–ä¸å…¶ä»–å˜é‡çš„å…³ç³»ï¼‰
- en: acoustic impedance (kg/m^3 x m/s x 10^6)
  id: totrans-741
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å£°æ³¢é˜»æŠ—ï¼ˆkg/m^3 x m/s x 10^6ï¼‰
- en: brittleness ratio (%)
  id: totrans-742
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å²©çŸ³è„†æ€§æ¯”ï¼ˆ%ï¼‰
- en: total organic carbon (%)
  id: totrans-743
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ€»æœ‰æœºç¢³ï¼ˆ%ï¼‰
- en: vitrinite reflectance (%)
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»ç’ƒè´¨åå°„ç‡ï¼ˆ%ï¼‰
- en: initial production 90 day average (MCFPD).
  id: totrans-745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åˆå§‹ç”Ÿäº§90å¤©å¹³å‡ï¼ˆMCFPDï¼‰ã€‚
- en: Note, the dataset is synthetic.
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œæ•°æ®é›†æ˜¯åˆæˆçš„ã€‚
- en: We load it with the pandas â€˜read_csvâ€™ function into a DataFrame we called â€˜my_dataâ€™
    and then preview it to make sure it loaded correctly.
  id: totrans-747
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨pandasçš„â€˜read_csvâ€™å‡½æ•°å°†å…¶åŠ è½½åˆ°åä¸ºâ€˜my_dataâ€™çš„DataFrameä¸­ï¼Œç„¶åé¢„è§ˆä»¥ç¡®ä¿æ­£ç¡®åŠ è½½ã€‚
- en: '[PRE73]'
  id: totrans-748
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: '[PRE74]'
  id: totrans-749
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'We can also establish the feature ranges for plotting. We could calculate the
    feature range directly from the data with code like this:'
  id: totrans-750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºç»˜å›¾å»ºç«‹ç‰¹å¾èŒƒå›´ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ç›´æ¥ä»æ•°æ®ä¸­è®¡ç®—ç‰¹å¾èŒƒå›´ï¼š
- en: '[PRE75]'
  id: totrans-751
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: but, this would not result in easy to understand color bars and axis scales,
    letâ€™s pick convenient round numbers. We will also declare feature labels for ease
    of plotting.
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ï¼Œè¿™ä¸ä¼šå¯¼è‡´æ˜“äºç†è§£çš„è‰²æ¡å’Œåæ ‡è½´åˆ»åº¦ï¼Œè®©æˆ‘ä»¬é€‰æ‹©æ–¹ä¾¿çš„æ•´æ•°ã€‚æˆ‘ä»¬è¿˜å°†å£°æ˜ç‰¹å¾æ ‡ç­¾ä»¥æ–¹ä¾¿ç»˜å›¾ã€‚
- en: Visualize the DataFrame
  id: totrans-753
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–DataFrame
- en: Visualizing the DataFrame is useful first check of the data.
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–DataFrameæ˜¯æ•°æ®çš„ç¬¬ä¸€æ­¥æ£€æŸ¥ã€‚
- en: many things can go wrong, e.g., we loaded the wrong data, all the features did
    not load, etc.
  id: totrans-755
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¸å¤šäº‹æƒ…å¯èƒ½ä¼šå‡ºé”™ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬åŠ è½½äº†é”™è¯¯çš„æ•°æ®ï¼Œæ‰€æœ‰ç‰¹å¾éƒ½æ²¡æœ‰åŠ è½½ï¼Œç­‰ç­‰ã€‚
- en: We can preview by utilizing the â€˜headâ€™ DataFrame member function (with a nice
    and clean format, see below).
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨â€˜headâ€™ DataFrameæˆå‘˜å‡½æ•°æ¥é¢„è§ˆï¼ˆæ ¼å¼æ•´æ´ï¼Œè§ä¸‹æ–‡ï¼‰ã€‚
- en: add parameter â€˜n=13â€™ to see the first 13 rows of the dataset.
  id: totrans-757
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ·»åŠ å‚æ•°â€˜n=13â€™ä»¥æŸ¥çœ‹æ•°æ®é›†çš„å‰13è¡Œã€‚
- en: '[PRE76]'
  id: totrans-758
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: '|  | Well | Por | Perm | AI | Brittle | TOC | VR | Prod |'
  id: totrans-759
  prefs: []
  type: TYPE_TB
  zh: '|  | äº• | å­” | æ¸— | AI | è„†æ€§ | TOC | VR | äº§ |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-760
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| 0 | 1 | 12.08 | 2.92 | 2.80 | 81.40 | 1.16 | 2.31 | 1695.360819 |'
  id: totrans-761
  prefs: []
  type: TYPE_TB
  zh: '| 0 | 1 | 12.08 | 2.92 | 2.80 | 81.40 | 1.16 | 2.31 | 1695.360819 |'
- en: '| 1 | 2 | 12.38 | 3.53 | 3.22 | 46.17 | 0.89 | 1.88 | 3007.096063 |'
  id: totrans-762
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 2 | 12.38 | 3.53 | 3.22 | 46.17 | 0.89 | 1.88 | 3007.096063 |'
- en: '| 2 | 3 | 14.02 | 2.59 | 4.01 | 72.80 | 0.89 | 2.72 | 2531.938259 |'
  id: totrans-763
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 3 | 14.02 | 2.59 | 4.01 | 72.80 | 0.89 | 2.72 | 2531.938259 |'
- en: '| 3 | 4 | 17.67 | 6.75 | 2.63 | 39.81 | 1.08 | 1.88 | 5288.514854 |'
  id: totrans-764
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 4 | 17.67 | 6.75 | 2.63 | 39.81 | 1.08 | 1.88 | 5288.514854 |'
- en: '| 4 | 5 | 17.52 | 4.57 | 3.18 | 10.94 | 1.51 | 1.90 | 2859.469624 |'
  id: totrans-765
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 5 | 17.52 | 4.57 | 3.18 | 10.94 | 1.51 | 1.90 | 2859.469624 |'
- en: '| 5 | 6 | 14.53 | 4.81 | 2.69 | 53.60 | 0.94 | 1.67 | 4017.374438 |'
  id: totrans-766
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 6 | 14.53 | 4.81 | 2.69 | 53.60 | 0.94 | 1.67 | 4017.374438 |'
- en: '| 6 | 7 | 13.49 | 3.60 | 2.93 | 63.71 | 0.80 | 1.85 | 2952.812773 |'
  id: totrans-767
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 7 | 13.49 | 3.60 | 2.93 | 63.71 | 0.80 | 1.85 | 2952.812773 |'
- en: '| 7 | 8 | 11.58 | 3.03 | 3.25 | 53.00 | 0.69 | 1.93 | 2670.933846 |'
  id: totrans-768
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 8 | 11.58 | 3.03 | 3.25 | 53.00 | 0.69 | 1.93 | 2670.933846 |'
- en: '| 8 | 9 | 12.52 | 2.72 | 2.43 | 65.77 | 0.95 | 1.98 | 2474.048178 |'
  id: totrans-769
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 9 | 12.52 | 2.72 | 2.43 | 65.77 | 0.95 | 1.98 | 2474.048178 |'
- en: '| 9 | 10 | 13.25 | 3.94 | 3.71 | 66.20 | 1.14 | 2.65 | 2722.893266 |'
  id: totrans-770
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 10 | 13.25 | 3.94 | 3.71 | 66.20 | 1.14 | 2.65 | 2722.893266 |'
- en: '| 10 | 11 | 15.04 | 4.39 | 2.22 | 61.11 | 1.08 | 1.77 | 3828.247174 |'
  id: totrans-771
  prefs: []
  type: TYPE_TB
  zh: '| 10 | 11 | 15.04 | 4.39 | 2.22 | 61.11 | 1.08 | 1.77 | 3828.247174 |'
- en: '| 11 | 12 | 16.19 | 6.30 | 2.29 | 49.10 | 1.53 | 1.86 | 5095.810104 |'
  id: totrans-772
  prefs: []
  type: TYPE_TB
  zh: '| 11 | 12 | 16.19 | 6.30 | 2.29 | 49.10 | 1.53 | 1.86 | 5095.810104 |'
- en: '| 12 | 13 | 16.82 | 5.42 | 2.80 | 66.65 | 1.17 | 1.98 | 4091.637316 |'
  id: totrans-773
  prefs: []
  type: TYPE_TB
  zh: '| 12 | 13 | 16.82 | 5.42 | 2.80 | 66.65 | 1.17 | 1.98 | 4091.637316 |'
- en: Summary Statistics for Tabular Data
  id: totrans-774
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¡¨æ ¼æ•°æ®çš„æ‘˜è¦ç»Ÿè®¡
- en: There are a lot of efficient methods to calculate summary statistics from tabular
    data in DataFrames. The describe command provides count, mean, minimum, maximum,
    and quartiles all in a nice data table.
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨DataFramesä¸­ï¼Œæœ‰å¾ˆå¤šé«˜æ•ˆçš„æ–¹æ³•å¯ä»¥è®¡ç®—è¡¨æ ¼æ•°æ®çš„æ‘˜è¦ç»Ÿè®¡ä¿¡æ¯ã€‚describeå‘½ä»¤æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„æ•°æ®è¡¨ï¼Œæä¾›äº†è®¡æ•°ã€å¹³å‡å€¼ã€æœ€å°å€¼ã€æœ€å¤§å€¼å’Œå››åˆ†ä½æ•°ã€‚
- en: We use transpose just to flip the table so that features are on the rows and
    the statistics are on the columns.
  id: totrans-776
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨è½¬ç½®åªæ˜¯ä¸ºäº†è®©è¡¨æ ¼ç¿»è½¬ï¼Œä½¿å¾—ç‰¹å¾åœ¨è¡Œä¸Šï¼Œç»Ÿè®¡ä¿¡æ¯åœ¨åˆ—ä¸Šã€‚
- en: '[PRE77]'
  id: totrans-777
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: '|  | count | mean | std | min | 25% | 50% | 75% | max |'
  id: totrans-778
  prefs: []
  type: TYPE_TB
  zh: '|  | count | mean | std | min | 25% | 50% | 75% | max |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-779
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| Well | 200.0 | 100.500000 | 57.879185 | 1.000000 | 50.750000 | 100.500000
    | 150.250000 | 200.000000 |'
  id: totrans-780
  prefs: []
  type: TYPE_TB
  zh: '| Well | 200.0 | 100.500000 | 57.879185 | 1.000000 | 50.750000 | 100.500000
    | 150.250000 | 200.000000 |'
- en: '| Por | 200.0 | 14.991150 | 2.971176 | 6.550000 | 12.912500 | 15.070000 | 17.402500
    | 23.550000 |'
  id: totrans-781
  prefs: []
  type: TYPE_TB
  zh: '| Por | 200.0 | 14.991150 | 2.971176 | 6.550000 | 12.912500 | 15.070000 | 17.402500
    | 23.550000 |'
- en: '| Perm | 200.0 | 4.330750 | 1.731014 | 1.130000 | 3.122500 | 4.035000 | 5.287500
    | 9.870000 |'
  id: totrans-782
  prefs: []
  type: TYPE_TB
  zh: '| Perm | 200.0 | 4.330750 | 1.731014 | 1.130000 | 3.122500 | 4.035000 | 5.287500
    | 9.870000 |'
- en: '| AI | 200.0 | 2.968850 | 0.566885 | 1.280000 | 2.547500 | 2.955000 | 3.345000
    | 4.630000 |'
  id: totrans-783
  prefs: []
  type: TYPE_TB
  zh: '| AI | 200.0 | 2.968850 | 0.566885 | 1.280000 | 2.547500 | 2.955000 | 3.345000
    | 4.630000 |'
- en: '| Brittle | 200.0 | 48.161950 | 14.129455 | 10.940000 | 37.755000 | 49.510000
    | 58.262500 | 84.330000 |'
  id: totrans-784
  prefs: []
  type: TYPE_TB
  zh: '| Brittle | 200.0 | 48.161950 | 14.129455 | 10.940000 | 37.755000 | 49.510000
    | 58.262500 | 84.330000 |'
- en: '| TOC | 200.0 | 0.990450 | 0.481588 | -0.190000 | 0.617500 | 1.030000 | 1.350000
    | 2.180000 |'
  id: totrans-785
  prefs: []
  type: TYPE_TB
  zh: '| TOC | 200.0 | 0.990450 | 0.481588 | -0.190000 | 0.617500 | 1.030000 | 1.350000
    | 2.180000 |'
- en: '| VR | 200.0 | 1.964300 | 0.300827 | 0.930000 | 1.770000 | 1.960000 | 2.142500
    | 2.870000 |'
  id: totrans-786
  prefs: []
  type: TYPE_TB
  zh: '| VR | 200.0 | 1.964300 | 0.300827 | 0.930000 | 1.770000 | 1.960000 | 2.142500
    | 2.870000 |'
- en: '| Prod | 200.0 | 3864.407081 | 1553.277558 | 839.822063 | 2686.227611 | 3604.303506
    | 4752.637555 | 8590.384044 |'
  id: totrans-787
  prefs: []
  type: TYPE_TB
  zh: '| Prod | 200.0 | 3864.407081 | 1553.277558 | 839.822063 | 2686.227611 | 3604.303506
    | 4752.637555 | 8590.384044 |'
- en: Ranking features is really an effort to understand the features and their relationships
    with each other. We will start with basic data visualization and move to more
    complicated methods such are partial correlation and recursive feature elimination.
  id: totrans-788
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åå®é™…ä¸Šæ˜¯ä¸€é¡¹ç†è§£ç‰¹å¾åŠå…¶ç›¸äº’å…³ç³»çš„åŠªåŠ›ã€‚æˆ‘ä»¬å°†ä»åŸºæœ¬çš„æ•°æ®å¯è§†åŒ–å¼€å§‹ï¼Œç„¶åè½¬å‘æ›´å¤æ‚çš„æ–¹æ³•ï¼Œå¦‚åç›¸å…³å’Œé€’å½’ç‰¹å¾æ¶ˆé™¤ã€‚
- en: Coverage
  id: totrans-789
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¦†ç›–ç‡
- en: Letâ€™s start with the concept of feature coverage.
  id: totrans-790
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ç‰¹å¾è¦†ç›–çš„æ¦‚å¿µå¼€å§‹ã€‚
- en: If a feature is available over a small proportion of the samples then we may
    not want to include it as it will result in issues with feature imputation, estimation
    of missing data.
  id: totrans-791
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœä¸€ä¸ªç‰¹å¾åœ¨æ ·æœ¬ä¸­çš„æ¯”ä¾‹å¾ˆå°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¸æƒ³åŒ…å«å®ƒï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´ç‰¹å¾æ’è¡¥ã€ç¼ºå¤±æ•°æ®ä¼°è®¡ç­‰é—®é¢˜ã€‚
- en: By removing a couple features with poor coverage we may improve our model because
    there are limitations with feature imputation, feature imputation can actually
    impose bias in statistics and additional error in our prediction models
  id: totrans-792
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€šè¿‡ç§»é™¤ä¸€äº›è¦†ç›–ç‡è¾ƒå·®çš„ç‰¹å¾ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ”¹è¿›æˆ‘ä»¬çš„æ¨¡å‹ï¼Œå› ä¸ºç‰¹å¾æ’è¡¥å­˜åœ¨å±€é™æ€§ï¼Œç‰¹å¾æ’è¡¥å®é™…ä¸Šä¼šåœ¨ç»Ÿè®¡æ•°æ®å’Œæˆ‘ä»¬çš„é¢„æµ‹æ¨¡å‹ä¸­å¼•å…¥åå·®å’Œé¢å¤–çš„è¯¯å·®
- en: if likewise deletion is applied to deal with missing values, features with low
    coverage result in a lot of removed data!
  id: totrans-793
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœåº”ç”¨ç±»ä¼¼çš„åˆ é™¤æ¥å¤„ç†ç¼ºå¤±å€¼ï¼Œè¦†ç›–ç‡ä½çš„ç‰¹å¾ä¼šå¯¼è‡´å¤§é‡æ•°æ®è¢«åˆ é™¤ï¼
- en: 'Letâ€™s start with a bar chart with the proportion of missing records:'
  id: totrans-794
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»å¸¦æœ‰ç¼ºå¤±è®°å½•æ¯”ä¾‹çš„æŸ±çŠ¶å›¾å¼€å§‹ï¼š
- en: '[PRE78]'
  id: totrans-795
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: '![_images/6b56bb06fe01cd87f3513b8ebe3a71bb409619f34b70e4dd2bd50d61e5c4e62d.png](../Images/e5a834b70ca47ad151aee5749adc53ce.png)'
  id: totrans-796
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/e5a834b70ca47ad151aee5749adc53ce.png)'
- en: For the provided example dataset the plot should be empty. There are no missing
    data so the â€˜Proportion of Missing Recordsâ€™ is 0.0 for all features.
  id: totrans-797
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæä¾›çš„ç¤ºä¾‹æ•°æ®é›†ï¼Œå›¾è¡¨åº”è¯¥æ˜¯ç©ºçš„ã€‚æ²¡æœ‰ç¼ºå¤±æ•°æ®ï¼Œå› æ­¤æ‰€æœ‰ç‰¹å¾çš„â€œç¼ºå¤±è®°å½•æ¯”ä¾‹â€éƒ½æ˜¯0.0ã€‚
- en: 'If you wanted to test this plot with some missing data, run this code first:'
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³æµ‹è¯•è¿™ä¸ªå›¾è¡¨å¹¶åŒ…å«ä¸€äº›ç¼ºå¤±æ•°æ®ï¼Œè¯·å…ˆè¿è¡Œä»¥ä¸‹ä»£ç ï¼š
- en: '[PRE79]'
  id: totrans-799
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: Remove this code and reload the data to continue to get consistent results with
    the discussions below.
  id: totrans-800
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ é™¤æ­¤ä»£ç å¹¶é‡æ–°åŠ è½½æ•°æ®ï¼Œä»¥ç»§ç»­è·å¾—ä¸ä»¥ä¸‹è®¨è®ºä¸€è‡´çš„ç»“æœã€‚
- en: This does not tell the whole story. For example, if 20% of feature A is missing
    and 20% of feature B is missing are those the same and different samples. This
    has a huge impact if you perform likewise deletion.
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¹¶æ²¡æœ‰è®²è¿°æ•´ä¸ªæ•…äº‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç‰¹å¾Açš„20%ç¼ºå¤±ï¼Œç‰¹å¾Bçš„20%ç¼ºå¤±ï¼Œè¿™äº›æ˜¯å¦æ˜¯ç›¸åŒçš„æ ·æœ¬å’Œä¸åŒçš„æ ·æœ¬ã€‚å¦‚æœä½ æ‰§è¡Œç±»ä¼¼çš„åˆ é™¤ï¼Œè¿™ä¼šæœ‰å·¨å¤§çš„å½±å“ã€‚
- en: If there is not too much data then we can actually visualize data coverage over
    all samples and features in a boolean table like this.
  id: totrans-802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœæ•°æ®ä¸æ˜¯å¤ªå¤šï¼Œæˆ‘ä»¬å®é™…ä¸Šå¯ä»¥åœ¨è¿™æ ·çš„å¸ƒå°”è¡¨ä¸­å¯è§†åŒ–æ‰€æœ‰æ ·æœ¬å’Œç‰¹å¾çš„æ•°æ®è¦†ç›–æƒ…å†µã€‚
- en: This method may identify specific samples with many missing features that may
    be removed to improve overall coverage or other trends or structures in the missing
    data that may result in sampling bias.
  id: totrans-803
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ­¤æ–¹æ³•å¯èƒ½è¯†åˆ«å‡ºå…·æœ‰è®¸å¤šç¼ºå¤±ç‰¹å¾çš„ç‰¹å®šæ ·æœ¬ï¼Œè¿™äº›æ ·æœ¬å¯èƒ½è¢«ç§»é™¤ä»¥æé«˜æ•´ä½“è¦†ç›–èŒƒå›´æˆ–å¯¼è‡´é‡‡æ ·åå·®çš„ç¼ºå¤±æ•°æ®ä¸­çš„å…¶ä»–è¶‹åŠ¿æˆ–ç»“æ„ã€‚
- en: '[PRE80]'
  id: totrans-804
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: '![_images/5849f3ca4f8301f49db8799952b591b62475a866fcaa2646497f042118e36aa0.png](../Images/9b8b2b5fe0360995f89df5950e3ed23d.png)'
  id: totrans-805
  prefs: []
  type: TYPE_IMG
  zh: '![_images/5849f3ca4f8301f49db8799952b591b62475a866fcaa2646497f042118e36aa0.png](../Images/9b8b2b5fe0360995f89df5950e3ed23d.png)'
- en: Once again this plot should be quite boring for the provided dataset with perfect
    coverage, every cell should be filled in red.
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡å¼ºè°ƒï¼Œå¯¹äºå…·æœ‰å®Œç¾è¦†ç›–çš„æä¾›æ•°æ®é›†ï¼Œæ­¤å›¾åº”è¯¥ç›¸å½“æ— èŠï¼Œæ¯ä¸ªå•å…ƒæ ¼éƒ½åº”è¯¥ç”¨çº¢è‰²å¡«å……ã€‚
- en: add the code to remove some records to test this plot. White cells are missing
    records.
  id: totrans-807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ·»åŠ ä»£ç ä»¥åˆ é™¤ä¸€äº›è®°å½•ä»¥æµ‹è¯•æ­¤å›¾ã€‚ç©ºç™½å•å…ƒæ ¼è¡¨ç¤ºç¼ºå¤±è®°å½•ã€‚
- en: Feature Imputation
  id: totrans-808
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’è¡¥
- en: See the chapter on feature imputation to learn what to do about missing data.
  id: totrans-809
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·å‚é˜…å…³äºç‰¹å¾æ’è¡¥çš„ç« èŠ‚ï¼Œäº†è§£å¦‚ä½•å¤„ç†ç¼ºå¤±æ•°æ®ã€‚
- en: For now a concise treatment here, we will just apply likewise deletion and move
    on.
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®å‰åœ¨è¿™é‡Œè¿›è¡Œç®€è¦å¤„ç†ï¼Œæˆ‘ä»¬åªæ˜¯åº”ç”¨ç±»ä¼¼çš„åˆ é™¤å¹¶ç»§ç»­ã€‚
- en: we remove all samples with any missing feature values. While this is quite simple,
    it is a sledge hammer approach to ensure perfect coverage required by feature
    ranking methods that we are about to demonstrate. Please check out the other methods
    in the linked workflow above.
  id: totrans-811
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç§»é™¤æ‰€æœ‰å…·æœ‰ä»»ä½•ç¼ºå¤±ç‰¹å¾å€¼çš„æ ·æœ¬ã€‚è™½ç„¶è¿™å¾ˆç®€å•ï¼Œä½†è¿™æ˜¯ç¡®ä¿æˆ‘ä»¬å³å°†å±•ç¤ºçš„ç‰¹å¾æ’åæ–¹æ³•æ‰€éœ€å®Œç¾è¦†ç›–çš„ä¸€ç§ç®€å•ç²—æš´çš„æ–¹æ³•ã€‚è¯·æŸ¥çœ‹ä¸Šé¢é“¾æ¥çš„å·¥ä½œæµç¨‹ä¸­çš„å…¶ä»–æ–¹æ³•ã€‚
- en: '[PRE81]'
  id: totrans-812
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: Feature Imputation
  id: totrans-813
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’è¡¥
- en: See the chapter on feature imputation to learn what to do about missing data.
  id: totrans-814
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·å‚é˜…å…³äºç‰¹å¾æ’è¡¥çš„ç« èŠ‚ï¼Œäº†è§£å¦‚ä½•å¤„ç†ç¼ºå¤±æ•°æ®ã€‚
- en: For now a concise treatment here, we will just apply likewise deletion and move
    on.
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®å‰åœ¨è¿™é‡Œè¿›è¡Œç®€è¦å¤„ç†ï¼Œæˆ‘ä»¬åªæ˜¯åº”ç”¨ç±»ä¼¼çš„åˆ é™¤å¹¶ç»§ç»­ã€‚
- en: we remove all samples with any missing feature values. While this is quite simple,
    it is a sledge hammer approach to ensure perfect coverage required by feature
    ranking methods that we are about to demonstrate. Please check out the other methods
    in the linked workflow above.
  id: totrans-816
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç§»é™¤æ‰€æœ‰å…·æœ‰ä»»ä½•ç¼ºå¤±ç‰¹å¾å€¼çš„æ ·æœ¬ã€‚è™½ç„¶è¿™å¾ˆç®€å•ï¼Œä½†è¿™æ˜¯ç¡®ä¿æˆ‘ä»¬å³å°†å±•ç¤ºçš„ç‰¹å¾æ’åæ–¹æ³•æ‰€éœ€å®Œç¾è¦†ç›–çš„ä¸€ç§ç®€å•ç²—æš´çš„æ–¹æ³•ã€‚è¯·æŸ¥çœ‹ä¸Šé¢é“¾æ¥çš„å·¥ä½œæµç¨‹ä¸­çš„å…¶ä»–æ–¹æ³•ã€‚
- en: '[PRE82]'
  id: totrans-817
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: Summary Statistics
  id: totrans-818
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‘˜è¦ç»Ÿè®¡
- en: 'In any multivariate work we should start with the univariate analysis, summary
    statistics of one variable at a time. The summary statistic ranking method is
    qualitative, we are asking:'
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä»»ä½•å¤šå…ƒåˆ†æå·¥ä½œä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ä»å•å˜é‡åˆ†æå¼€å§‹ï¼Œä¸€æ¬¡åˆ†æä¸€ä¸ªå˜é‡çš„æ‘˜è¦ç»Ÿè®¡ã€‚æ‘˜è¦ç»Ÿè®¡æ’åæ–¹æ³•æ˜¯å®šæ€§çš„ï¼Œæˆ‘ä»¬æ­£åœ¨è¯¢é—®ï¼š
- en: Are there data issues?
  id: totrans-820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ˜¯å¦å­˜åœ¨æ•°æ®é—®é¢˜ï¼Ÿ
- en: Do we trust the features? Do we trust the features all equally?
  id: totrans-821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ˜¯å¦ä¿¡ä»»è¿™äº›ç‰¹å¾ï¼Ÿæˆ‘ä»¬æ˜¯å¦åŒç­‰ä¿¡ä»»æ‰€æœ‰ç‰¹å¾ï¼Ÿ
- en: Are there issues that need to be taken care of before we develop any multivariate
    workflows?
  id: totrans-822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬å¼€å‘ä»»ä½•å¤šå…ƒå·¥ä½œæµç¨‹ä¹‹å‰ï¼Œæ˜¯å¦æœ‰éœ€è¦å¤„ç†çš„é—®é¢˜ï¼Ÿ
- en: There are a lot of efficient methods to calculate summary statistics from tabular
    data in DataFrames. The describe command provides count, mean, minimum, maximum,
    and quartiles all in a compact data table. We use transpose() command to flip
    the table so that features are on the rows and the statistics are on the columns.
  id: totrans-823
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨DataFramesä¸­ï¼Œæœ‰è®¸å¤šé«˜æ•ˆçš„æ–¹æ³•å¯ä»¥è®¡ç®—è¡¨æ ¼æ•°æ®çš„æ‘˜è¦ç»Ÿè®¡ã€‚`describe`å‘½ä»¤æä¾›äº†ä¸€ä¸ªç´§å‡‘çš„æ•°æ®è¡¨ï¼Œå…¶ä¸­åŒ…æ‹¬è®¡æ•°ã€å¹³å‡å€¼ã€æœ€å°å€¼ã€æœ€å¤§å€¼å’Œå››åˆ†ä½æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨`transpose()`å‘½ä»¤ç¿»è½¬è¡¨æ ¼ï¼Œä½¿å¾—ç‰¹å¾ä½äºè¡Œä¸Šï¼Œè€Œç»Ÿè®¡å€¼ä½äºåˆ—ä¸Šã€‚
- en: '[PRE83]'
  id: totrans-824
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: '|  | count | mean | std | min | 25% | 50% | 75% | max |'
  id: totrans-825
  prefs: []
  type: TYPE_TB
  zh: '|  | count | mean | std | min | 25% | 50% | 75% | max |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-826
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| Well | 200.0 | 100.500000 | 57.879185 | 1.000000 | 50.750000 | 100.500000
    | 150.250000 | 200.000000 |'
  id: totrans-827
  prefs: []
  type: TYPE_TB
  zh: '| Well | 200.0 | 100.500000 | 57.879185 | 1.000000 | 50.750000 | 100.500000
    | 150.250000 | 200.000000 |'
- en: '| Por | 200.0 | 14.991150 | 2.971176 | 6.550000 | 12.912500 | 15.070000 | 17.402500
    | 23.550000 |'
  id: totrans-828
  prefs: []
  type: TYPE_TB
  zh: '| Por | 200.0 | 14.991150 | 2.971176 | 6.550000 | 12.912500 | 15.070000 | 17.402500
    | 23.550000 |'
- en: '| Perm | 200.0 | 4.330750 | 1.731014 | 1.130000 | 3.122500 | 4.035000 | 5.287500
    | 9.870000 |'
  id: totrans-829
  prefs: []
  type: TYPE_TB
  zh: '| Perm | 200.0 | 4.330750 | 1.731014 | 1.130000 | 3.122500 | 4.035000 | 5.287500
    | 9.870000 |'
- en: '| AI | 200.0 | 2.968850 | 0.566885 | 1.280000 | 2.547500 | 2.955000 | 3.345000
    | 4.630000 |'
  id: totrans-830
  prefs: []
  type: TYPE_TB
  zh: '| AI | 200.0 | 2.968850 | 0.566885 | 1.280000 | 2.547500 | 2.955000 | 3.345000
    | 4.630000 |'
- en: '| Brittle | 200.0 | 48.161950 | 14.129455 | 10.940000 | 37.755000 | 49.510000
    | 58.262500 | 84.330000 |'
  id: totrans-831
  prefs: []
  type: TYPE_TB
  zh: '| Brittle | 200.0 | 48.161950 | 14.129455 | 10.940000 | 37.755000 | 49.510000
    | 58.262500 | 84.330000 |'
- en: '| TOC | 200.0 | 0.990450 | 0.481588 | -0.190000 | 0.617500 | 1.030000 | 1.350000
    | 2.180000 |'
  id: totrans-832
  prefs: []
  type: TYPE_TB
  zh: '| TOC | 200.0 | 0.990450 | 0.481588 | -0.190000 | 0.617500 | 1.030000 | 1.350000
    | 2.180000 |'
- en: '| VR | 200.0 | 1.964300 | 0.300827 | 0.930000 | 1.770000 | 1.960000 | 2.142500
    | 2.870000 |'
  id: totrans-833
  prefs: []
  type: TYPE_TB
  zh: '| VR | 200.0 | 1.964300 | 0.300827 | 0.930000 | 1.770000 | 1.960000 | 2.142500
    | 2.870000 |'
- en: '| Prod | 200.0 | 3864.407081 | 1553.277558 | 839.822063 | 2686.227611 | 3604.303506
    | 4752.637555 | 8590.384044 |'
  id: totrans-834
  prefs: []
  type: TYPE_TB
  zh: '| Prod | 200.0 | 3864.407081 | 1553.277558 | 839.822063 | 2686.227611 | 3604.303506
    | 4752.637555 | 8590.384044 |'
- en: Summary statistics are a critical first step in data checking.
  id: totrans-835
  prefs: []
  type: TYPE_NORMAL
  zh: æ‘˜è¦ç»Ÿè®¡æ˜¯æ•°æ®æ£€æŸ¥çš„å…³é”®ç¬¬ä¸€æ­¥ã€‚
- en: this includes the number of valid (non-null) values for each feature (count
    removes all np.NaN from the totals for each variable).
  id: totrans-836
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™åŒ…æ‹¬æ¯ä¸ªç‰¹å¾çš„æœ‰æ•ˆï¼ˆéç©ºï¼‰å€¼çš„æ•°é‡ï¼ˆè®¡æ•°ä»æ¯ä¸ªå˜é‡çš„æ€»æ•°ä¸­ç§»é™¤äº†æ‰€æœ‰np.NaNï¼‰ã€‚
- en: we can see the general behaviors such as central tendency, mean, and dispersion,
    variance.
  id: totrans-837
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€èˆ¬è¡Œä¸ºï¼Œå¦‚ä¸­å¿ƒè¶‹åŠ¿ã€å‡å€¼å’Œåˆ†æ•£æ€§ã€æ–¹å·®ã€‚
- en: we can identify issue with negative values, extreme values, and values that
    are outside the range of plausible values for each property.
  id: totrans-838
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¯†åˆ«å‡ºä¸æ¯ä¸ªå±æ€§å¯èƒ½çš„å€¼èŒƒå›´ä¹‹å¤–çš„è´Ÿå€¼ã€æç«¯å€¼å’Œå€¼çš„é—®é¢˜ã€‚
- en: The data looks to be in pretty good shape and for brevity we skip outlier detection.
    Letâ€™s look at the univariate distributions.
  id: totrans-839
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ•°æ®çœ‹èµ·æ¥ç›¸å½“è‰¯å¥½ï¼Œä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘ä»¬è·³è¿‡å¼‚å¸¸å€¼æ£€æµ‹ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å•å˜é‡åˆ†å¸ƒã€‚
- en: Univariate Distributions
  id: totrans-840
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å•å˜é‡åˆ†å¸ƒ
- en: As with summary statistics, this ranking method is a qualitative check for issues
    with the data and to assess our confidence with each feature. It is better to
    not include a feature with low confidence of quality as it may be misleading (while
    adding to model complexity as discussed previously).
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸æ‘˜è¦ç»Ÿè®¡ä¸€æ ·ï¼Œè¿™ç§æ’åºæ–¹æ³•æ˜¯å¯¹æ•°æ®é—®é¢˜çš„å®šæ€§æ£€æŸ¥ï¼Œä»¥åŠè¯„ä¼°æˆ‘ä»¬å¯¹æ¯ä¸ªç‰¹å¾çš„ä¿¡å¿ƒã€‚æœ€å¥½ä¸åŒ…å«è´¨é‡ä¿¡å¿ƒä½çš„ç‰¹å¾ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼ï¼ˆåŒæ—¶å¦‚å‰æ‰€è¿°å¢åŠ äº†æ¨¡å‹å¤æ‚æ€§ï¼‰ã€‚
- en: '[PRE84]'
  id: totrans-842
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: '![_images/1b5c32c2236778514e0fd18a00eb66559f6030647523aca11be1a1e520a5693c.png](../Images/8a0c89fa0d885a7643839d04c23ff8be.png)'
  id: totrans-843
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/8a0c89fa0d885a7643839d04c23ff8be.png)'
- en: 'The univariate distributions look good:'
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: å•å˜é‡åˆ†å¸ƒçœ‹èµ·æ¥å¾ˆå¥½ï¼š
- en: there are no obvious outliers
  id: totrans-845
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ²¡æœ‰æ˜æ˜¾çš„å¼‚å¸¸å€¼ã€‚
- en: the permeability is positively skewed, as is often observed
  id: totrans-846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç©¿é€ç‡å‘ˆæ­£åæ€ï¼Œè¿™æ˜¯å¸¸è§çš„ç°è±¡ã€‚
- en: the corrected TOC has a small spike, but itâ€™s reasonable
  id: totrans-847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ ¡æ­£åçš„ç›®å½•è¡¨æœ‰ä¸€ä¸ªå°å³°å€¼ï¼Œä½†è¿™æ˜¯åˆç†çš„ã€‚
- en: Bivariate Distributions
  id: totrans-848
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŒå˜é‡åˆ†å¸ƒ
- en: Matrix scatter plots are a very efficient method to observe the bivariate relationships
    between the variables.
  id: totrans-849
  prefs: []
  type: TYPE_NORMAL
  zh: çŸ©é˜µæ•£ç‚¹å›¾æ˜¯è§‚å¯Ÿå˜é‡ä¹‹é—´åŒå˜é‡å…³ç³»çš„ä¸€ç§éå¸¸æœ‰æ•ˆçš„æ–¹æ³•ã€‚
- en: this is another opportunity through data visualization to identify data issues
  id: totrans-850
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™æ˜¯é€šè¿‡æ•°æ®å¯è§†åŒ–è¯†åˆ«æ•°æ®é—®é¢˜çš„å¦ä¸€ä¸ªæœºä¼š
- en: we can assess if we have collinearity, specifically simpler form between two
    features at a time.
  id: totrans-851
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¯„ä¼°æ˜¯å¦å­˜åœ¨å…±çº¿æ€§ï¼Œç‰¹åˆ«æ˜¯æ¯æ¬¡è¯„ä¼°ä¸¤ä¸ªç‰¹å¾ä¹‹é—´çš„ç®€å•å½¢å¼ã€‚
- en: '[PRE85]'
  id: totrans-852
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: '![_images/283204472327a4b7c8b5d3fcf91848aec9161f0646166a8de22e8d42f8dbdaf5.png](../Images/eb1c7e7e9920c8c27be71cd70df81661.png)'
  id: totrans-853
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/eb1c7e7e9920c8c27be71cd70df81661.png)'
- en: This plot communicates a lot of information. How could we use this plot for
    variable ranking?
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå›¾ä¼ è¾¾äº†å¤§é‡çš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¿™ä¸ªå›¾è¿›è¡Œå˜é‡æ’åºï¼Ÿ
- en: we can identify features that are closely related to each other, e.g., if two
    features have almost a perfect monotonic linear or near linear relationship we
    should remove one immediately. This is a simple case of collinearity that will
    likely result in model instability as discussed above.
  id: totrans-855
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¯†åˆ«å‡ºå½¼æ­¤ç´§å¯†ç›¸å…³çš„ç‰¹å¾ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä¸¤ä¸ªç‰¹å¾å‡ ä¹å…·æœ‰å®Œç¾çš„å•è°ƒçº¿æ€§æˆ–è¿‘çº¿æ€§å…³ç³»ï¼Œæˆ‘ä»¬åº”è¯¥ç«‹å³åˆ é™¤å…¶ä¸­ä¸€ä¸ªã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å…±çº¿æ€§æ¡ˆä¾‹ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¨¡å‹ä¸ç¨³å®šã€‚
- en: we can check for linear vs. non-linear relationships. If we observe nonlinear
    bivariate relationships this will impact the choice of methods, and the quality
    of results from methods that assume linear relationships for variable ranking.
  id: totrans-856
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥æ£€æŸ¥çº¿æ€§ä¸éçº¿æ€§å…³ç³»ã€‚å¦‚æœæˆ‘ä»¬è§‚å¯Ÿåˆ°éçº¿æ€§åŒå˜é‡å…³ç³»ï¼Œè¿™å°†å½±å“æ–¹æ³•çš„é€‰æ‹©ï¼Œä»¥åŠå‡è®¾å˜é‡æ’åºä¸ºçº¿æ€§å…³ç³»çš„æ–¹æ³•çš„è´¨é‡ã€‚
- en: we can identify constraint relationships and heteroscedasticity between variables.
    Once again these may restrict our ranking methods and also encourage us to retains
    specific features to retain these features in the resulting model.
  id: totrans-857
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è¯†åˆ«å˜é‡ä¹‹é—´çš„çº¦æŸå…³ç³»å’Œå¼‚æ–¹å·®æ€§ã€‚å†æ¬¡å¼ºè°ƒï¼Œè¿™äº›å¯èƒ½ä¼šé™åˆ¶æˆ‘ä»¬çš„æ’åºæ–¹æ³•ï¼Œå¹¶é¼“åŠ±æˆ‘ä»¬ä¿ç•™ç‰¹å®šç‰¹å¾ä»¥åœ¨ç»“æœæ¨¡å‹ä¸­ä¿ç•™è¿™äº›ç‰¹å¾ã€‚
- en: Yet, we must remember that bivariate visualization and analysis is not sufficient
    to understand all the multivariate relationships in the data, e.g., multicollinearity
    includes strong linear relationships between 2 or more features. These may be
    hard to see with only bivariate plots.
  id: totrans-858
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œæˆ‘ä»¬å¿…é¡»è®°ä½ï¼ŒåŒå˜é‡å¯è§†åŒ–å’Œåˆ†æä¸è¶³ä»¥ç†è§£æ•°æ®ä¸­çš„æ‰€æœ‰å¤šå˜é‡å…³ç³»ï¼Œä¾‹å¦‚ï¼Œå¤šé‡å…±çº¿æ€§åŒ…æ‹¬ä¸¤ä¸ªæˆ–æ›´å¤šç‰¹å¾ä¹‹é—´å¼ºçƒˆçš„çº¿æ€§å…³ç³»ã€‚è¿™äº›å…³ç³»ä»…é€šè¿‡åŒå˜é‡å›¾å¯èƒ½éš¾ä»¥çœ‹åˆ°ã€‚
- en: Pairwise Covariance
  id: totrans-859
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯¹åº”åæ–¹å·®
- en: 'Pairwise covariance provides a measure of the strength of the linear relationship
    between each predictor feature and the response feature. At this point, we specify
    that the goal of this study is to predict production, our response variable, from
    the other available predictor features. We are thinking predictively now, not
    inferentially, we want to estimate the function, \(\hat{f}\), to accomplish this:'
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: é…å¯¹åæ–¹å·®æä¾›äº†æ¯ä¸ªé¢„æµ‹ç‰¹å¾ä¸å“åº”ç‰¹å¾ä¹‹é—´çº¿æ€§å…³ç³»å¼ºåº¦çš„åº¦é‡ã€‚åœ¨æ­¤é˜¶æ®µï¼Œæˆ‘ä»¬æŒ‡å®šæœ¬ç ”ç©¶çš„ç›®çš„æ˜¯ä»å…¶ä»–å¯ç”¨çš„é¢„æµ‹ç‰¹å¾ä¸­é¢„æµ‹äº§é‡ï¼Œæˆ‘ä»¬çš„å“åº”å˜é‡ã€‚æˆ‘ä»¬ç°åœ¨å¤„äºé¢„æµ‹æ€ç»´çŠ¶æ€ï¼Œè€Œä¸æ˜¯æ¨æ–­æ€ç»´çŠ¶æ€ï¼Œæˆ‘ä»¬æƒ³è¦ä¼°è®¡å‡½æ•°
    \(\hat{f}\) ä»¥å®Œæˆæ­¤ä»»åŠ¡ï¼š
- en: \[ Y = \hat{f}(X_1,\ldots,X_n) \]
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
  zh: \[ Y = \hat{f}(X_1,\ldots,X_n) \]
- en: 'where \(Y\) is our response feature and \(X_1,\ldots,X_n\) are our predictor
    features. If we retained all of our predictor features to predict the response
    we would have:'
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ \(Y\) æ˜¯æˆ‘ä»¬çš„å“åº”ç‰¹å¾ï¼Œ\(X_1,\ldots,X_n\) æ˜¯æˆ‘ä»¬çš„é¢„æµ‹ç‰¹å¾ã€‚å¦‚æœæˆ‘ä»¬ä¿ç•™æ‰€æœ‰é¢„æµ‹ç‰¹å¾æ¥é¢„æµ‹å“åº”ï¼Œæˆ‘ä»¬ä¼šæœ‰ï¼š
- en: \[ Prod = \hat{f}(Por,Perm,AI,Brittle,TOC,VR) \]
  id: totrans-863
  prefs: []
  type: TYPE_NORMAL
  zh: \[ Prod = \hat{f}(Por,Perm,AI,Brittle,TOC,VR) \]
- en: 'Now back to the covariance, the covariance is defined as:'
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å›åˆ°åæ–¹å·®ï¼Œåæ–¹å·®å®šä¹‰ä¸ºï¼š
- en: \[ C_{xy} = \frac{\sum_{i=1}^{n} (x_i - \overline{x})(y_i - \overline{y})}{(n-1)}
    \]
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: \[ C_{xy} = \frac{\sum_{i=1}^{n} (x_i - \overline{x})(y_i - \overline{y})}{(n-1)}
    \]
- en: 'Covariance:'
  id: totrans-866
  prefs: []
  type: TYPE_NORMAL
  zh: åæ–¹å·®ï¼š
- en: measures the linear relationship
  id: totrans-867
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¡¡é‡çº¿æ€§å…³ç³»
- en: sensitive to the dispersion / variance of both the predictor and response
  id: totrans-868
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹é¢„æµ‹å˜é‡å’Œå“åº”å˜é‡çš„åˆ†æ•£/æ–¹å·®éƒ½å¾ˆæ•æ„Ÿ
- en: 'We can use the follow command to build a covariance matrix:'
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºåæ–¹å·®çŸ©é˜µï¼š
- en: '[PRE86]'
  id: totrans-870
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: the output is a new Pandas DataFrame, so we can slice the last column to get
    a Pandas series (ndarray with names) with the covariances between all predictors
    features and the response.
  id: totrans-871
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„ Pandas DataFrameï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ‡ç‰‡æœ€åä¸€åˆ—ä»¥è·å–åŒ…å«æ‰€æœ‰é¢„æµ‹ç‰¹å¾ä¸å“åº”ä¹‹é—´åæ–¹å·®çš„ Pandas ç³»åˆ—ï¼ˆå…·æœ‰åç§°çš„ ndarrayï¼‰ã€‚
- en: '[PRE87]'
  id: totrans-872
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: '![_images/ff711b73e2baba3be2993b907d5023462afb3ab86692953cb31870078fc6969f.png](../Images/89e89e3a083da28954418714216aa9d0.png)'
  id: totrans-873
  prefs: []
  type: TYPE_IMG
  zh: '![_images/ff711b73e2baba3be2993b907d5023462afb3ab86692953cb31870078fc6969f.png](../Images/89e89e3a083da28954418714216aa9d0.png)'
- en: The covariance is useful, but as you can see the magnitude is quite variable.
  id: totrans-874
  prefs: []
  type: TYPE_NORMAL
  zh: åæ–¹å·®æ˜¯æœ‰ç”¨çš„ï¼Œä½†æ­£å¦‚ä½ æ‰€è§ï¼Œå…¶å¤§å°ç›¸å½“å¤šå˜ã€‚
- en: the covarince magnitudes are a function of each featureâ€™s feature and feature
    variance is somewhat arbitrary.
  id: totrans-875
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åæ–¹å·®çš„å¤§å°æ˜¯æ¯ä¸ªç‰¹å¾çš„å‡½æ•°ï¼Œå¹¶ä¸”ç‰¹å¾æ–¹å·®æ˜¯æœ‰äº›ä»»æ„çš„ã€‚
- en: 'for example, what is the variance of porosity in fraction vs. percentage or
    permeability in Darcy vs. milliDarcy. We can show that if we apply a constant
    multiplier, \(c\), to a feature, \(X\), that the variance will change according
    to this relationship (the proof is based on expectation formulation of variance):'
  id: totrans-876
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå­”éš™ç‡çš„æ–¹å·®åœ¨åˆ†æ•°ä¸ç™¾åˆ†æ¯”ä¹‹é—´ï¼Œæˆ–è€…æ¸—é€ç‡åœ¨è¾¾è¥¿ä¸æ¯«è¾¾è¥¿ä¹‹é—´çš„æ–¹å·®æ˜¯å¤šå°‘ã€‚æˆ‘ä»¬å¯ä»¥è¡¨æ˜ï¼Œå¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªç‰¹å¾ \(X\) åº”ç”¨ä¸€ä¸ªå¸¸æ•°ä¹˜æ•° \(c\)ï¼Œæ–¹å·®å°†æ ¹æ®æ­¤å…³ç³»å˜åŒ–ï¼ˆè¯æ˜åŸºäºæ–¹å·®çš„æœŸæœ›å…¬å¼ï¼‰ï¼š
- en: \[ \sigma_{cX}^2 = c^2 \cdot \sigma_{X}^2 \]
  id: totrans-877
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \sigma_{cX}^2 = c^2 \cdot \sigma_{X}^2 \]
- en: By moving from percentage to fraction we decrease the variance of porosity by
    a factor of 10,000! The variance of each feature is potentially arbitrary, with
    the exception when all the features are in the same units.
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡ä»ç™¾åˆ†æ¯”è½¬æ¢ä¸ºåˆ†æ•°ï¼Œæˆ‘ä»¬é™ä½äº†å­”éš™ç‡çš„æ–¹å·®å› å­ä¸º 10,000ï¼æ¯ä¸ªç‰¹å¾çš„æ–¹å·®å¯èƒ½æ˜¯ä»»æ„çš„ï¼Œé™¤äº†å½“æ‰€æœ‰ç‰¹å¾éƒ½åœ¨ç›¸åŒçš„å•ä½æ—¶ã€‚
- en: Pairwise correlations are standardized covariances; therefore, avoids this arbitrary
    magnitude issue.
  id: totrans-879
  prefs: []
  type: TYPE_NORMAL
  zh: é…å¯¹ç›¸å…³ç³»æ•°æ˜¯æ ‡å‡†åŒ–çš„åæ–¹å·®ï¼›å› æ­¤ï¼Œé¿å…äº†è¿™ç§ä»»æ„å¤§å°çš„é—®é¢˜ã€‚
- en: Pairwise Correlation Coefficient
  id: totrans-880
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é…å¯¹ç›¸å…³ç³»æ•°
- en: Pairwise correlation coefficient provides a measure of the strength of the linear
    relationship between each predictor feature and the response feature.
  id: totrans-881
  prefs: []
  type: TYPE_NORMAL
  zh: é…å¯¹ç›¸å…³ç³»æ•°æä¾›äº†æ¯ä¸ªé¢„æµ‹ç‰¹å¾ä¸å“åº”ç‰¹å¾ä¹‹é—´çº¿æ€§å…³ç³»å¼ºåº¦çš„åº¦é‡ã€‚
- en: \[ \rho_{xy} = \frac{\sum_{i=1}^{n} (x_i - \overline{x})(y_i - \overline{y})}{(n-1)\sigma_x
    \sigma_y}, \, -1.0 \le \rho_{xy} \le 1.0 \]
  id: totrans-882
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \rho_{xy} = \frac{\sum_{i=1}^{n} (x_i - \overline{x})(y_i - \overline{y})}{(n-1)\sigma_x
    \sigma_y}, \, -1.0 \le \rho_{xy} \le 1.0 \]
- en: 'The correlation coefficient:'
  id: totrans-883
  prefs: []
  type: TYPE_NORMAL
  zh: ç›¸å…³ç³»æ•°ï¼š
- en: measures the linear relationship
  id: totrans-884
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¡¡é‡çº¿æ€§å…³ç³»
- en: removes the sensitivity to the dispersion / variance of both the predictor and
    response features, by normalizing by the product of the standard deviation of
    each feature
  id: totrans-885
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€šè¿‡å°†æ¯ä¸ªç‰¹å¾çš„æ–¹å·®ä¹˜ç§¯è¿›è¡Œå½’ä¸€åŒ–ï¼Œæ¶ˆé™¤äº†å¯¹é¢„æµ‹å˜é‡å’Œå“åº”å˜é‡åˆ†æ•£/æ–¹å·®çš„æ•æ„Ÿæ€§ã€‚
- en: 'We can use the follow command to build a correlation matrix:'
  id: totrans-886
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºç›¸å…³çŸ©é˜µï¼š
- en: '[PRE88]'
  id: totrans-887
  prefs: []
  type: TYPE_PRE
  zh: '[PRE88]'
- en: the output is a new Pandas DataFrame, so we can slice the last column to get
    a Pandas series (ndarray with names) with the correlations between all predictors
    features and the response.
  id: totrans-888
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„ Pandas DataFrameï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ‡ç‰‡æœ€åä¸€åˆ—ä»¥è·å–åŒ…å«æ‰€æœ‰é¢„æµ‹ç‰¹å¾ä¸å“åº”ä¹‹é—´ç›¸å…³æ€§çš„ Pandas ç³»åˆ—ï¼ˆå…·æœ‰åç§°çš„ ndarrayï¼‰ã€‚
- en: '[PRE89]'
  id: totrans-889
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: '![_images/8de550142d1a57e5f8c2443095641ca1f3d8907168b1d668112afc3f7f49b625.png](../Images/cf2f8ebbbb9381f4ae232eefb7ce2e7a.png)'
  id: totrans-890
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/cf2f8ebbbb9381f4ae232eefb7ce2e7a.png)'
- en: 'From the correlation matrix we can observe:'
  id: totrans-891
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ç›¸å…³çŸ©é˜µä¸­æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼š
- en: We see that porosity, permeability and total organic carbon have the strongest
    linear relationships with production.
  id: totrans-892
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å­”éš™ç‡ã€æ¸—é€ç‡å’Œæ€»æœ‰æœºç¢³ä¸ç”Ÿäº§ä¹‹é—´æœ‰æœ€å¼ºçš„çº¿æ€§å…³ç³»ã€‚
- en: Acoustic impedance has weak negative relationships with production.
  id: totrans-893
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å£°æ³¢é˜»æŠ—ä¸ç”Ÿäº§æœ‰å¼±è´Ÿç›¸å…³å…³ç³»ã€‚
- en: Brittleness is very close to 0.0\. If you review the brittleness vs. production
    scatterplot, youâ€™ll observe a complicated non-linear relationship. There is a
    brittleness ratio sweet spot for production (rock that is not too soft nor too
    hard)!
  id: totrans-894
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è„†æ€§éå¸¸æ¥è¿‘0.0ã€‚å¦‚æœä½ å›é¡¾è„†æ€§ä¸ç”Ÿäº§çš„æ•£ç‚¹å›¾ï¼Œä½ ä¼šè§‚å¯Ÿåˆ°ä¸€ç§å¤æ‚çš„éçº¿æ€§å…³ç³»ã€‚å¯¹äºç”Ÿäº§æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªè„†æ€§æ¯”ç‡æœ€ä½³ç‚¹ï¼ˆæ—¢ä¸å¤ªè½¯ä¹Ÿä¸å¤ªç¡¬çš„å²©çŸ³ï¼‰ï¼
- en: We could also look at the full correlation matrix to evaluate the potential
    for redundancy between predictor features.
  id: totrans-895
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥æŸ¥çœ‹å®Œæ•´çš„ç›¸å…³çŸ©é˜µæ¥è¯„ä¼°é¢„æµ‹ç‰¹å¾ä¹‹é—´å†—ä½™çš„æ½œåŠ›ã€‚
- en: strong degree of correlation between porosity and permeability and porosity
    and TOC
  id: totrans-896
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡ä¸æ¸—é€ç‡ä»¥åŠå­”éš™ç‡ä¸TOCä¹‹é—´æœ‰å¾ˆå¼ºçš„ç›¸å…³æ€§
- en: strong degree of negative correlation between TOC and acoustic impedance
  id: totrans-897
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: TOCä¸å£°æ³¢é˜»æŠ—ä¹‹é—´æœ‰å¾ˆå¼ºçš„è´Ÿç›¸å…³æ€§
- en: We are still limited to a strict linear relationship. The rank correlation allows
    us to relax this assumption.
  id: totrans-898
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»ç„¶å±€é™äºä¸¥æ ¼çš„çº¿æ€§å…³ç³»ã€‚ç§©ç›¸å…³ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ”¾å®½è¿™ä¸ªå‡è®¾ã€‚
- en: Pairwise Spearman Rank Correlation Coefficient
  id: totrans-899
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é…å¯¹Spearmanç§©ç›¸å…³ç³»æ•°
- en: The rank correlation coefficient applies the rank transform to the data prior
    to calculating the correlation coefficient. To calculate the rank transform simply
    replace the data values with the rank \(R_x = 1,\dots,n\), where \(n\) is the
    maximum value and \(1\) is the minimum value.
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: ç§©ç›¸å…³ç³»æ•°åœ¨è®¡ç®—ç›¸å…³ç³»æ•°ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œç§©è½¬æ¢ã€‚è¦è®¡ç®—ç§©è½¬æ¢ï¼Œåªéœ€å°†æ•°æ®å€¼æ›¿æ¢ä¸ºç§© \(R_x = 1,\dots,n\)ï¼Œå…¶ä¸­ \(n\) æ˜¯æœ€å¤§å€¼ï¼Œ1æ˜¯æœ€å°å€¼ã€‚
- en: \[ \rho_{R_x R_y} = \frac{\sum_{i=1}^{n} (R_{x_i} - \overline{R_x})(R_{y_i}
    - \overline{R_y})}{(n-1)\sigma_{R_x} \sigma_{R_y}}, \, -1.0 \le \rho_{xy} \le
    1.0 \]\[ x_\alpha, \, \forall \alpha = 1,\dots, n, \, | \, x_i \ge x_j \, \forall
    \, i \gt j \]\[ R_{x_i} = i \]
  id: totrans-901
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \rho_{R_x R_y} = \frac{\sum_{i=1}^{n} (R_{x_i} - \overline{R_x})(R_{y_i}
    - \overline{R_y})}{(n-1)\sigma_{R_x} \sigma_{R_y}}, \, -1.0 \le \rho_{xy} \le
    1.0 \]\[ x_\alpha, \, \forall \alpha = 1,\dots, n, \, | \, x_i \ge x_j \, \forall
    \, i \gt j \]\[ R_{x_i} = i \]
- en: 'The rank correlation:'
  id: totrans-902
  prefs: []
  type: TYPE_NORMAL
  zh: ç§©ç›¸å…³ï¼š
- en: measures the monotonic relationship, relaxes the linear assumption
  id: totrans-903
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¡¡é‡å•è°ƒå…³ç³»ï¼Œæ”¾å®½çº¿æ€§å‡è®¾
- en: removes the sensitivity to the dispersion / variance of both the predictor and
    response, by normalizing by the product of the standard deviation of each.
  id: totrans-904
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€šè¿‡å°†æ¯ä¸ªæ ‡å‡†å·®çš„ä¹˜ç§¯è¿›è¡Œå½’ä¸€åŒ–ï¼Œæ¶ˆé™¤äº†å¯¹é¢„æµ‹å’Œå“åº”çš„åˆ†æ•£/æ–¹å·®çš„æ•æ„Ÿæ€§ã€‚
- en: 'We can use the follow command to build a rank correlation matrix and calculate
    the p-value:'
  id: totrans-905
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ„å»ºç§©ç›¸å…³çŸ©é˜µå¹¶è®¡ç®—på€¼ï¼š
- en: '[PRE90]'
  id: totrans-906
  prefs: []
  type: TYPE_PRE
  zh: '[PRE90]'
- en: the output is a new Pandas DataFrame, so we can slice the last column to get
    a Pandas series (ndarray with names) with the correlations between all predictors
    features and the response.
  id: totrans-907
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºæ˜¯ä¸€ä¸ªæ–°çš„Pandas DataFrameï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ‡ç‰‡æœ€åä¸€åˆ—ä»¥è·å–ä¸€ä¸ªPandasç³»åˆ—ï¼ˆå…·æœ‰åç§°çš„ndarrayï¼‰ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰é¢„æµ‹ç‰¹å¾ä¸å“åº”ä¹‹é—´çš„ç›¸å…³æ€§ã€‚
- en: 'Also, we get a very convenient *pval* 2D ndarray with the two-sided (two-tail
    summing symmetric over both tails) p-value for a hypothesis test with:'
  id: totrans-908
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¾—åˆ°äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„*pval* 2D ndarrayï¼Œå…¶ä¸­åŒ…å«å‡è®¾æ£€éªŒçš„åŒä¾§ï¼ˆä¸¤å°¾æ±‚å’Œå¯¹ç§°åœ°è¦†ç›–ä¸¤å°¾ï¼‰på€¼ï¼š
- en: '\[ H_o: \rho_{R_x R_y} = 0 \]\[ H_1: \rho_{R_x R_y} \ne 0 \]'
  id: totrans-909
  prefs: []
  type: TYPE_NORMAL
  zh: '\[ H_0: \rho_{R_x R_y} = 0 \]\[ H_1: \rho_{R_x R_y} \ne 0 \]'
- en: Letâ€™s keep the p-values between all the predictor features and our response
    feature.
  id: totrans-910
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä¿ç•™æ‰€æœ‰é¢„æµ‹ç‰¹å¾ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„på€¼ã€‚
- en: '[PRE91]'
  id: totrans-911
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: '[PRE92]'
  id: totrans-912
  prefs: []
  type: TYPE_PRE
  zh: '[PRE92]'
- en: '![_images/dd0d78eac8d8429bd13249c35c5d50933da7bf91abf6d4cb58614489675c598e.png](../Images/609c07d08205a2c92204da55d19ad62a.png)'
  id: totrans-913
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/609c07d08205a2c92204da55d19ad62a.png)'
- en: There matrix and line plots indicate that the rank correlation coefficients
    are similar to the correlation coefficients indicating that nonlinearity and outliers
    are not likely impacting the correlation-based feature ranking.
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥çŸ©é˜µå’Œçº¿å›¾è¡¨æ˜ï¼Œç§©ç›¸å…³ç³»æ•°ä¸ç›¸å…³ç³»æ•°ç›¸ä¼¼ï¼Œè¡¨æ˜éçº¿æ€§æˆ–å¼‚å¸¸å€¼ä¸å¤ªå¯èƒ½å½±å“åŸºäºç›¸å…³æ€§çš„ç‰¹å¾æ’åã€‚
- en: With regard to rank correlation p-values,
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºç§©ç›¸å…³på€¼ï¼Œ
- en: at a typical alpha value of 0.05, only the rank correlation between brittleness
    and production does not fail the hypothesis test; therefore, is not significantly
    different than 0.0.
  id: totrans-916
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨å…¸å‹çš„Î±å€¼ä¸º0.05æ—¶ï¼Œåªæœ‰è„†æ€§ä¸ç”Ÿäº§ä¹‹é—´çš„ç§©ç›¸å…³å…³ç³»æ²¡æœ‰é€šè¿‡å‡è®¾æ£€éªŒï¼›å› æ­¤ï¼Œä¸0.0æ²¡æœ‰æ˜¾è‘—å·®å¼‚ã€‚
- en: It is useful to look at the difference between the correlation coefficient and
    rank correlation coefficient.
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹ç›¸å…³ç³»æ•°å’Œç§©ç›¸å…³ç³»æ•°ä¹‹é—´çš„å·®å¼‚æ˜¯æœ‰ç”¨çš„ã€‚
- en: '[PRE93]'
  id: totrans-918
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: '![_images/e6d73185fa9381a8bc24c2f7002331e6bbb2de3276c7073a45074a6ef2fae98b.png](../Images/9010e510d3b644ed069447aad1564797.png)'
  id: totrans-919
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/9010e510d3b644ed069447aad1564797.png)'
- en: 'Here are some interesting observations:'
  id: totrans-920
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸€äº›æœ‰è¶£çš„è§‚å¯Ÿï¼š
- en: correlation of porosity and vitrinite reflectance with production improve when
    we reduce the impact of linearity and outliers
  id: totrans-921
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬å‡å°‘çº¿æ€§æ€§å’Œå¼‚å¸¸å€¼çš„å½±å“æ—¶ï¼Œå­”éš™ç‡å’Œé•œè´¨ä½“åå°„ç‡ä¸ç”Ÿäº§çš„å…³è”æ€§ä¼šæ”¹å–„
- en: correlation of brittleness with production worsen when we reduce the impact
    of linearity and outliers
  id: totrans-922
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬å‡å°‘çº¿æ€§æ€§å’Œå¼‚å¸¸å€¼çš„å½±å“æ—¶ï¼Œè„†æ€§ä¸ç”Ÿäº§çš„å…³è”æ€§ä¼šæ¶åŒ–
- en: All of these methods up to now have considered one feature at a time. We can
    also consider methods that consider all features jointly to â€˜isolateâ€™ the influence
    of each feature.
  id: totrans-923
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½è€ƒè™‘äº†ä¸€ä¸ªç‰¹å¾ã€‚æˆ‘ä»¬è¿˜å¯ä»¥è€ƒè™‘è€ƒè™‘æ‰€æœ‰ç‰¹å¾çš„æ–¹æ³•ï¼Œä»¥â€œéš”ç¦»â€æ¯ä¸ªç‰¹å¾çš„å½±å“ã€‚
- en: Partial Correlation Coefficient
  id: totrans-924
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: éƒ¨åˆ†ç›¸å…³ç³»æ•°
- en: This is a linear correlation coefficient that controls for the effects all the
    remaining variables, \(\rho_{XY.Z}\) and \(\rho_{YX.Z}\) is the partial correlation
    between \(X\) and \(Y\), \(Y\) and \(X\), after controlling for \(Z\).
  id: totrans-925
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªæ§åˆ¶æ‰€æœ‰å‰©ä½™å˜é‡å½±å“çš„çº¿æ€§ç›¸å…³ç³»æ•°ï¼Œ\(\rho_{XY.Z}\) å’Œ \(\rho_{YX.Z}\) æ˜¯åœ¨æ§åˆ¶ \(Z\) å \(X\) å’Œ
    \(Y\)ã€\(Y\) å’Œ \(X\) ä¹‹é—´çš„éƒ¨åˆ†ç›¸å…³
- en: 'To calculate the partial correlation coefficient between \(X\) and \(Y\) given
    \(Z_i, \forall \quad i = 1,\ldots, m-1\) remaining features we use the following
    steps:'
  id: totrans-926
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç»™å®š \(Z_i, \forall \quad i = 1,\ldots, m-1\) å‰©ä½™ç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œè®¡ç®— \(X\) å’Œ \(Y\) ä¹‹é—´çš„éƒ¨åˆ†ç›¸å…³ç³»æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š
- en: perform linear, least-squares regression to predict \(X\) from \(Z_i, \forall
    \quad i = 1,\ldots, m-1\). \(X\) is regressed on the predictors to calculate the
    estimate, \(X^*\)
  id: totrans-927
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰§è¡Œçº¿æ€§ã€æœ€å°äºŒä¹˜å›å½’ï¼Œä» \(Z_i, \forall \quad i = 1,\ldots, m-1\) é¢„æµ‹ \(X\)ã€‚\(X\) é€šè¿‡é¢„æµ‹å› å­å›å½’ä»¥è®¡ç®—ä¼°è®¡å€¼ï¼Œ\(X^*\)
- en: 'calculate the residuals in Step #1, \(X-X^*\), where \(X^* = f(Z_{1,\ldots,m-1})\),
    linear regression model'
  id: totrans-928
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'åœ¨æ­¥éª¤ #1 ä¸­è®¡ç®—æ®‹å·®ï¼Œ\(X-X^*\)ï¼Œå…¶ä¸­ \(X^* = f(Z_{1,\ldots,m-1})\)ï¼Œçº¿æ€§å›å½’æ¨¡å‹'
- en: perform linear, least-squares regression to predict \(Y\) from \(Z_i, \forall
    \quad i = 1,\ldots, m-1\). \(Y\) is regressed on the predictors to calculate the
    estimate, \(Y^*\)
  id: totrans-929
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰§è¡Œçº¿æ€§ã€æœ€å°äºŒä¹˜å›å½’ï¼Œä» \(Z_i, \forall \quad i = 1,\ldots, m-1\) é¢„æµ‹ \(Y\)ã€‚\(Y\) é€šè¿‡é¢„æµ‹å› å­å›å½’ä»¥è®¡ç®—ä¼°è®¡å€¼ï¼Œ\(Y^*\)
- en: 'calculate the residuals in Step #3, \(Y-Y^*\), where \(Y^* = f(Z_{1,\ldots,m-1})\),
    linear regression model'
  id: totrans-930
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'åœ¨æ­¥éª¤ #3 ä¸­è®¡ç®—æ®‹å·®ï¼Œ\(Y-Y^*\)ï¼Œå…¶ä¸­ \(Y^* = f(Z_{1,\ldots,m-1})\)ï¼Œçº¿æ€§å›å½’æ¨¡å‹'
- en: 'calculate the correlation coefficient between the residuals from Steps #2 and
    #4, \(\rho_{X-X^*,Y-Y^*}\)'
  id: totrans-931
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'è®¡ç®—æ­¥éª¤ #2 å’Œ #4 çš„æ®‹å·®ä¹‹é—´çš„ç›¸å…³ç³»æ•°ï¼Œ\(\rho_{X-X^*,Y-Y^*}\)'
- en: The partial correlation, provides a measure of the linear relationship between
    \(X\) and \(Y\) while controlling for the effect of \(Z\) other features on both,
    \(X\) and \(Y\). We use the function declared previously taken from Fabian Pedregosa-Izquierdo,
    [f@bianp.net](mailto:f%40bianp.net). The original code is on GitHub at [https://git.io/fhyHB](https://git.io/fhyHB).
  id: totrans-932
  prefs: []
  type: TYPE_NORMAL
  zh: éƒ¨åˆ†ç›¸å…³æä¾›äº†åœ¨æ§åˆ¶ \(Z\) ä»¥åŠå…¶ä»–ç‰¹å¾å¯¹ \(X\) å’Œ \(Y\) çš„å½±å“çš„æƒ…å†µä¸‹ï¼Œ\(X\) å’Œ \(Y\) ä¹‹é—´çº¿æ€§å…³ç³»çš„åº¦é‡ã€‚æˆ‘ä»¬ä½¿ç”¨ä¹‹å‰å£°æ˜çš„å‡½æ•°ï¼Œæ¥è‡ª
    Fabian Pedregosa-Izquierdoï¼Œ[f@bianp.net](mailto:f%40bianp.net)ã€‚åŸå§‹ä»£ç åœ¨ GitHub ä¸Šï¼Œ[https://git.io/fhyHB](https://git.io/fhyHB)ã€‚
- en: 'To use this method we must assume:'
  id: totrans-933
  prefs: []
  type: TYPE_NORMAL
  zh: è¦ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¿…é¡»å‡è®¾ï¼š
- en: two variables to compare, \(X\) and \(Y\)
  id: totrans-934
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯”è¾ƒçš„ä¸¤ä¸ªå˜é‡ï¼Œ\(X\) å’Œ \(Y\)
- en: other variables to control, \(Z_{1,\ldots,m-2}\)
  id: totrans-935
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: éœ€è¦æ§åˆ¶çš„å…¶ä»–å˜é‡ï¼Œ\(Z_{1,\ldots,m-2}\)
- en: linear relationships between all variables
  id: totrans-936
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰€æœ‰å˜é‡ä¹‹é—´çš„çº¿æ€§å…³ç³»
- en: no significant outliers
  id: totrans-937
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ²¡æœ‰æ˜¾è‘—çš„å¼‚å¸¸å€¼
- en: approximately bivariate normality between the variables
  id: totrans-938
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å˜é‡ä¹‹é—´çš„å¤§çº¦åŒå˜é‡æ­£æ€æ€§
- en: We are in pretty good shape, but we have some departures from bivariate normality.
    We could consider Gaussian univariate transforms to improve this. This option
    is provided later.
  id: totrans-939
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„æƒ…å†µç›¸å½“ä¸é”™ï¼Œä½†æœ‰ä¸€äº›ä¸åŒå˜é‡æ­£æ€æ€§çš„åå·®ã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘é«˜æ–¯å•å˜é‡å˜æ¢æ¥æ”¹è¿›è¿™ä¸€ç‚¹ã€‚æ­¤é€‰é¡¹å°†åœ¨ç¨åæä¾›ã€‚
- en: '[PRE94]'
  id: totrans-940
  prefs: []
  type: TYPE_PRE
  zh: '[PRE94]'
- en: '![_images/685abb597e65278976ed6245ea39ffba1c566acd98a0496f9a20ae9b472f4e07.png](../Images/11649099249c19a8d0134ee44bd96661.png)'
  id: totrans-941
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/11649099249c19a8d0134ee44bd96661.png)'
- en: Now we see a lot of new things about the unique contributions of each predictor
    feature!
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å…³äºæ¯ä¸ªé¢„æµ‹ç‰¹å¾ç‹¬ç‰¹è´¡çŒ®çš„è®¸å¤šæ–°äº‹ç‰©ï¼
- en: porosity and permeability are strongly correlated with each other so they are
    penalized severely
  id: totrans-943
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡å’Œæ¸—é€ç‡å½¼æ­¤ä¹‹é—´é«˜åº¦ç›¸å…³ï¼Œå› æ­¤å®ƒä»¬å—åˆ°ä¸¥é‡æƒ©ç½š
- en: acoustic impedanceâ€™s and vitrinite reflectanceâ€™s absolute correlation are increased
    reflecting their unique contributions
  id: totrans-944
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å£°æ³¢é˜»æŠ—å’Œé•œè´¨ä½“åå°„ç‡çš„ç»å¯¹ç›¸å…³æ€§å¢åŠ ï¼Œåæ˜ äº†å®ƒä»¬ç‹¬ç‰¹çš„è´¡çŒ®
- en: total organic carbon flipped signs! When we control for all other variables,
    it has a negative relationship with production.
  id: totrans-945
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ€»æœ‰æœºç¢³ç¿»è½¬äº†ç¬¦å·ï¼å½“æˆ‘ä»¬æ§åˆ¶æ‰€æœ‰å…¶ä»–å˜é‡æ—¶ï¼Œå®ƒä¸ç”Ÿäº§å‘ˆè´Ÿç›¸å…³å…³ç³»ã€‚
- en: With the partial correlation coefficients we have controlled for the influence
    of all other predictor features on both the specific predictor and the response
    features. The semipartial correlation filters out the influence of all other predictor
    features on the raw response variable.
  id: totrans-946
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡åç›¸å…³ç³»æ•°ï¼Œæˆ‘ä»¬å·²ç»æ§åˆ¶äº†æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾å¯¹ç‰¹å®šé¢„æµ‹ç‰¹å¾å’Œå“åº”ç‰¹å¾çš„å½±å“ã€‚åŠåç›¸å…³ç³»æ•°è¿‡æ»¤æ‰äº†æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾å¯¹åŸå§‹å“åº”å˜é‡çš„å½±å“ã€‚
- en: Semipartial Correlation Coefficient
  id: totrans-947
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŠåç›¸å…³ç³»æ•°
- en: 'This is a linear correlation coefficient that controls for the effects all
    the remaining features, \(Z\) on \(X\), and then calculates the correlation between
    the residual \(X^*-X\) and \(Y\). Note: we do not control for influence of \(Z\)
    features on the response feature, \(Y\).'
  id: totrans-948
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªçº¿æ€§ç›¸å…³ç³»æ•°ï¼Œå®ƒæ§åˆ¶äº†æ‰€æœ‰å‰©ä½™ç‰¹å¾ \(Z\) å¯¹ \(X\) çš„å½±å“ï¼Œç„¶åè®¡ç®—æ®‹å·® \(X^*-X\) ä¸ \(Y\) ä¹‹é—´çš„ç›¸å…³æ€§ã€‚æ³¨æ„ï¼šæˆ‘ä»¬æ²¡æœ‰æ§åˆ¶
    \(Z\) ç‰¹å¾å¯¹å“åº”ç‰¹å¾ \(Y\) çš„å½±å“ã€‚
- en: 'To calculate the semipartial correlation coefficient between \(X\) and \(Y\)
    given \(Z_i, \forall \quad i = 1,\ldots, m-1\) remaining features we use the following
    steps:'
  id: totrans-949
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è®¡ç®—ç»™å®š \(Z_i, \forall \quad i = 1,\ldots, m-1\) å‰©ä½™ç‰¹å¾çš„ \(X\) å’Œ \(Y\) ä¹‹é—´çš„åŠåç›¸å…³ç³»æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š
- en: perform linear, least-squares regression to predict \(X\) from \(Z_i, \forall
    \quad i = 1,\ldots, m-1\). \(X\) is regressed on the remaining predictor features
    to calculate the estimate, \(X^*\)
  id: totrans-950
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰§è¡Œçº¿æ€§ã€æœ€å°äºŒä¹˜å›å½’ä»¥é¢„æµ‹ \(X\) æ¥è‡ª \(Z_i, \forall \quad i = 1,\ldots, m-1\)ã€‚\(X\) é€šè¿‡å‰©ä½™é¢„æµ‹ç‰¹å¾å›å½’ä»¥è®¡ç®—ä¼°è®¡å€¼ï¼Œ\(X^*\)
- en: 'calculate the residuals in Step #1, \(X-X^*\), where \(X^* = f(Z_{1,\ldots,m-1})\),
    linear regression model'
  id: totrans-951
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'åœ¨æ­¥éª¤ #1 ä¸­è®¡ç®—æ®‹å·®ï¼Œ\(X-X^*\)ï¼Œå…¶ä¸­ \(X^* = f(Z_{1,\ldots,m-1})\)ï¼Œçº¿æ€§å›å½’æ¨¡å‹'
- en: 'calculate the correlation coefficient between the residuals from Steps #2 and
    \(Y\) response feature, \(\rho_{X-X^*,Y}\)'
  id: totrans-952
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'è®¡ç®—æ­¥éª¤ #2 ä¸­æ®‹å·®ä¸å“åº”ç‰¹å¾ \(Y\) ä¹‹é—´çš„ç›¸å…³ç³»æ•°ï¼Œ\(\rho_{X-X^*,Y}\)'
- en: The semipartial correlation coefficient, provides a measure of the linear relationship
    between \(X\) and \(Y\) while controlling for the effect of \(Z\) other predictor
    features on the predictor feature, \(X\), to get the unique contribution of \(X\)
    with respect to \(Y\). We use a modified version of the partial correlation function
    that we declared previously. The original code is on GitHub at [https://git.io/fhyHB](https://git.io/fhyHB).
  id: totrans-953
  prefs: []
  type: TYPE_NORMAL
  zh: åŠåç›¸å…³ç³»æ•°æä¾›äº† \(X\) å’Œ \(Y\) ä¹‹é—´çº¿æ€§å…³ç³»çš„åº¦é‡ï¼ŒåŒæ—¶æ§åˆ¶äº† \(Z\) å…¶ä»–é¢„æµ‹ç‰¹å¾å¯¹é¢„æµ‹ç‰¹å¾ \(X\) çš„å½±å“ï¼Œä»¥è·å¾— \(X\)
    ç›¸å¯¹äº \(Y\) çš„ç‹¬ç‰¹è´¡çŒ®ã€‚æˆ‘ä»¬ä½¿ç”¨ä¹‹å‰å£°æ˜çš„åç›¸å…³å‡½æ•°çš„ä¿®æ”¹ç‰ˆã€‚åŸå§‹ä»£ç åœ¨ GitHub ä¸Šï¼Œ[https://git.io/fhyHB](https://git.io/fhyHB)ã€‚
- en: '[PRE95]'
  id: totrans-954
  prefs: []
  type: TYPE_PRE
  zh: '[PRE95]'
- en: '![_images/8288d5546785bae96f5c850214ddd5be4c148d6210b1b7d05ca2f86640b6b443.png](../Images/9bc790699675e3bdbd9e8ed625051fa1.png)'
  id: totrans-955
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/9bc790699675e3bdbd9e8ed625051fa1.png)'
- en: 'More information to consider:'
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: éœ€è¦è€ƒè™‘çš„æ›´å¤šä¿¡æ¯ï¼š
- en: porosity, permeability and vitrinite reflectance are the most important by this
    feature ranking method
  id: totrans-957
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡ã€æ¸—é€ç‡å’Œé•œè´¨ä½“åå°„ç‡æ˜¯æŒ‰æ­¤ç‰¹å¾æ’åºæ–¹æ³•æœ€é‡è¦çš„
- en: all other predictor features have quite low correlations
  id: totrans-958
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾çš„ç›¸å…³æ€§éƒ½ç›¸å½“ä½
- en: This is a good moment to stop and take stock of all the results from the quantitative
    methods. We will plot them all together.
  id: totrans-959
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸ªå¥½æ—¶æœºåœä¸‹æ¥ï¼Œæ€»ç»“æ‰€æœ‰å®šé‡æ–¹æ³•çš„ç»“æœã€‚æˆ‘ä»¬å°†æŠŠå®ƒä»¬å…¨éƒ¨ä¸€èµ·ç»˜åˆ¶å‡ºæ¥ã€‚
- en: '[PRE96]'
  id: totrans-960
  prefs: []
  type: TYPE_PRE
  zh: '[PRE96]'
- en: '![_images/8e1ed4eede67a45f3fd9cf848e281724927b517c683e5207ab574696b9952bde.png](../Images/9b87cdad7bc65f987a9f65bfe7febc3b.png)'
  id: totrans-961
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/9b87cdad7bc65f987a9f65bfe7febc3b.png)'
- en: I think we are converging on porosity, permeability and vitrinite reflectance
    as the most important variables with respect to linear relationships with the
    production.
  id: totrans-962
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘è®¤ä¸ºæˆ‘ä»¬æ­£åœ¨æ”¶æ•›åˆ°å­”éš™ç‡ã€æ¸—é€ç‡å’Œé•œè´¨ä½“åå°„ç‡ä½œä¸ºä¸ç”Ÿäº§çº¿æ€§å…³ç³»æœ€é‡è¦çš„å˜é‡ã€‚
- en: Feature Ranking with Feature Transformations
  id: totrans-963
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŸºäºç‰¹å¾å˜æ¢çš„ç‰¹å¾æ’åº
- en: There are many reasons to perform feature transformations (see the associated
    chapter) and as mentioned above for partial and semipartial correlation a distribution
    transformation may assist with compliance to metric assumptions.
  id: totrans-964
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰è®¸å¤šåŸå› éœ€è¦è¿›è¡Œç‰¹å¾å˜æ¢ï¼ˆå‚è§ç›¸å…³ç« èŠ‚ï¼‰ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œå¯¹äºåç›¸å…³å’ŒåŠåç›¸å…³ï¼Œåˆ†å¸ƒå˜æ¢å¯èƒ½æœ‰åŠ©äºç¬¦åˆåº¦é‡å‡è®¾ã€‚
- en: As an exercise and check, letâ€™s standardize all the features and repeat the
    previously calculated quantitative methods. We know this will have an impact on
    covariance, what about the other metrics?
  id: totrans-965
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½œä¸ºä¸€é¡¹ç»ƒä¹ å’Œæ£€æŸ¥ï¼Œè®©æˆ‘ä»¬æ ‡å‡†åŒ–æ‰€æœ‰ç‰¹å¾å¹¶é‡å¤ä¹‹å‰è®¡ç®—çš„å®šé‡æ–¹æ³•ã€‚æˆ‘ä»¬çŸ¥é“è¿™å°†å¯¹åæ–¹å·®äº§ç”Ÿå½±å“ï¼Œé‚£ä¹ˆå…¶ä»–æŒ‡æ ‡å‘¢ï¼Ÿ
- en: 'There is a bunch of code to get this done, but it isnâ€™t too complicated. First,
    lets make a new DataFrame with all variables standardized. Then we can make a
    minor edit (change the DataFrame name) and reuse the code from above. You can
    choose between:'
  id: totrans-966
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæˆè¿™é¡¹å·¥ä½œæœ‰ä¸€å †ä»£ç ï¼Œä½†å¹¶ä¸å¤æ‚ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„ DataFrameï¼Œå…¶ä¸­æ‰€æœ‰å˜é‡éƒ½å·²æ ‡å‡†åŒ–ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¾®å°çš„ç¼–è¾‘ï¼ˆæ›´æ”¹ DataFrame
    åç§°ï¼‰å¹¶é‡ç”¨ä¸Šé¢çš„ä»£ç ã€‚ä½ å¯ä»¥é€‰æ‹©ï¼š
- en: Standardization - affine correction to scale the distributions to have \(\overline{x}
    = 0\) and \(\sigma_x = 1.0\).
  id: totrans-967
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ ‡å‡†åŒ– - ä»¿å°„æ ¡æ­£ä»¥å°†åˆ†å¸ƒç¼©æ”¾åˆ° \(\overline{x} = 0\) å’Œ \(\sigma_x = 1.0\)ã€‚
- en: Normal Score Transform - distribution transform of each feature to standard
    normal, Gaussian shape with \(\overline{x} = 0\) and \(\sigma_x = 1.0\).
  id: totrans-968
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ­£æ€åˆ†æ•°å˜æ¢ - å°†æ¯ä¸ªç‰¹å¾çš„åˆ†å¸ƒè½¬æ¢ä¸ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œé«˜æ–¯å½¢çŠ¶ï¼Œå‡å€¼ä¸º \(\overline{x} = 0\)ï¼Œæ ‡å‡†å·®ä¸º \(\sigma_x = 1.0\)ã€‚
- en: 'Use this block to perform affine correction of the features:'
  id: totrans-969
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ­¤å—å¯¹ç‰¹å¾è¿›è¡Œä»¿å°„æ ¡æ­£ï¼š
- en: '[PRE97]'
  id: totrans-970
  prefs: []
  type: TYPE_PRE
  zh: '[PRE97]'
- en: 'Use this block to perform normal score transform of the features:'
  id: totrans-971
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ­¤å—å¯¹ç‰¹å¾è¿›è¡Œæ­£æ€åˆ†æ•°å˜æ¢ï¼š
- en: '[PRE98]'
  id: totrans-972
  prefs: []
  type: TYPE_PRE
  zh: '[PRE98]'
- en: '|  | Por | Perm | AI | Brittle | TOC | VR | Prod |'
  id: totrans-973
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Perm | AI | Brittle | TOC | VR | Prod |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-974
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| 0 | -0.964092 | -0.780664 | -0.285841 | 2.432379 | 0.312053 | 1.114651 |
    -1.780464 |'
  id: totrans-975
  prefs: []
  type: TYPE_TB
  zh: '| 0 | -0.964092 | -0.780664 | -0.285841 | 2.432379 | 0.312053 | 1.114651 |
    -1.780464 |'
- en: '| 1 | -0.832725 | -0.378580 | 0.446827 | -0.195502 | -0.272809 | -0.325239
    | -0.392079 |'
  id: totrans-976
  prefs: []
  type: TYPE_TB
  zh: '| 1 | -0.832725 | -0.378580 | 0.446827 | -0.195502 | -0.272809 | -0.325239
    | -0.392079 |'
- en: '| 2 | -0.312053 | -1.069155 | 1.722384 | 2.004654 | -0.272809 | 2.241403 |
    -0.832725 |'
  id: totrans-977
  prefs: []
  type: TYPE_TB
  zh: '| 2 | -0.312053 | -1.069155 | 1.722384 | 2.004654 | -0.272809 | 2.241403 |
    -0.832725 |'
- en: '| 3 | 0.730638 | 1.325516 | -0.531604 | -0.590284 | 0.131980 | -0.325239 |
    0.815126 |'
  id: totrans-978
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 0.730638 | 1.325516 | -0.531604 | -0.590284 | 0.131980 | -0.325239 |
    0.815126 |'
- en: '| 4 | 0.698283 | 0.298921 | 0.365149 | -2.870033 | 1.047216 | -0.259823 | -0.531604
    |'
  id: totrans-979
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 0.698283 | 0.298921 | 0.365149 | -2.870033 | 1.047216 | -0.259823 | -0.531604
    |'
- en: Regardless of the transformation that you chose it is best practice to check
    the summary statistics.
  id: totrans-980
  prefs: []
  type: TYPE_NORMAL
  zh: æ— è®ºä½ é€‰æ‹©äº†å“ªç§å˜æ¢ï¼Œæ£€æŸ¥æ€»ç»“ç»Ÿè®¡ä¿¡æ¯éƒ½æ˜¯æœ€ä½³å®è·µã€‚
- en: '[PRE99]'
  id: totrans-981
  prefs: []
  type: TYPE_PRE
  zh: '[PRE99]'
- en: '|  | Por | Perm | AI | Brittle | TOC | VR | Prod |'
  id: totrans-982
  prefs: []
  type: TYPE_TB
  zh: '|  | Por | Perm | AI | Brittle | TOC | VR | Prod |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-983
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| count | 200.000000 | 200.000000 | 2.000000e+02 | 2.000000e+02 | 200.000000
    | 200.000000 | 2.000000e+02 |'
  id: totrans-984
  prefs: []
  type: TYPE_TB
  zh: '| count | 200.000000 | 200.000000 | 2.000000e+02 | 2.000000e+02 | 200.000000
    | 200.000000 | 2.000000e+02 |'
- en: '| mean | -0.009700 | 0.010306 | 9.732356e-03 | 8.028717e-05 | 0.014152 | 0.017360
    | 1.617223e-03 |'
  id: totrans-985
  prefs: []
  type: TYPE_TB
  zh: '| mean | -0.009700 | 0.010306 | 9.732356e-03 | 8.028717e-05 | 0.014152 | 0.017360
    | 1.617223e-03 |'
- en: '| std | 1.040456 | 1.005488 | 1.000221e+00 | 1.000278e+00 | 0.989223 | 1.000401
    | 9.949811e-01 |'
  id: totrans-986
  prefs: []
  type: TYPE_TB
  zh: '| std | 1.040456 | 1.005488 | 1.000221e+00 | 1.000278e+00 | 0.989223 | 1.000401
    | 9.949811e-01 |'
- en: '| min | -4.991462 | -3.355431 | -2.782502e+00 | -2.870033e+00 | -2.336891 |
    -2.899210 | -2.483589e+00 |'
  id: totrans-987
  prefs: []
  type: TYPE_TB
  zh: '| min | -4.991462 | -3.355431 | -2.782502e+00 | -2.870033e+00 | -2.336891 |
    -2.899210 | -2.483589e+00 |'
- en: '| 25% | -0.670577 | -0.647337 | -6.588985e-01 | -6.705770e-01 | -0.670577 |
    -0.651072 | -6.705770e-01 |'
  id: totrans-988
  prefs: []
  type: TYPE_TB
  zh: '| 25% | -0.670577 | -0.647337 | -6.588985e-01 | -6.705770e-01 | -0.670577 |
    -0.651072 | -6.705770e-01 |'
- en: '| 50% | 0.006267 | 0.006267 | 8.881784e-16 | 8.881784e-16 | 0.018807 | 0.006267
    | 8.881784e-16 |'
  id: totrans-989
  prefs: []
  type: TYPE_TB
  zh: '| 50% | 0.006267 | 0.006267 | 8.881784e-16 | 8.881784e-16 | 0.018807 | 0.006267
    | 8.881784e-16 |'
- en: '| 75% | 0.670577 | 0.678574 | 6.705770e-01 | 6.705770e-01 | 0.682378 | 0.682642
    | 6.705770e-01 |'
  id: totrans-990
  prefs: []
  type: TYPE_TB
  zh: '| 75% | 0.670577 | 0.678574 | 6.705770e-01 | 6.705770e-01 | 0.682378 | 0.682642
    | 6.705770e-01 |'
- en: '| max | 2.807034 | 2.807034 | 2.807034e+00 | 2.807034e+00 | 2.807034 | 2.807034
    | 2.807034e+00 |'
  id: totrans-991
  prefs: []
  type: TYPE_TB
  zh: '| max | 2.807034 | 2.807034 | 2.807034e+00 | 2.807034e+00 | 2.807034 | 2.807034
    | 2.807034e+00 |'
- en: We should also check the matrix scatter plot again.
  id: totrans-992
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜åº”è¯¥å†æ¬¡æ£€æŸ¥çŸ©é˜µæ•£ç‚¹å›¾ã€‚
- en: If you performed normal score transform, you have standardized the mean and
    variance and correct the univariate shape of the distribution, but the bivariate
    relationships still depart from Gaussian.
  id: totrans-993
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ‰§è¡Œäº†æ­£æ€åˆ†æ•°å˜æ¢ï¼Œä½ å·²ç»æ ‡å‡†åŒ–äº†å‡å€¼å’Œæ–¹å·®ï¼Œå¹¶çº æ­£äº†åˆ†å¸ƒçš„å•å˜é‡å½¢çŠ¶ï¼Œä½†åŒå˜é‡å…³ç³»ä»ç„¶åç¦»é«˜æ–¯ã€‚
- en: '[PRE100]'
  id: totrans-994
  prefs: []
  type: TYPE_PRE
  zh: '[PRE100]'
- en: '![_images/884680b3106f0f9bc10b64a1888d213dedcd55860acea49e6f5bd179d1604868.png](../Images/8568ba1fa581044cc577242f378dd1db.png)'
  id: totrans-995
  prefs: []
  type: TYPE_IMG
  zh: '![_images/884680b3106f0f9bc10b64a1888d213dedcd55860acea49e6f5bd179d1604868.png](../Images/8568ba1fa581044cc577242f378dd1db.png)'
- en: This is the new DataFrame with standardized variables. Now we repeat the previous
    calculations.
  id: totrans-996
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¸¦æœ‰æ ‡å‡†åŒ–å˜é‡çš„æ–° DataFrameã€‚ç°åœ¨æˆ‘ä»¬é‡å¤ä¹‹å‰çš„è®¡ç®—ã€‚
- en: We will be more efficient this time and use quite compact code.
  id: totrans-997
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿™æ¬¡å°†æ›´æœ‰æ•ˆç‡ï¼Œå¹¶ä½¿ç”¨ç›¸å½“ç´§å‡‘çš„ä»£ç ã€‚
- en: '[PRE101]'
  id: totrans-998
  prefs: []
  type: TYPE_PRE
  zh: '[PRE101]'
- en: and repeat the previous summary plot.
  id: totrans-999
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¶é‡å¤ä¹‹å‰çš„æ€»ç»“å›¾ã€‚
- en: '[PRE102]'
  id: totrans-1000
  prefs: []
  type: TYPE_PRE
  zh: '[PRE102]'
- en: '![_images/e6320b5768883e13feea467d4888f04edce7671ecd0ba7a92874bc94656cd1a2.png](../Images/8eeed3569969856a648e8f7bf97ddb8b.png)'
  id: totrans-1001
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/8eeed3569969856a648e8f7bf97ddb8b.png)'
- en: 'What can you observe:'
  id: totrans-1002
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥è§‚å¯Ÿåˆ°ä»€ä¹ˆï¼š
- en: covariance is now equal to correlation coefficient
  id: totrans-1003
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åæ–¹å·®ç°åœ¨ç­‰äºç›¸å…³ç³»æ•°
- en: the semipartial correlations are sensitive to the feature standardization (affine
    correlation or normal score transform).
  id: totrans-1004
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åŠåç›¸å…³å¯¹ç‰¹å¾æ ‡å‡†åŒ–ï¼ˆä»¿å°„ç›¸å…³æˆ–æ­£æ€å¾—åˆ†è½¬æ¢ï¼‰æ•æ„Ÿã€‚
- en: Conditional Statistics
  id: totrans-1005
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¡ä»¶ç»Ÿè®¡
- en: We will separate the wells into low, mid and high production and access the
    difference in the conditional statistics.
  id: totrans-1006
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†äº•åˆ†ä¸ºä½ã€ä¸­ã€é«˜äº§é‡ï¼Œå¹¶æ£€æŸ¥æ¡ä»¶ç»Ÿè®¡çš„å·®å¼‚ã€‚
- en: This will provide a more flexible method to compare the relationship between
    each feature and production
  id: totrans-1007
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿™å°†æä¾›ä¸€ç§æ›´çµæ´»çš„æ–¹æ³•æ¥æ¯”è¾ƒæ¯ä¸ªç‰¹å¾ä¸ç”Ÿäº§ä¹‹é—´çš„å…³ç³»
- en: If the conditional statistics change significantly then that feature is informative
  id: totrans-1008
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœæ¡ä»¶ç»Ÿè®¡å‘ç”Ÿæ˜¾è‘—å˜åŒ–ï¼Œåˆ™è¯¥ç‰¹å¾æ˜¯æœ‰ä¿¡æ¯çš„
- en: We are going to make a single violin plot over all of our features
  id: totrans-1009
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†åœ¨æ‰€æœ‰ç‰¹å¾ä¸Šåˆ¶ä½œä¸€ä¸ªå•ç‹¬çš„å°æç´å›¾
- en: We need a categorical feature for production, so we truncate production to High
    or Low with this code,
  id: totrans-1010
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåˆ†ç±»ç‰¹å¾æ¥è¡¨ç¤ºç”Ÿäº§ï¼Œå› æ­¤ä½¿ç”¨æ­¤ä»£ç å°†ç”Ÿäº§æˆªæ–­ä¸ºé«˜æˆ–ä½ï¼Œ
- en: '[PRE103]'
  id: totrans-1011
  prefs: []
  type: TYPE_PRE
  zh: '[PRE103]'
- en: We will need to standardize all of our features so we can observe their relative
    differences together
  id: totrans-1012
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰ç‰¹å¾æ ‡å‡†åŒ–ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ä¸€èµ·è§‚å¯Ÿå®ƒä»¬çš„ç›¸å¯¹å·®å¼‚
- en: '[PRE104]'
  id: totrans-1013
  prefs: []
  type: TYPE_PRE
  zh: '[PRE104]'
- en: This code extracted the features into a new DataFrame â€˜xâ€™, then applied the
    standardization operation on each column (feature)
  id: totrans-1014
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ­¤ä»£ç å°†ç‰¹å¾æå–åˆ°æ–°çš„DataFrame 'x'ä¸­ï¼Œç„¶åå¯¹æ¯ä¸ªåˆ—ï¼ˆç‰¹å¾ï¼‰åº”ç”¨æ ‡å‡†åŒ–æ“ä½œ
- en: Then we add the truncated production feature into the standardized features
  id: totrans-1015
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å°†æˆªæ–­çš„ç”Ÿäº§ç‰¹å¾æ·»åŠ åˆ°æ ‡å‡†åŒ–ç‰¹å¾ä¸­
- en: '[PRE105]'
  id: totrans-1016
  prefs: []
  type: TYPE_PRE
  zh: '[PRE105]'
- en: We can then apply the melt command to unpivot the DataFrame
  id: totrans-1017
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨meltå‘½ä»¤æ¥é€†ç½®DataFrame
- en: '[PRE106]'
  id: totrans-1018
  prefs: []
  type: TYPE_PRE
  zh: '[PRE106]'
- en: 'We now have a long DataFrame (6 features x 200 samples = 12000 rows) with:'
  id: totrans-1019
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªé•¿DataFrameï¼ˆ6ä¸ªç‰¹å¾ x 200ä¸ªæ ·æœ¬ = 12000è¡Œï¼‰ï¼ŒåŒ…å«ï¼š
- en: 'production: Low or High'
  id: totrans-1020
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”Ÿäº§ï¼šä½æˆ–é«˜
- en: 'features: Por, Perm, AI, Brittle, TOC or VR'
  id: totrans-1021
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç‰¹å¾ï¼šPorã€Permã€AIã€Brittleã€TOCæˆ–VR
- en: standardized feature value
  id: totrans-1022
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ ‡å‡†åŒ–ç‰¹å¾å€¼
- en: We can then build our violin plot
  id: totrans-1023
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæˆ‘ä»¬çš„å°æç´å›¾
- en: x is our predictor features
  id: totrans-1024
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: xæ˜¯æˆ‘ä»¬çš„é¢„æµ‹ç‰¹å¾
- en: y is the standardized values for the predictor features (all now in one column)
  id: totrans-1025
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: yæ˜¯é¢„æµ‹ç‰¹å¾çš„æ ‡å‡†åŒ–å€¼ï¼ˆç°åœ¨éƒ½åœ¨ä¸€åˆ—ä¸­ï¼‰
- en: hue is the production level High or Low
  id: totrans-1026
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è‰²è°ƒæ˜¯ç”Ÿäº§æ°´å¹³çš„é«˜æˆ–ä½
- en: split is True so the violins are split in half
  id: totrans-1027
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: splitä¸ºTrueï¼Œå› æ­¤å°æç´å›¾è¢«åˆ†æˆä¸¤åŠ
- en: inner is quartiles for P25, P50 and P75 are plotted as dashed lines
  id: totrans-1028
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†…éƒ¨æ˜¯P25ã€P50å’ŒP75çš„å››åˆ†ä½æ•°ï¼Œä»¥è™šçº¿ç»˜åˆ¶
- en: '[PRE107]'
  id: totrans-1029
  prefs: []
  type: TYPE_PRE
  zh: '[PRE107]'
- en: '![_images/39636127cd144d1449668e2c0eee3c8e122afe9891a46cc3e4610d38ff16390a.png](../Images/97e5b28483156d276669ee0ba4b67c7a.png)'
  id: totrans-1030
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/97e5b28483156d276669ee0ba4b67c7a.png)'
- en: From the violin plot we can observe that the conditional distributions of porosity,
    permeability, TOC have the most variation between low and high production wells.
  id: totrans-1031
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å°æç´å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å­”éš™ç‡ã€æ¸—é€ç‡ã€TOCåœ¨ä½å’Œé«˜äº§é‡äº•ä¹‹é—´çš„æ¡ä»¶åˆ†å¸ƒå˜åŒ–æœ€å¤§ã€‚
- en: We can replace the plot with box and whisker plots of the conditional distributions.
  id: totrans-1032
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°†å›¾æ›¿æ¢ä¸ºæ¡ä»¶åˆ†å¸ƒçš„ç®±çº¿å›¾
- en: Box and whisker plots improve our ability to observe the conditional P25, P75
    and the upper and lower bounds from the Tukey outlier test.
  id: totrans-1033
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç®±çº¿å›¾æé«˜äº†æˆ‘ä»¬è§‚å¯Ÿæ¡ä»¶P25ã€P75ä»¥åŠTukeyå¼‚å¸¸å€¼æµ‹è¯•ä¸Šä¸‹é™çš„èƒ½åŠ›ã€‚
- en: '[PRE108]'
  id: totrans-1034
  prefs: []
  type: TYPE_PRE
  zh: '[PRE108]'
- en: '![_images/2121ce938f6088b2c90acec866c9ff94b488c33826983e13a20d4e1721016352.png](../Images/5cb6b0c21042f1de1888484ca5e64a81.png)'
  id: totrans-1035
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/5cb6b0c21042f1de1888484ca5e64a81.png)'
- en: From the conditional box plot we can observe that the conditional distributions
    of porosity, permeability, TOC have the most variation between low and high production
    wells.
  id: totrans-1036
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æ¡ä»¶ç®±çº¿å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å­”éš™ç‡ã€æ¸—é€ç‡ã€TOCåœ¨ä½å’Œé«˜äº§é‡äº•ä¹‹é—´çš„æ¡ä»¶åˆ†å¸ƒå˜åŒ–æœ€å¤§ã€‚
- en: We can observed the outliers in porosity, permeability (upper tail), total organic
    carbon (lower tail) and vitrinite reflectance.
  id: totrans-1037
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å­”éš™ç‡ã€æ¸—é€ç‡ï¼ˆä¸Šå°¾ï¼‰ã€æ€»æœ‰æœºç¢³ï¼ˆä¸‹å°¾ï¼‰å’Œé•œè´¨ä½“åå°„ç‡çš„å¼‚å¸¸å€¼ã€‚
- en: Variance Inflation Factor (VIF)
  id: totrans-1038
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ–¹å·®è†¨èƒ€å› å­ï¼ˆVIFï¼‰
- en: A measure of linear multicollinearity between a predictor feature (\(X_i\))
    a nd all other predictor features (\(X_j, \forall j \ne i\)).
  id: totrans-1039
  prefs: []
  type: TYPE_NORMAL
  zh: é¢„æµ‹ç‰¹å¾ï¼ˆ\(X_i\)ï¼‰ä¸æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾ï¼ˆ\(X_j, \forall j \ne i\)ï¼‰ä¹‹é—´çš„çº¿æ€§å¤šé‡å…±çº¿æ€§åº¦é‡ã€‚
- en: First we calculate a linear regression for a predictor feature given all the
    other predictor features.
  id: totrans-1040
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæˆ‘ä»¬é’ˆå¯¹æ‰€æœ‰å…¶ä»–é¢„æµ‹ç‰¹å¾è®¡ç®—ä¸€ä¸ªé¢„æµ‹ç‰¹å¾çš„çº¿æ€§å›å½’ã€‚
- en: \[ X_i = \sum_{j, j \ne i}^m X_j + \epsilon \]
  id: totrans-1041
  prefs: []
  type: TYPE_NORMAL
  zh: \[ X_i = \sum_{j, j \ne i}^m X_j + \epsilon \]
- en: From this model we determine the coefficient of determination, \(R^2\), known
    as variance explained.
  id: totrans-1042
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ç¡®å®šç¡®å®šç³»æ•° \(R^2\)ï¼Œä¹Ÿç§°ä¸ºæ–¹å·®è§£é‡Šã€‚
- en: 'Then we calculate the Variance Inflation Factor as:'
  id: totrans-1043
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæˆ‘ä»¬è®¡ç®—æ–¹å·®è†¨èƒ€å› å­å¦‚ä¸‹ï¼š
- en: \[ VIF = \frac{1}{1 - R^2} \]
  id: totrans-1044
  prefs: []
  type: TYPE_NORMAL
  zh: \[ VIF = \frac{1}{1 - R^2} \]
- en: '[PRE109]'
  id: totrans-1045
  prefs: []
  type: TYPE_PRE
  zh: '[PRE109]'
- en: '![_images/eaaa1c71dedcaed7ee83a0dfce8fdfb50ad17facc2a2c38a51caf6c6481cb547.png](../Images/5692efa445f9167d3d0d5a6d8f3e8bcb.png)'
  id: totrans-1046
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/5692efa445f9167d3d0d5a6d8f3e8bcb.png)'
- en: Vitrinite reflectance has the most linear redundancy while permeability has
    the least linear redundancy with other predictor features.
  id: totrans-1047
  prefs: []
  type: TYPE_NORMAL
  zh: çƒŸç…¤åå°„ç‡å…·æœ‰æœ€å¤šçš„çº¿æ€§å†—ä½™ï¼Œè€Œæ¸—é€ç‡ä¸å…¶ä»–é¢„æµ‹ç‰¹å¾å…·æœ‰æœ€å°‘çš„çº¿æ€§å†—ä½™ã€‚
- en: remember, high variance inflation factor is bad
  id: totrans-1048
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œé«˜æ–¹å·®è†¨èƒ€å› å­æ˜¯ä¸å¥½çš„ã€‚
- en: recall that variance inflation factor does not integrate the relationship between
    each predictor feature and the response feature.
  id: totrans-1049
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œæ–¹å·®è†¨èƒ€å› å­ä¸æ•´åˆæ¯ä¸ªé¢„æµ‹ç‰¹å¾ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„å…³ç³»ã€‚
- en: typically, variance inflation factor is used as a screening tool to remove features
    that have too much redundancy with other predictor features.
  id: totrans-1050
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œæ–¹å·®è†¨èƒ€å› å­è¢«ç”¨ä½œç­›é€‰å·¥å…·ï¼Œä»¥å»é™¤ä¸å…¶ä»–é¢„æµ‹ç‰¹å¾æœ‰è¿‡å¤šå†—ä½™çš„ç‰¹å¾ã€‚
- en: Now letâ€™s cover model-based feature ranking methods.
  id: totrans-1051
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬æ¥ä»‹ç»åŸºäºæ¨¡å‹çš„ç‰¹å¾æ’åºæ–¹æ³•ã€‚
- en: \(B\) Coefficients / Beta Weights
  id: totrans-1052
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: \(B\) ç³»æ•° / Beta Weights
- en: We could also consider \(B\) coefficients. These are the linear regression coefficients
    without standardization of the variables. Letâ€™s use the linear regression method
    that is available in the SciPy package.
  id: totrans-1053
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥è€ƒè™‘ \(B\) ç³»æ•°ã€‚è¿™äº›æ˜¯åœ¨å˜é‡æœªæ ‡å‡†åŒ–æ—¶çš„çº¿æ€§å›å½’ç³»æ•°ã€‚è®©æˆ‘ä»¬ä½¿ç”¨SciPyåŒ…ä¸­å¯ç”¨çš„çº¿æ€§å›å½’æ–¹æ³•ã€‚
- en: 'The estimator for \(Y\) is simply the linear equation:'
  id: totrans-1054
  prefs: []
  type: TYPE_NORMAL
  zh: \(Y\) çš„ä¼°è®¡é‡åªæ˜¯ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ï¼š
- en: \begin{equation} Y^* = \sum_{i=1}^{m} b_i X_i + c \end{equation}
  id: totrans-1055
  prefs: []
  type: TYPE_NORMAL
  zh: \[ Y^* = \sum_{i=1}^{m} b_i X_i + c \]
- en: The \(b_i\) coefficients are solved to minimize the squared error between the
    estimates, \(Y^*\) and the values in the training dataset, \(Y\).
  id: totrans-1056
  prefs: []
  type: TYPE_NORMAL
  zh: \(b_i\) ç³»æ•°æ˜¯é€šè¿‡æœ€å°åŒ–ä¼°è®¡å€¼ \(Y^*\) ä¸è®­ç»ƒæ•°æ®é›†ä¸­å€¼ \(Y\) ä¹‹é—´çš„å¹³æ–¹è¯¯å·®æ¥è§£å†³çš„ã€‚
- en: '[PRE110]'
  id: totrans-1057
  prefs: []
  type: TYPE_PRE
  zh: '[PRE110]'
- en: '![_images/ddb18df2725eafa50c95853e6bec78f8aa249726ae339ee0d874966578afdf95.png](../Images/7da7b523b4ae881b20a379148ea78eea.png)'
  id: totrans-1058
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/7da7b523b4ae881b20a379148ea78eea.png)'
- en: The output is the \(b\) coefficients, ordered over our features from \(b_i,
    i = 1,\ldots,n\) and then the intercept, \(c\), that I have removed to avoid confusion.
  id: totrans-1059
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºæ˜¯ \(b\) ç³»æ•°ï¼ŒæŒ‰æˆ‘ä»¬çš„ç‰¹å¾ä» \(b_i, i = 1,\ldots,n\) æ’åºï¼Œç„¶åæ˜¯æˆªè· \(c\)ï¼Œæˆ‘å·²å°†å…¶ç§»é™¤ä»¥é¿å…æ··æ·†ã€‚
- en: we see the negative contribution of AI and TOC
  id: totrans-1060
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çœ‹åˆ°äº†äººå·¥æ™ºèƒ½å’ŒTOCçš„è´Ÿé¢å½±å“ã€‚
- en: the results are very sensitive to the magnitudes of the variances of the predictor
    features.
  id: totrans-1061
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»“æœå¯¹é¢„æµ‹ç‰¹å¾æ–¹å·®çš„å¹…åº¦éå¸¸æ•æ„Ÿã€‚
- en: We can remove this sensitivity by working with standardized features.
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤„ç†æ ‡å‡†åŒ–ç‰¹å¾æ¥æ¶ˆé™¤è¿™ç§æ•æ„Ÿæ€§ã€‚
- en: \(\beta\) Coefficients / Beta Weights
  id: totrans-1063
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: \(\beta\) ç³»æ•° / Beta Weights
- en: \(\beta\) coefficients are calculated as the linear regression of the coefficients
    after we have standardized the predictor and response features to have a variance
    of one.
  id: totrans-1064
  prefs: []
  type: TYPE_NORMAL
  zh: \(\beta\) ç³»æ•°æ˜¯åœ¨æˆ‘ä»¬å°†é¢„æµ‹å’Œå“åº”ç‰¹å¾æ ‡å‡†åŒ–ä¸ºæ–¹å·®ä¸º1ä¹‹åè®¡ç®—çº¿æ€§å›å½’ç³»æ•°çš„ã€‚
- en: \begin{equation} \sigma^2_{X^s_i} = 1.0 \quad \forall \quad i = 1,\ldots,m,
    \quad \sigma^2_{Y^s} = 1.0 \end{equation}
  id: totrans-1065
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \sigma^2_{X^s_i} = 1.0 \quad \forall \quad i = 1,\ldots,m, \quad \sigma^2_{Y^s}
    = 1.0 \]
- en: 'The estimator for \(Y^s\) standardized is simply the linear equation:'
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: \(Y^s\) çš„ä¼°è®¡é‡åªæ˜¯ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ï¼š
- en: \begin{equation} Y^{s*} = \sum_{i=1}^{m} \beta_i X^s_i + c \end{equation}
  id: totrans-1067
  prefs: []
  type: TYPE_NORMAL
  zh: \[ Y^{s*} = \sum_{i=1}^{m} \beta_i X^s_i + c \]
- en: It is convenient that we have just standardized all our variables to have a
    variance of 1.0 just recently (see above). Letâ€™s use the same linear regression
    method again on the standardized features to get \(\beta\) coefficients.
  id: totrans-1068
  prefs: []
  type: TYPE_NORMAL
  zh: å¾ˆæ–¹ä¾¿çš„æ˜¯ï¼Œæˆ‘ä»¬åˆšåˆšåˆšåˆšå°†æ‰€æœ‰å˜é‡æ ‡å‡†åŒ–ï¼Œä½¿å…¶æ–¹å·®ä¸º1.0ï¼ˆè§ä¸Šæ–‡ï¼‰ã€‚è®©æˆ‘ä»¬å†æ¬¡ä½¿ç”¨ç›¸åŒçš„çº¿æ€§å›å½’æ–¹æ³•åœ¨æ ‡å‡†åŒ–ç‰¹å¾ä¸Šå¾—åˆ° \(\beta\) ç³»æ•°ã€‚
- en: '[PRE111]'
  id: totrans-1069
  prefs: []
  type: TYPE_PRE
  zh: '[PRE111]'
- en: '![_images/29565b4c74d530743a2aacdb6e0cda302fe0e962b6635c8cc1f909311289fcd9.png](../Images/63a59eb20ac3161240452ef8f6fcd97a.png)'
  id: totrans-1070
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/63a59eb20ac3161240452ef8f6fcd97a.png)'
- en: 'Some observations:'
  id: totrans-1071
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€äº›è§‚å¯Ÿï¼š
- en: the change between \(b\) and \(\beta\) coefficients is not just a constant scaling
    on the ranking metrics, because the linear model coefficients are also sensitive
    to the ranges and magnitudes of the features.
  id: totrans-1072
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(b\) å’Œ \(\beta\) ç³»æ•°ä¹‹é—´çš„å˜åŒ–ä¸ä»…ä»…æ˜¯æ’åæŒ‡æ ‡ä¸Šçš„å¸¸æ•°ç¼©æ”¾ï¼Œå› ä¸ºçº¿æ€§æ¨¡å‹ç³»æ•°å¯¹ç‰¹å¾çš„å–å€¼èŒƒå›´å’Œå¹…åº¦ä¹Ÿå¾ˆæ•æ„Ÿã€‚
- en: with beta coefficients porosity, acoustic impedance and total organic carbon
    have higher rank for estimating production
  id: totrans-1073
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è´å¡”ç³»æ•°å­”éš™ç‡ã€å£°é˜»æŠ—å’Œæ€»æœ‰æœºç¢³åœ¨ä¼°è®¡äº§é‡æ–¹é¢å…·æœ‰æ›´é«˜çš„æ’å
- en: Feature Importance
  id: totrans-1074
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾é‡è¦æ€§
- en: 'A variety of machine learning methods provide measures of feature importance,
    for example decision trees the reduction in mean square error through inclusion
    of each feature and is summarized as:'
  id: totrans-1075
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸åŒçš„æœºå™¨å­¦ä¹ æ–¹æ³•æä¾›äº†ç‰¹å¾é‡è¦æ€§çš„åº¦é‡ï¼Œä¾‹å¦‚å†³ç­–æ ‘é€šè¿‡åŒ…å«æ¯ä¸ªç‰¹å¾æ¥å‡å°‘å‡æ–¹è¯¯å·®ï¼Œå¹¶æ€»ç»“å¦‚ä¸‹ï¼š
- en: \[ FI(x) = \sum_{t \in T_f} \frac{N_t}{N} \Delta_{MSE_t} \]
  id: totrans-1076
  prefs: []
  type: TYPE_NORMAL
  zh: \[ FI(x) = \sum_{t \in T_f} \frac{N_t}{N} \Delta_{MSE_t} \]
- en: where \(T_f\) are all nodes with feature \(x\) as the split, \(N_t\) is the
    number of training samples reaching node \(t\), \(N\) is the total number of samples
    in the dataset and \(\Delta_{MSE_t}\) is the reduction in MSE with the \(t\) split.
  id: totrans-1077
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ \(T_f\) æ˜¯æ‰€æœ‰ä»¥ç‰¹å¾ \(x\) ä¸ºåˆ†å‰²ç‚¹çš„èŠ‚ç‚¹ï¼Œ\(N_t\) æ˜¯è¾¾åˆ°èŠ‚ç‚¹ \(t\) çš„è®­ç»ƒæ ·æœ¬æ•°é‡ï¼Œ\(N\) æ˜¯æ•°æ®é›†ä¸­æ ·æœ¬çš„æ€»æ•°ï¼Œ\(\Delta_{MSE_t}\)
    æ˜¯ \(t\) åˆ†å‰²ç‚¹çš„ MSE å‡å°‘é‡ã€‚
- en: Note, feature importance can be calculated in a similar manner to MSE above
    for the case of classification trees with **Gini Impurity**.
  id: totrans-1078
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œç‰¹å¾é‡è¦æ€§å¯ä»¥åƒä¸Šé¢çš„å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ä¸€æ ·è®¡ç®—ï¼Œé€‚ç”¨äºå…·æœ‰ **Gini ä¸çº¯åº¦** çš„åˆ†ç±»æ ‘ã€‚
- en: Letâ€™s look at the feature importance from a random forest regression model fit
    to our data.
  id: totrans-1079
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹ä»é€‚åˆæˆ‘ä»¬æ•°æ®çš„éšæœºæ£®æ—å›å½’æ¨¡å‹ä¸­å¾—åˆ°çš„ç‰¹å¾é‡è¦æ€§ã€‚
- en: We instantiate a random forest with default hyperparameters. This results in
    unlimited complexity, over-trained trees in our forest. The averaging of these
    trees takes care of the overfit issue.
  id: totrans-1080
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨é»˜è®¤çš„è¶…å‚æ•°å®ä¾‹åŒ–ä¸€ä¸ªéšæœºæ£®æ—ã€‚è¿™å¯¼è‡´æˆ‘ä»¬çš„æ£®æ—ä¸­å­˜åœ¨æ— é™å¤æ‚æ€§å’Œè¿‡æ‹Ÿåˆçš„æ ‘ã€‚è¿™äº›æ ‘çš„å¹³å‡å¤„ç†è´Ÿè´£è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜ã€‚
- en: Then we train our random forest and extract the feature importances, calculated
    as the expectated feature importance over all the trees in the forest.
  id: totrans-1081
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬è®­ç»ƒæˆ‘ä»¬çš„éšæœºæ£®æ—å¹¶æå–ç‰¹å¾é‡è¦æ€§ï¼Œè¿™æ˜¯é€šè¿‡è®¡ç®—æ£®æ—ä¸­æ‰€æœ‰æ ‘çš„æœŸæœ›ç‰¹å¾é‡è¦æ€§æ¥è®¡ç®—çš„ã€‚
- en: we can also extract the feature importances over all the trees in the forest
    and summarize with the standard deviation to access the robustness, uncertainty
    of our feature importance measure
  id: totrans-1082
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»æ£®æ—ä¸­çš„æ‰€æœ‰æ ‘ä¸­æå–ç‰¹å¾é‡è¦æ€§ï¼Œå¹¶ç”¨æ ‡å‡†å·®æ¥æ€»ç»“ï¼Œä»¥è¯„ä¼°æˆ‘ä»¬ç‰¹å¾é‡è¦æ€§æµ‹é‡çš„é²æ£’æ€§å’Œä¸ç¡®å®šæ€§ã€‚
- en: For more information check out my lecture on [random forest](https://www.youtube.com/watch?v=m5_wk310fho&list=PLG19vXLQHvSC2ZKFIkgVpI9fCjkN38kwf&index=39)
    predictive machine learning.
  id: totrans-1083
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹æˆ‘çš„å…³äº [éšæœºæ£®æ—](https://www.youtube.com/watch?v=m5_wk310fho&list=PLG19vXLQHvSC2ZKFIkgVpI9fCjkN38kwf&index=39)
    é¢„æµ‹æœºå™¨å­¦ä¹ çš„è®²åº§ã€‚
- en: '[PRE112]'
  id: totrans-1084
  prefs: []
  type: TYPE_PRE
  zh: '[PRE112]'
- en: '![_images/633da2b9b4e395da57c78aa4f82399344b016071733ef9fb8569d30c70d92604.png](../Images/4221de8488fdf2ce8f7716c22e1ea9d8.png)'
  id: totrans-1085
  prefs: []
  type: TYPE_IMG
  zh: '![_images/633da2b9b4e395da57c78aa4f82399344b016071733ef9fb8569d30c70d92604.png](../Images/4221de8488fdf2ce8f7716c22e1ea9d8.png)'
- en: There is more we can do with model-based methods. We will actually test models
    to assess the incremental impact of each predictor feature! We will try this with
    recursive feature elimination.
  id: totrans-1086
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨åŸºäºæ¨¡å‹çš„æ–¹æ³•åšæ›´å¤šçš„äº‹æƒ…ã€‚æˆ‘ä»¬å°†å®é™…æµ‹è¯•æ¨¡å‹ä»¥è¯„ä¼°æ¯ä¸ªé¢„æµ‹ç‰¹å¾çš„å¢åŠ å½±å“ï¼æˆ‘ä»¬å°†å°è¯•ä½¿ç”¨é€’å½’ç‰¹å¾æ¶ˆé™¤æ³•æ¥åšè¿™ä¸ªå®éªŒã€‚
- en: Letâ€™s plot the results from the \(B\) and \(\beta\) coefficients and compare
    with the previous results.
  id: totrans-1087
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç»˜åˆ¶ \(B\) å’Œ \(\beta\) ç³»æ•°çš„ç»“æœï¼Œå¹¶ä¸ä¹‹å‰çš„ç»“æœè¿›è¡Œæ¯”è¾ƒã€‚
- en: '[PRE113]'
  id: totrans-1088
  prefs: []
  type: TYPE_PRE
  zh: '[PRE113]'
- en: '![_images/28592d6d0a57887d32a07cc893157689a5862f636dd4b208cc9b42b3dc9dd964.png](../Images/9b736db6a7b146115943a1775ce2cc0d.png)'
  id: totrans-1089
  prefs: []
  type: TYPE_IMG
  zh: '![_images/28592d6d0a57887d32a07cc893157689a5862f636dd4b208cc9b42b3dc9dd964.png](../Images/9b736db6a7b146115943a1775ce2cc0d.png)'
- en: Mutual Information
  id: totrans-1090
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: äº’ä¿¡æ¯
- en: Mutual information is a generalized approach that quantifies the mutual dependence
    between two features.
  id: totrans-1091
  prefs: []
  type: TYPE_NORMAL
  zh: äº’ä¿¡æ¯æ˜¯ä¸€ç§é€šç”¨æ–¹æ³•ï¼Œå®ƒé‡åŒ–äº†ä¸¤ä¸ªç‰¹å¾ä¹‹é—´çš„ç›¸äº’ä¾èµ–æ€§ã€‚
- en: quantifies the amount of information gained from observing one feature about
    the other
  id: totrans-1092
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é‡åŒ–ä»è§‚å¯Ÿä¸€ä¸ªç‰¹å¾å…³äºå¦ä¸€ä¸ªç‰¹å¾è·å¾—çš„ä¿¡æ¯é‡
- en: avoids any assumption about the form of the relationship (e.g. no assumption
    of linear relationship)
  id: totrans-1093
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¿å…å¯¹å…³ç³»çš„å½¢çŠ¶åšå‡ºä»»ä½•å‡è®¾ï¼ˆä¾‹å¦‚ï¼Œæ²¡æœ‰çº¿æ€§å…³ç³»çš„å‡è®¾ï¼‰
- en: compares the joint probabilities to the product of the marginal probabilities
  id: totrans-1094
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†è”åˆæ¦‚ç‡ä¸è¾¹ç¼˜æ¦‚ç‡çš„ä¹˜ç§¯è¿›è¡Œæ¯”è¾ƒ
- en: 'For discrete or binned continuous features \(X\) and \(Y\), mutual information
    is calculated as:'
  id: totrans-1095
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç¦»æ•£æˆ–åˆ†ç®±çš„è¿ç»­ç‰¹å¾ \(X\) å’Œ \(Y\)ï¼Œäº’ä¿¡æ¯è®¡ç®—å¦‚ä¸‹ï¼š
- en: \[ I(X;Y) = \sum_{y \in Y} \sum_{x \in X}P_{X,Y}(x,y) log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) \]
  id: totrans-1096
  prefs: []
  type: TYPE_NORMAL
  zh: \[ I(X;Y) = \sum_{y \in Y} \sum_{x \in X}P_{X,Y}(x,y) log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) \]
- en: 'recall, given independence between \(X\) and \(Y\):'
  id: totrans-1097
  prefs: []
  type: TYPE_NORMAL
  zh: å›æƒ³ä¸€ä¸‹ï¼Œç»™å®š \(X\) å’Œ \(Y\) ä¹‹é—´çš„ç‹¬ç«‹æ€§ï¼š
- en: \[ P_{X,Y}(x,y) = P_X(x) \cdot P_Y(y) \]
  id: totrans-1098
  prefs: []
  type: TYPE_NORMAL
  zh: \[ P_{X,Y}(x,y) = P_X(x) \cdot P_Y(y) \]
- en: therefore if the two features are independent then the \(log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) = 0\)
  id: totrans-1099
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå¦‚æœä¸¤ä¸ªç‰¹å¾æ˜¯ç‹¬ç«‹çš„ï¼Œé‚£ä¹ˆ \(\log \left( \frac{P_{X,Y}(x,y)}{P_X(x) \cdot P_Y(y)} \right)
    = 0\)
- en: The joint probability \(P_{X,Y}(x,y)\) is a weighting term on the sum and enforces
    closure.
  id: totrans-1100
  prefs: []
  type: TYPE_NORMAL
  zh: è”åˆæ¦‚ç‡ \(P_{X,Y}(x,y)\) æ˜¯åŠ æƒé¡¹ï¼Œå¯¹æ€»å’Œè¿›è¡Œçº¦æŸï¼Œå¹¶å¼ºåˆ¶å°é—­ã€‚
- en: parts of the joint distribution with greater density have greater impact on
    the mutual information metric
  id: totrans-1101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è”åˆåˆ†å¸ƒä¸­å¯†åº¦è¾ƒå¤§çš„éƒ¨åˆ†å¯¹äº’ä¿¡æ¯åº¦é‡æœ‰æ›´å¤§çš„å½±å“
- en: For continuous (and nonbinned) features we can applied the integral form.
  id: totrans-1102
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿ç»­ï¼ˆå’Œéåˆ†ç®±ï¼‰ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨ç§¯åˆ†å½¢å¼ã€‚
- en: \[ I(X;Y) = \int_{Y} \int_{X}P_{X,Y}(x,y) log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) dx dy \]
  id: totrans-1103
  prefs: []
  type: TYPE_NORMAL
  zh: \[ I(X;Y) = \int_{Y} \int_{X}P_{X,Y}(x,y) log \left( \frac{P_{X,Y}(x,y)}{P_X(x)
    \cdot P_Y(y)} \right) dx dy \]
- en: We get a sorted list of the indices in decreasing order of importance with the
    command
  id: totrans-1104
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€šè¿‡å‘½ä»¤è·å¾—æŒ‰é‡è¦æ€§é€’å‡é¡ºåºæ’åºçš„ç´¢å¼•åˆ—è¡¨ã€‚
- en: '[PRE114]'
  id: totrans-1105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE114]'
- en: the slice reverses the order, for descending order of feature importance.
  id: totrans-1106
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ‡ç‰‡åè½¬äº†é¡ºåºï¼Œä»¥æŒ‰ç‰¹å¾é‡è¦æ€§é™åºæ’åˆ—ã€‚
- en: '[PRE115]'
  id: totrans-1107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE115]'
- en: '[PRE116]'
  id: totrans-1108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE116]'
- en: '![_images/704e3c6fd50614dcf67edb8dd01d1392f4509c1017dae51fcd1a26281de97377.png](../Images/d12dd6dd61aa76402a54c096acd0768b.png)'
  id: totrans-1109
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/d12dd6dd61aa76402a54c096acd0768b.png)'
- en: Mutual Information Accounting For Relevance and Redundancy
  id: totrans-1110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç›¸å…³æ€§å’Œå†—ä½™çš„äº’ä¿¡æ¯
- en: The standard Maximum Relevance - Minumum Redundancy (MRMR) objective function
    considers a subset of predictor features, i.e., to score predictor feature subsets
    as metric to identify the most informative subset of predictor features.
  id: totrans-1111
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‡å‡†çš„æœ€å¤§ç›¸å…³æ€§-æœ€å°å†—ä½™ï¼ˆMRMRï¼‰ç›®æ ‡å‡½æ•°è€ƒè™‘é¢„æµ‹ç‰¹å¾çš„å­é›†ï¼Œå³ï¼Œå°†é¢„æµ‹ç‰¹å¾å­é›†ä½œä¸ºåº¦é‡æ ‡å‡†æ¥è¯†åˆ«æœ€å…·æœ‰ä¿¡æ¯é‡çš„é¢„æµ‹ç‰¹å¾å­é›†ã€‚
- en: the approach calculates the average mutual information between the subset of
    predictor features and the response feature minus the average mutual information
    between the subset of predictor features.
  id: totrans-1112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¯¥æ–¹æ³•è®¡ç®—é¢„æµ‹ç‰¹å¾å­é›†ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„å¹³å‡äº’ä¿¡æ¯å‡å»é¢„æµ‹ç‰¹å¾å­é›†ä¹‹é—´çš„å¹³å‡äº’ä¿¡æ¯ã€‚
- en: \begin{equation} MID = \frac{1}{|S|}{\sum_{\alpha \in S} I(X_{\alpha},Y) } -
    \frac{1}{|S|^2} {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})}
    \end{equation}
  id: totrans-1113
  prefs: []
  type: TYPE_NORMAL
  zh: \[ MID = \frac{1}{|S|}{\sum_{\alpha \in S} I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})} \]
- en: as a measure of \(relevance - redundancy\) or
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸º \(ç›¸å…³æ€§ - ä½™åº¦\) çš„åº¦é‡æˆ–
- en: \begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha \in S}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-1115
  prefs: []
  type: TYPE_NORMAL
  zh: \[ MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha \in S}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})} } \]
- en: as a measure of \(\frac{relevance}{redundancy}\).
  id: totrans-1116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½œä¸º \(\frac{ç›¸å…³æ€§}{å†—ä½™}\) çš„åº¦é‡ã€‚
- en: Mutual Information Accounting For Relevance and Redundancy
  id: totrans-1117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç›¸å…³æ€§å’Œå†—ä½™çš„äº’ä¿¡æ¯
- en: The standard Maximum Relevance - Minumum Redundancy (MRMR) objective function
    considers a subset of predictor features, i.e., to score predictor feature subsets
    as metric to identify the most informative subset of predictor features.
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‡å‡†çš„æœ€å¤§ç›¸å…³æ€§-æœ€å°å†—ä½™ï¼ˆMRMRï¼‰ç›®æ ‡å‡½æ•°è€ƒè™‘é¢„æµ‹ç‰¹å¾çš„å­é›†ï¼Œå³ï¼Œå°†é¢„æµ‹ç‰¹å¾å­é›†ä½œä¸ºåº¦é‡æ ‡å‡†æ¥è¯†åˆ«æœ€å…·æœ‰ä¿¡æ¯é‡çš„é¢„æµ‹ç‰¹å¾å­é›†ã€‚
- en: the approach calculates the average mutual information between the subset of
    predictor features and the response feature minus the average mutual information
    between the subset of predictor features.
  id: totrans-1119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¯¥æ–¹æ³•è®¡ç®—é¢„æµ‹ç‰¹å¾å­é›†ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„å¹³å‡äº’ä¿¡æ¯å‡å»é¢„æµ‹ç‰¹å¾å­é›†ä¹‹é—´çš„å¹³å‡äº’ä¿¡æ¯ã€‚
- en: \begin{equation} MID = \frac{1}{|S|}{\sum_{\alpha \in S} I(X_{\alpha},Y) } -
    \frac{1}{|S|^2} {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})}
    \end{equation}
  id: totrans-1120
  prefs: []
  type: TYPE_NORMAL
  zh: \[ MID = \frac{1}{|S|}{\sum_{\alpha \in S} I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})} \]
- en: as a measure of \(relevance - redundancy\) or
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸º \(ç›¸å…³æ€§ - ä½™åº¦\) çš„åº¦é‡æˆ–
- en: \begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha \in S}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-1122
  prefs: []
  type: TYPE_NORMAL
  zh: \[ MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha \in S}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha \in S}^m \sum_{\beta \in S}^m I(X_{\alpha},X_{\beta})} } \]
- en: as a measure of \(\frac{relevance}{redundancy}\).
  id: totrans-1123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½œä¸º \(\frac{ç›¸å…³æ€§}{å†—ä½™}\) çš„åº¦é‡ã€‚
- en: Mutual Information Accounting For Relevance and Redundancy OFAT Variants
  id: totrans-1124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç›¸å…³æ€§å’Œå†—ä½™çš„äº’ä¿¡æ¯ OFAT å˜ä½“
- en: 'I propose that for one-feature-at-a-time (OFAT) predictor feature ranking (predictor
    feature subset, \(S = [X_i]\) and \(|S| = 1\)) we modify this to the following
    calculation:'
  id: totrans-1125
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å»ºè®®å¯¹äºä¸€æ¬¡ä¸€ä¸ªç‰¹å¾çš„é¢„æµ‹ç‰¹å¾æ’åºï¼ˆé¢„æµ‹ç‰¹å¾å­é›†ï¼Œ\(S = [X_i]\) ä¸” \(|S| = 1\)ï¼‰ï¼Œæˆ‘ä»¬å°†æ­¤ä¿®æ”¹ä¸ºä»¥ä¸‹è®¡ç®—ï¼š
- en: '**relevance** - the mutual information between the selected predictor feature,
    \(X_i\), and the response feature, \(Y\)'
  id: totrans-1126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç›¸å…³æ€§** - é€‰å®šçš„é¢„æµ‹ç‰¹å¾ \(X_i\) ä¸å“åº”ç‰¹å¾ \(Y\) ä¹‹é—´çš„äº’ä¿¡æ¯'
- en: '**redundancy** - the average mutual information between the selected predictor
    feature, \(X_i\), and the remaining predictor features, \(X_{\alpha}, \alpha \ne
    i\).'
  id: totrans-1127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å†—ä½™** - æ‰€é€‰é¢„æµ‹ç‰¹å¾ \(X_i\) ä¸å‰©ä½™é¢„æµ‹ç‰¹å¾ \(X_{\alpha}, \alpha \ne i\) ä¹‹é—´çš„å¹³å‡äº’ä¿¡æ¯ã€‚'
- en: we use the quotient form of the calculation from Gulgezen, Cataltepe and Yu
    (2009).
  id: totrans-1128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨ Gulgezenã€Cataltepe å’Œ Yu (2009) çš„è®¡ç®—å…¬å¼çš„å•†å½¢å¼ã€‚
- en: 'Our modified version of the Maximum Relevance - Minumum Redundancy (MRMR) objective
    function for OFAT ranking scores the selected predictor feature \(X_i\)â€™s **relevance**
    as its mutual information with the response feature:'
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¿®æ”¹äº†æœ€å¤§ç›¸å…³æ€§-æœ€å°å†—ä½™ï¼ˆMRMRï¼‰ç›®æ ‡å‡½æ•°ï¼Œç”¨äºOFATæ’åï¼Œå®ƒå°†æ‰€é€‰é¢„æµ‹ç‰¹å¾ \(X_i\) çš„**ç›¸å…³æ€§**è§†ä¸ºå…¶ä¸å“åº”ç‰¹å¾çš„äº’ä¿¡æ¯ï¼š
- en: \begin{equation} I(X_i,Y) \end{equation}
  id: totrans-1130
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} I(X_i,Y) \end{equation}
- en: 'and **redundancy** between the selected predictor feature, \(X_i\), and the
    remaining predictor features:'
  id: totrans-1131
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŠæ‰€é€‰é¢„æµ‹ç‰¹å¾ \(X_i\) ä¸å‰©ä½™é¢„æµ‹ç‰¹å¾ä¹‹é—´çš„**å†—ä½™**ï¼š
- en: \begin{equation} \frac{1}{|S|-1} \sum_{\alpha=1, \alpha \ne i}^m I(X_i,X_{\alpha})
    \end{equation}
  id: totrans-1132
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} \frac{1}{|S|-1} \sum_{\alpha=1, \alpha \ne i}^m I(X_i,X_{\alpha})
    \end{equation}
- en: were \(X\) are predictor features, \(Y\) is the response feature, \(X_i\) is
    the specific predictor feature being scored and \(|S|\) is the number of predictor
    features and \(I()\) is mutual information between the indicated features. One
    formulation is a simple difference, relevance minus redundancy,
  id: totrans-1133
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ \(X\) æ˜¯é¢„æµ‹ç‰¹å¾ï¼Œ\(Y\) æ˜¯å“åº”ç‰¹å¾ï¼Œ\(X_i\) æ˜¯è¢«è¯„åˆ†çš„å…·ä½“é¢„æµ‹ç‰¹å¾ï¼Œ\(|S|\) æ˜¯é¢„æµ‹ç‰¹å¾çš„æ•°é‡ï¼Œ\(I()\) æ˜¯æŒ‡ç¤ºç‰¹å¾ä¹‹é—´çš„äº’ä¿¡æ¯ã€‚ä¸€ç§å…¬å¼æ˜¯ç®€å•çš„å·®å€¼ï¼Œç›¸å…³æ€§å‡å»å†—ä½™ï¼Œ
- en: \[ \Phi_{\Delta}(X_i,Y) = I(X_{\alpha},Y) - \frac{1}{|S|-1} \sum_{\beta=1, \alpha
    \ne \beta}^m I( X_{\alpha},X_{\beta} ) \]
  id: totrans-1134
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \Phi_{\Delta}(X_i,Y) = I(X_{\alpha},Y) - \frac{1}{|S|-1} \sum_{\beta=1, \alpha
    \ne \beta}^m I( X_{\alpha},X_{\beta} ) \]
- en: an alternative is a ratio,
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ä¸ªé€‰æ‹©æ˜¯æ¯”ç‡ï¼Œ
- en: \[ \Phi_{r}(X_i,Y) = \frac{ I(X_i,Y) }{ \frac{1}{|S|-1} \sum_{\alpha=1, \alpha
    \ne i}^m I(X_i,X_{\alpha})} \]
  id: totrans-1136
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \Phi_{r}(X_i,Y) = \frac{ I(X_i,Y) }{ \frac{1}{|S|-1} \sum_{\alpha=1, \alpha
    \ne i}^m I(X_i,X_{\alpha})} \]
- en: Here the feature ranks for the mutual information relevance minus redundancy,
    \(\Phi_{\Delta}(X_i,Y)\), approach.
  id: totrans-1137
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œç‰¹å¾æ’åæ˜¯é€šè¿‡äº’ä¿¡æ¯ç›¸å…³å‡å»å†—ä½™çš„ \(\Phi_{\Delta}(X_i,Y)\) æ–¹æ³•æ¥å®ç°çš„ã€‚
- en: '[PRE117]'
  id: totrans-1138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE117]'
- en: '![_images/c0b176e4990bdb326b638222358d06af771613f6ae47153d42a7e2614c7d3c28.png](../Images/ce31fdb26712840a6f374091a92555c3.png)'
  id: totrans-1139
  prefs: []
  type: TYPE_IMG
  zh: '![_images/c0b176e4990bdb326b638222358d06af771613f6ae47153d42a7e2614c7d3c28.png](../Images/ce31fdb26712840a6f374091a92555c3.png)'
- en: Delta Mutual Information Quotient Accounting for Relevance and Redundancy
  id: totrans-1140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç›¸å…³æ€§å’Œå†—ä½™çš„Deltaäº’ä¿¡æ¯å•†
- en: We use adapt the mutual information quotient from Gulgezen, Cataltepe and Yu
    (2009) to develop an OFAT ranking metric.
  id: totrans-1141
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é‡‡ç”¨ Gulgezenã€Cataltepe å’Œ Yu (2009) çš„äº’ä¿¡æ¯å•†æ¥å¼€å‘ä¸€ä¸ªOFATæ’åæŒ‡æ ‡ã€‚
- en: 'The standard MRMR objective function that scores the subset of featuresâ€™ **relevance**
    between the subset of predictor features and the response feature:'
  id: totrans-1142
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‡å‡†çš„MRMRç›®æ ‡å‡½æ•°è¯„ä¼°é¢„æµ‹ç‰¹å¾å­é›†ä¸å“åº”ç‰¹å¾ä¹‹é—´çš„**ç›¸å…³æ€§**ï¼š
- en: \begin{equation} \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } \end{equation}
  id: totrans-1143
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } \end{equation}
- en: 'and **redundancy** between the subset of predictor features:'
  id: totrans-1144
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŠé¢„æµ‹ç‰¹å¾å­é›†ä¹‹é—´çš„**å†—ä½™**ï¼š
- en: \begin{equation} \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    \end{equation}
  id: totrans-1145
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    \end{equation}
- en: To find the most informative subset of predictor features we must find the subset
    of features that maximize relevance while minimizing redundancy. We can accomplish
    this by maximizing either of these two formulations,
  id: totrans-1146
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ‰¾åˆ°æœ€æœ‰ä¿¡æ¯é‡çš„é¢„æµ‹ç‰¹å¾å­é›†ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°æœ€å¤§åŒ–ç›¸å…³æ€§åŒæ—¶æœ€å°åŒ–å†—ä½™çš„ç‰¹å¾å­é›†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€å¤§åŒ–ä»¥ä¸‹ä¸¤ç§å…¬å¼ä¸­çš„ä»»ä½•ä¸€ä¸ªæ¥å®ç°è¿™ä¸€ç‚¹ï¼Œ
- en: \begin{equation} MID = \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} \end{equation}
  id: totrans-1147
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} MID = \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} \end{equation}
- en: or
  id: totrans-1148
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…
- en: \begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-1149
  prefs: []
  type: TYPE_NORMAL
  zh: \begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
- en: I suggest feature ranking through the calculation of the change in \(MIQ\) via
    inclusion and removal of a specific predictor feature (\(X_i\)).
  id: totrans-1150
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å»ºè®®é€šè¿‡åŒ…å«å’Œåˆ é™¤ç‰¹å®šé¢„æµ‹ç‰¹å¾ï¼ˆ\(X_i\)ï¼‰æ¥è®¡ç®— \(MIQ\) çš„å˜åŒ–æ¥è¿›è¡Œç‰¹å¾æ’åã€‚
- en: \begin{equation} \Delta MIQ_i = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } - \frac{ \frac{1}{|S|}{\sum_{\alpha=1,\alpha \ne i}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha=1,\alpha \ne i}^m \sum_{\beta=1,\beta \ne i}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-1151
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \Delta MIQ_i = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } }{
    \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} }
    - \frac{ \frac{1}{|S|}{\sum_{\alpha=1,\alpha \ne i}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha=1,\alpha \ne i}^m \sum_{\beta=1,\beta \ne i}^m I(X_{\alpha},X_{\beta})}
    } \]
- en: '[PRE118]'
  id: totrans-1152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE118]'
- en: '![_images/03d7d53a3d4abf4c562eeb53cbb1d74427a39a38a569d1e60c953a3ce9fe55a8.png](../Images/21f9cee66dbe4d7f6bc8cac154c1ad85.png)'
  id: totrans-1153
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/21f9cee66dbe4d7f6bc8cac154c1ad85.png)'
- en: It is intructive to compare delta mutual information and variance inflation
    factor ranking. Both of these methods account for predictor feature redundancy.
  id: totrans-1154
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”è¾ƒDeltaäº’ä¿¡æ¯å’Œæ–¹å·®è†¨èƒ€å› å­æ’åºæ˜¯æœ‰å¯å‘æ€§çš„ã€‚è¿™ä¸¤ç§æ–¹æ³•éƒ½è€ƒè™‘äº†é¢„æµ‹ç‰¹å¾å†—ä½™ã€‚
- en: but VIF assumes linearity and does not account for relevance
  id: totrans-1155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½†VIFå‡è®¾çº¿æ€§ä¸”ä¸è€ƒè™‘ç›¸å…³æ€§
- en: '[PRE119]'
  id: totrans-1156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE119]'
- en: '![_images/753de82205baf137ac8f92671732ef8708fc686e982b161ca2b05ba1095ee90e.png](../Images/3028e58a56f928ebb26de84cfb6e1f54.png)'
  id: totrans-1157
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/3028e58a56f928ebb26de84cfb6e1f54.png)'
- en: From mutual information we can observe that porosity, permeability then total
    organic carbon and brittleness have the greatest departure from general independence.
  id: totrans-1158
  prefs: []
  type: TYPE_NORMAL
  zh: ä»äº’ä¿¡æ¯ä¸­æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œå­”éš™ç‡ã€æ¸—é€ç‡ç„¶åæ€»æœ‰æœºç¢³å’Œè„†æ€§æœ€åç¦»ä¸€èˆ¬ç‹¬ç«‹æ€§ã€‚
- en: Delta Mutual Information Quotient Accounting for Relevance and Redundancy
  id: totrans-1159
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è€ƒè™‘ç›¸å…³æ€§å’Œå†—ä½™çš„Deltaäº’ä¿¡æ¯å•†
- en: We use adapt the mutual information quotient from Gulgezen, Cataltepe and Yu
    (2009) to develop an OFAT ranking metric.
  id: totrans-1160
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é‡‡ç”¨Gulgezenã€Cataltepeå’ŒYuï¼ˆ2009ï¼‰çš„äº’ä¿¡æ¯å•†æ¥å¼€å‘ä¸€ä¸ªOFATæ’åºæŒ‡æ ‡ã€‚
- en: 'The standard MRMR objective function that scores the subset of featuresâ€™ **relevance**
    between the subset of predictor features and the response feature:'
  id: totrans-1161
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‡å‡†çš„MRMRç›®æ ‡å‡½æ•°å¯¹é¢„æµ‹ç‰¹å¾å­é›†å’Œå“åº”ç‰¹å¾ä¹‹é—´çš„**ç›¸å…³æ€§**å­é›†è¿›è¡Œè¯„åˆ†ï¼š
- en: \begin{equation} \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } \end{equation}
  id: totrans-1162
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } \]
- en: 'and **redundancy** between the subset of predictor features:'
  id: totrans-1163
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŠé¢„æµ‹ç‰¹å¾å­é›†ä¹‹é—´çš„**å†—ä½™**ï¼š
- en: \begin{equation} \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    \end{equation}
  id: totrans-1164
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    \]
- en: To find the most informative subset of predictor features we must find the subset
    of features that maximize relevance while minimizing redundancy. We can accomplish
    this by maximizing either of these two formulations,
  id: totrans-1165
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ‰¾åˆ°æœ€æœ‰ä¿¡æ¯çš„é¢„æµ‹ç‰¹å¾å­é›†ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°æœ€å¤§åŒ–ç›¸å…³æ€§åŒæ—¶æœ€å°åŒ–å†—ä½™çš„ç‰¹å¾å­é›†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€å¤§åŒ–ä»¥ä¸‹ä¸¤ç§å…¬å¼ä¸­çš„ä»»ä½•ä¸€ä¸ªæ¥å®ç°è¿™ä¸€ç‚¹ï¼Œ
- en: \begin{equation} MID = \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} \end{equation}
  id: totrans-1166
  prefs: []
  type: TYPE_NORMAL
  zh: \[ MID = \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } - \frac{1}{|S|^2}
    {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} \]
- en: or
  id: totrans-1167
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…
- en: \begin{equation} MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-1168
  prefs: []
  type: TYPE_NORMAL
  zh: \[ MIQ = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} } \]
- en: I suggest feature ranking through the calculation of the change in \(MIQ\) via
    inclusion and removal of a specific predictor feature (\(X_i\)).
  id: totrans-1169
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å»ºè®®é€šè¿‡è®¡ç®—åŒ…å«å’Œåˆ é™¤ç‰¹å®šé¢„æµ‹ç‰¹å¾ï¼ˆ\(X_i\)ï¼‰æ—¶ \(MIQ\) çš„å˜åŒ–æ¥è¿›è¡Œç‰¹å¾æ’åºã€‚
- en: \begin{equation} \Delta MIQ_i = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y)
    } }{ \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})}
    } - \frac{ \frac{1}{|S|}{\sum_{\alpha=1,\alpha \ne i}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha=1,\alpha \ne i}^m \sum_{\beta=1,\beta \ne i}^m I(X_{\alpha},X_{\beta})}
    } \end{equation}
  id: totrans-1170
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \Delta MIQ_i = \frac{ \frac{1}{|S|}{\sum_{\alpha=1}^m I(X_{\alpha},Y) } }{
    \frac{1}{|S|^2} {\sum_{\alpha=1}^m \sum_{\beta=1}^m I(X_{\alpha},X_{\beta})} }
    - \frac{ \frac{1}{|S|}{\sum_{\alpha=1,\alpha \ne i}^m I(X_{\alpha},Y) } }{ \frac{1}{|S|^2}
    {\sum_{\alpha=1,\alpha \ne i}^m \sum_{\beta=1,\beta \ne i}^m I(X_{\alpha},X_{\beta})}
    } \]
- en: '[PRE120]'
  id: totrans-1171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE120]'
- en: '![_images/03d7d53a3d4abf4c562eeb53cbb1d74427a39a38a569d1e60c953a3ce9fe55a8.png](../Images/21f9cee66dbe4d7f6bc8cac154c1ad85.png)'
  id: totrans-1172
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/21f9cee66dbe4d7f6bc8cac154c1ad85.png)'
- en: It is intructive to compare delta mutual information and variance inflation
    factor ranking. Both of these methods account for predictor feature redundancy.
  id: totrans-1173
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”è¾ƒDeltaäº’ä¿¡æ¯å’Œæ–¹å·®è†¨èƒ€å› å­æ’åºæ˜¯æœ‰å¯å‘æ€§çš„ã€‚è¿™ä¸¤ç§æ–¹æ³•éƒ½è€ƒè™‘äº†é¢„æµ‹ç‰¹å¾å†—ä½™ã€‚
- en: but VIF assumes linearity and does not account for relevance
  id: totrans-1174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½†VIFå‡è®¾çº¿æ€§å…³ç³»ï¼Œå¹¶ä¸”æ²¡æœ‰è€ƒè™‘ç›¸å…³æ€§ã€‚
- en: '[PRE121]'
  id: totrans-1175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE121]'
- en: '![_images/753de82205baf137ac8f92671732ef8708fc686e982b161ca2b05ba1095ee90e.png](../Images/3028e58a56f928ebb26de84cfb6e1f54.png)'
  id: totrans-1176
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/3028e58a56f928ebb26de84cfb6e1f54.png)'
- en: From mutual information we can observe that porosity, permeability then total
    organic carbon and brittleness have the greatest departure from general independence.
  id: totrans-1177
  prefs: []
  type: TYPE_NORMAL
  zh: ä»äº’ä¿¡æ¯ä¸­æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œå­”éš™ç‡ã€æ¸—é€ç‡ç„¶åæ€»æœ‰æœºç¢³å’Œè„†æ€§åœ¨ä¸€èˆ¬ç‹¬ç«‹æ€§æ–¹é¢æœ‰æœ€å¤§çš„åç¦»ã€‚
- en: Summary of All Bivariate Metrics
  id: totrans-1178
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‰€æœ‰åŒå˜é‡æŒ‡æ ‡çš„æ€»ç»“
- en: We have a wide array of criteria to rank our features.
  id: totrans-1179
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æœ‰ä¸€ç³»åˆ—å¹¿æ³›çš„å‡†åˆ™æ¥æ’åºæˆ‘ä»¬çš„ç‰¹å¾ã€‚
- en: the \(B\) coefficient have the same issue as covariance, sensitivity to the
    univariate variance
  id: totrans-1180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(B\) ç³»æ•°ä¸åæ–¹å·®æœ‰åŒæ ·çš„é—®é¢˜ï¼Œå¯¹å•å˜é‡æ–¹å·®æ•æ„Ÿã€‚
- en: the \(\beta\) coefficients remove this sensitivity and are consistent with previous
    results.
  id: totrans-1181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(\beta\) ç³»æ•°æ¶ˆé™¤äº†è¿™ç§æ•æ„Ÿæ€§ï¼Œå¹¶ä¸å…ˆå‰ç»“æœä¸€è‡´ã€‚
- en: 'Given all of these methods, I would rank the variables as:'
  id: totrans-1182
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘åˆ°æ‰€æœ‰è¿™äº›æ–¹æ³•ï¼Œæˆ‘ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæ’åˆ—å˜é‡ï¼š
- en: Porosity
  id: totrans-1183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡
- en: Vitrinite Reflectance
  id: totrans-1184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç»ç’ƒè´¨åå°„ç‡
- en: Acoustic Impedance
  id: totrans-1185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å£°é˜»æŠ—
- en: Permeability
  id: totrans-1186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¸—é€ç‡
- en: Total Organic Carbon
  id: totrans-1187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ€»æœ‰æœºç¢³
- en: Brittleness
  id: totrans-1188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è„†æ€§
- en: I have assigned these ranks by observing the general trend in these metrics.
    Of course, we could make a more quantitative score and rank by weighting each
    method.
  id: totrans-1189
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘é€šè¿‡è§‚å¯Ÿè¿™äº›æŒ‡æ ‡çš„ä¸€èˆ¬è¶‹åŠ¿æ¥åˆ†é…è¿™äº›ç­‰çº§ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ æƒæ¯ç§æ–¹æ³•æ¥åˆ¶ä½œä¸€ä¸ªæ›´é‡åŒ–çš„åˆ†æ•°å¹¶æ’åºã€‚
- en: As mentioned before, we should not neglect expert knowledge. If additional information
    is known about physical processes, causation, and reliability and availability
    of variables this should be integrated into assigning ranks.
  id: totrans-1190
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬ä¸åº”å¿½è§†ä¸“å®¶çŸ¥è¯†ã€‚å¦‚æœå…³äºç‰©ç†è¿‡ç¨‹ã€å› æœå…³ç³»ä»¥åŠå˜é‡çš„å¯é æ€§å’Œå¯ç”¨æ€§æœ‰æ›´å¤šä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯åº”æ•´åˆåˆ°åˆ†é…ç­‰çº§ä¸­ã€‚
- en: We include a bonus method here, recursive feature elimination, but only provide
    a simple linear regression model example. More could be done with more complicated
    models.
  id: totrans-1191
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åœ¨è¿™é‡ŒåŒ…æ‹¬ä¸€ä¸ªé¢å¤–çš„æ–¹æ³•ï¼Œé€’å½’ç‰¹å¾æ¶ˆé™¤ï¼Œä½†åªæä¾›äº†ä¸€ä¸ªç®€å•çš„çº¿æ€§å›å½’æ¨¡å‹ç¤ºä¾‹ã€‚ä½¿ç”¨æ›´å¤æ‚çš„æ¨¡å‹å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ã€‚
- en: Recursive Feature Elimination
  id: totrans-1192
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é€’å½’ç‰¹å¾æ¶ˆé™¤
- en: Recursive Feature Elimination (RFE) method works by recursively removing features
    and building a model with the remaining features.
  id: totrans-1193
  prefs: []
  type: TYPE_NORMAL
  zh: é€’å½’ç‰¹å¾æ¶ˆé™¤ï¼ˆRFEï¼‰æ–¹æ³•é€šè¿‡é€’å½’åˆ é™¤ç‰¹å¾å¹¶ä½¿ç”¨å‰©ä½™ç‰¹å¾æ„å»ºæ¨¡å‹æ¥å·¥ä½œã€‚
- en: for the first step, all features are used to build a model and the features
    are ranked by feature importance or the \(\beta\) coefficient
  id: totrans-1194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨ç¬¬ä¸€æ­¥ä¸­ï¼Œä½¿ç”¨æ‰€æœ‰ç‰¹å¾æ„å»ºä¸€ä¸ªæ¨¡å‹ï¼Œå¹¶æ ¹æ®ç‰¹å¾é‡è¦æ€§æˆ– \(\beta\) ç³»æ•°å¯¹ç‰¹å¾è¿›è¡Œæ’åºã€‚
- en: the least important feature is pruned and the model is rebuilt
  id: totrans-1195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€ä¸é‡è¦çš„ç‰¹å¾è¢«å‰ªæï¼Œæ¨¡å‹è¢«é‡å»º
- en: this is repeated until there is only one feature remaining
  id: totrans-1196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªç‰¹å¾ã€‚
- en: In this code we make a prediction model based on multilinear regression and
    indicate that we want to find the best feature based on recursive feature elimination.
    The algorithm assigns rank \(1,\ldots,m\) for all features.
  id: totrans-1197
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ­¤ä»£ç ä¸­ï¼Œæˆ‘ä»¬åŸºäºå¤šå…ƒå›å½’å»ºç«‹ä¸€ä¸ªé¢„æµ‹æ¨¡å‹ï¼Œå¹¶æŒ‡å‡ºæˆ‘ä»¬æƒ³è¦æ ¹æ®é€’å½’ç‰¹å¾æ¶ˆé™¤æ‰¾åˆ°æœ€ä½³ç‰¹å¾ã€‚ç®—æ³•ä¸ºæ‰€æœ‰ç‰¹å¾åˆ†é… \(1,\ldots,m\) çš„ç­‰çº§ã€‚
- en: '[PRE122]'
  id: totrans-1198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE122]'
- en: '[PRE123]'
  id: totrans-1199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE123]'
- en: 'The advantages with the recursive elimination method:'
  id: totrans-1200
  prefs: []
  type: TYPE_NORMAL
  zh: é€’å½’æ¶ˆé™¤æ–¹æ³•çš„ä¼˜ç‚¹ï¼š
- en: the actual model can be used in assessing feature ranks
  id: totrans-1201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®é™…æ¨¡å‹å¯ç”¨äºè¯„ä¼°ç‰¹å¾ç­‰çº§
- en: the ranking is based on accuracy of the estimate
  id: totrans-1202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ’åºåŸºäºä¼°è®¡çš„å‡†ç¡®æ€§
- en: 'but this method is sensitive to:'
  id: totrans-1203
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†è¿™ç§æ–¹æ³•å¯¹ä»¥ä¸‹å› ç´ æ•æ„Ÿï¼š
- en: choice of model
  id: totrans-1204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¨¡å‹çš„é€‰æ‹©
- en: training dataset
  id: totrans-1205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®­ç»ƒæ•°æ®é›†
- en: The feature ranks are quite different from our previous methods. Many have moved
    from the previous assessment. Perhaps we should use a more flexible modeling method.
  id: totrans-1206
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰¹å¾ç­‰çº§ä¸æˆ‘ä»¬å…ˆå‰çš„æ–¹æ³•ç›¸å½“ä¸åŒã€‚è®¸å¤šç‰¹å¾ä»å…ˆå‰çš„è¯„ä¼°ä¸­ç§»åŠ¨ã€‚ä¹Ÿè®¸æˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ›´çµæ´»çš„å»ºæ¨¡æ–¹æ³•ã€‚
- en: Letâ€™s repeat this method with a more flexible machine learning method, a decision
    tree regression model.
  id: totrans-1207
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨æ›´çµæ´»çš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œå†³ç­–æ ‘å›å½’æ¨¡å‹ï¼Œé‡å¤è¿™ç§æ–¹æ³•ã€‚
- en: '[PRE124]'
  id: totrans-1208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE124]'
- en: '[PRE125]'
  id: totrans-1209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE125]'
- en: Once again, recursive feature elimination for feature ranking is sensitive to
    the accuracy of the model.
  id: totrans-1210
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡å¼ºè°ƒï¼Œç‰¹å¾æ’åºçš„é€’å½’ç‰¹å¾æ¶ˆé™¤å¯¹æ¨¡å‹çš„å‡†ç¡®æ€§æ•æ„Ÿã€‚
- en: the actual prediction model must have its associated hyperparameters tuned and
    the model accuracy checked.
  id: totrans-1211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®é™…é¢„æµ‹æ¨¡å‹å¿…é¡»è°ƒæ•´å…¶å…³è”çš„è¶…å‚æ•°å¹¶æ£€æŸ¥æ¨¡å‹å‡†ç¡®æ€§ã€‚
- en: for example, in this case the multilinear regression feature ranks are unreliable
    due to the poor accuracy of the linear model.
  id: totrans-1212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºçº¿æ€§æ¨¡å‹çš„å‡†ç¡®æ€§å·®ï¼Œå¤šå…ƒçº¿æ€§å›å½’ç‰¹å¾æ’åºä¸å¯é ã€‚
- en: Shapley Values for Feature Ranking
  id: totrans-1213
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‰¹å¾æ’åºçš„Shapleyå€¼
- en: Letâ€™s take a random subset of the data, as background values to evaluate our
    model.
  id: totrans-1214
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬éšæœºé€‰å–æ•°æ®çš„ä¸€ä¸ªå­é›†ï¼Œä½œä¸ºèƒŒæ™¯å€¼æ¥è¯„ä¼°æˆ‘ä»¬çš„æ¨¡å‹ã€‚
- en: we subset for faster calculation
  id: totrans-1215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯¹å­é›†è¿›è¡Œåˆ’åˆ†ä»¥åŠ å¿«è®¡ç®—ã€‚
- en: we should evaluate / enforce efficient coverage of the predictor feature space
  id: totrans-1216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åº”è¯¥è¯„ä¼°/å¼ºåˆ¶æ‰§è¡Œé¢„æµ‹ç‰¹å¾ç©ºé—´çš„æ•ˆç‡è¦†ç›–
- en: Since Shapley values are model based, we must start with building a model
  id: totrans-1217
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºShapleyå€¼æ˜¯åŸºäºæ¨¡å‹çš„ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆæ„å»ºä¸€ä¸ªæ¨¡å‹
- en: Build a Random Forest Model
  id: totrans-1218
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ„å»ºéšæœºæ£®æ—æ¨¡å‹
- en: Since Shapley is model based we need to build a model
  id: totrans-1219
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºShapleyæ˜¯åŸºäºæ¨¡å‹çš„ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªæ¨¡å‹
- en: Letâ€™s start with a good random forest model, observe Shapley and then return
    here and modify the model
  id: totrans-1220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ä¸€ä¸ªå¥½çš„éšæœºæ£®æ—æ¨¡å‹å¼€å§‹ï¼Œè§‚å¯ŸShapleyå€¼ï¼Œç„¶åè¿”å›è¿™é‡Œå¹¶ä¿®æ”¹æ¨¡å‹
- en: '[PRE126]'
  id: totrans-1221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE126]'
- en: '[PRE127]'
  id: totrans-1222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE127]'
- en: '![_images/cbc4aa1b1542fb9bf3527dc1f3f615180d1f3b63d21eb259a11b916d03595cea.png](../Images/6262d930974113cf78a782fd287a8df6.png)'
  id: totrans-1223
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/6262d930974113cf78a782fd287a8df6.png)'
- en: Build a Random Forest Model
  id: totrans-1224
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ„å»ºéšæœºæ£®æ—æ¨¡å‹
- en: Since Shapley is model based we need to build a model
  id: totrans-1225
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºShapleyæ˜¯åŸºäºæ¨¡å‹çš„ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªæ¨¡å‹
- en: Letâ€™s start with a good random forest model, observe Shapley and then return
    here and modify the model
  id: totrans-1226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ä¸€ä¸ªå¥½çš„éšæœºæ£®æ—æ¨¡å‹å¼€å§‹ï¼Œè§‚å¯ŸShapleyå€¼ï¼Œç„¶åè¿”å›è¿™é‡Œå¹¶ä¿®æ”¹æ¨¡å‹
- en: '[PRE128]'
  id: totrans-1227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE128]'
- en: '[PRE129]'
  id: totrans-1228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE129]'
- en: '![_images/cbc4aa1b1542fb9bf3527dc1f3f615180d1f3b63d21eb259a11b916d03595cea.png](../Images/6262d930974113cf78a782fd287a8df6.png)'
  id: totrans-1229
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/6262d930974113cf78a782fd287a8df6.png)'
- en: Calculate Shapley Values
  id: totrans-1230
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¡ç®—Shapleyå€¼
- en: Letâ€™s select some background data at random to calculate local Shapley values
    and then summarize with global Shapley measures.
  id: totrans-1231
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬éšæœºé€‰æ‹©ä¸€äº›èƒŒæ™¯æ•°æ®æ¥è®¡ç®—å±€éƒ¨çš„Shapleyå€¼ï¼Œç„¶åç”¨å…¨å±€Shapleyåº¦é‡æ¥æ€»ç»“ã€‚
- en: Background Samples are selected as a random subset from all the data. Why not
    just use all the data as background?
  id: totrans-1232
  prefs: []
  type: TYPE_NORMAL
  zh: èƒŒæ™¯æ ·æœ¬æ˜¯ä»æ‰€æœ‰æ•°æ®ä¸­éšæœºé€‰æ‹©çš„å­é›†ã€‚ä¸ºä»€ä¹ˆä¸ç”¨æ‰€æœ‰æ•°æ®ä½œä¸ºèƒŒæ™¯ï¼Ÿ
- en: '**Shapley values can be computationally expensive to calculate**, we need all
    the combinations of models to get all the predictions for marginal contributions
    that are summarized as Shapley values'
  id: totrans-1233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Shapleyå€¼çš„è®¡ç®—å¯èƒ½å¾ˆæ˜‚è´µ**ï¼Œæˆ‘ä»¬éœ€è¦æ‰€æœ‰æ¨¡å‹çš„ç»„åˆæ¥è·å–æ‰€æœ‰é¢„æµ‹çš„è¾¹é™…è´¡çŒ®ï¼Œè¿™äº›è´¡çŒ®è¢«æ€»ç»“ä¸ºShapleyå€¼'
- en: '**The original data may be sampled in a biased manner**, then we would want
    to ensure that the background data are representative, i.e., sampled from the
    original data to reduce bias to avoid bias in our feature importance assessment'
  id: totrans-1234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**åŸå§‹æ•°æ®å¯èƒ½ä»¥æœ‰åçš„æ–¹å¼é‡‡æ ·**ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›ç¡®ä¿èƒŒæ™¯æ•°æ®å…·æœ‰ä»£è¡¨æ€§ï¼Œå³ä»åŸå§‹æ•°æ®ä¸­é‡‡æ ·ä»¥å‡å°‘åå·®ï¼Œé¿å…åœ¨ç‰¹å¾é‡è¦æ€§è¯„ä¼°ä¸­çš„åå·®'
- en: '**Generalization vs. specific prediction cases**, if all the data are used
    as background we get an overall data assessment of feature importance, but we
    may want to carefully select data to explore specific prediction cases'
  id: totrans-1235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ³›åŒ–ä¸ç‰¹å®šé¢„æµ‹æ¡ˆä¾‹**ï¼Œå¦‚æœæ‰€æœ‰æ•°æ®éƒ½ç”¨ä½œèƒŒæ™¯ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæ•´ä½“çš„æ•°æ®ç‰¹å¾é‡è¦æ€§è¯„ä¼°ï¼Œä½†æˆ‘ä»¬å¯èƒ½å¸Œæœ›ä»”ç»†é€‰æ‹©æ•°æ®æ¥æ¢ç´¢ç‰¹å®šçš„é¢„æµ‹æ¡ˆä¾‹'
- en: For simplicity here, we just select randomly selection \(n\) data.
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬åªæ˜¯éšæœºé€‰æ‹©\(n\)ä¸ªæ•°æ®ã€‚
- en: '[PRE130]'
  id: totrans-1237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE130]'
- en: Local Shapley Values
  id: totrans-1238
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å±€éƒ¨Shapleyå€¼
- en: Letâ€™s start by looking at the local Shapley values to demonstrate the concept
    of efficiency.
  id: totrans-1239
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å…ˆçœ‹çœ‹å±€éƒ¨çš„Shapleyå€¼æ¥å±•ç¤ºæ•ˆç‡çš„æ¦‚å¿µã€‚
- en: first letâ€™s confirm that the output from the shap function is a \(\left[n_{background},
    m\right]\) nd array.
  id: totrans-1240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç¡®è®¤shapå‡½æ•°çš„è¾“å‡ºæ˜¯ä¸€ä¸ª\(\left[n_{background}, m\right]\)çš„ndæ•°ç»„ã€‚
- en: '[PRE131]'
  id: totrans-1241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE131]'
- en: '[PRE132]'
  id: totrans-1242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE132]'
- en: We have the local Shapley values for each prediction for the background cases.
    Letâ€™s visualize one to demonstrate this.
  id: totrans-1243
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¸ºèƒŒæ™¯æ¡ˆä¾‹ä¸­çš„æ¯ä¸ªé¢„æµ‹éƒ½æ‹¥æœ‰å±€éƒ¨çš„Shapleyå€¼ã€‚è®©æˆ‘ä»¬å¯è§†åŒ–ä¸€ä¸ªæ¥å±•ç¤ºè¿™ä¸€ç‚¹ã€‚
- en: I coded this custom visualization to clearly communicate local Shapley values
    and the concept of efficiency.
  id: totrans-1244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ç¼–å†™äº†è¿™ä¸ªè‡ªå®šä¹‰çš„å¯è§†åŒ–ä»£ç ï¼Œä»¥æ¸…æ¥šåœ°ä¼ è¾¾å±€éƒ¨çš„Shapleyå€¼å’Œæ•ˆç‡çš„æ¦‚å¿µã€‚
- en: We start at the average of the training response feature and add the local Shapely
    values for each predictor feature to reach the prediction.
  id: totrans-1245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»è®­ç»ƒå“åº”ç‰¹å¾çš„å‡å€¼å¼€å§‹ï¼Œä¸ºæ¯ä¸ªé¢„æµ‹ç‰¹å¾æ·»åŠ å±€éƒ¨çš„Shapleyå€¼ï¼Œä»¥è¾¾åˆ°é¢„æµ‹ã€‚
- en: '[PRE133]'
  id: totrans-1246
  prefs: []
  type: TYPE_PRE
  zh: '[PRE133]'
- en: '![_images/4687606001e63cc73cb21d138e664ae5506aa6589d98a6bb132426a1eeacd218.png](../Images/223f16f325ce6407f83bcbcad31a87a9.png)'
  id: totrans-1247
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/223f16f325ce6407f83bcbcad31a87a9.png)'
- en: Now I show you the built in plotting methods to communicate the same thing with
    the shap Python Package.
  id: totrans-1248
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘å‘æ‚¨å±•ç¤ºå†…ç½®çš„ç»˜å›¾æ–¹æ³•ï¼Œä½¿ç”¨shap PythonåŒ…ä»¥ç›¸åŒçš„æ–¹å¼ä¼ è¾¾ç›¸åŒçš„ä¿¡æ¯ã€‚
- en: Shapley Force Plot
  id: totrans-1249
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ShapleyåŠ›å›¾
- en: We can simulaneously visualize all of the Shapley values for all of the sample
    data in the order of the background data set.
  id: totrans-1250
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥åŒæ—¶å¯è§†åŒ–æ‰€æœ‰æ ·æœ¬æ•°æ®ä¸­çš„æ‰€æœ‰Shapleyå€¼ï¼ŒæŒ‰èƒŒæ™¯æ•°æ®é›†çš„é¡ºåºæ’åˆ—ã€‚
- en: blue indicates reduction in the predicted production and red indicates increase
    in predicted production
  id: totrans-1251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è“è‰²è¡¨ç¤ºé¢„æµ‹äº§é‡çš„å‡å°‘ï¼Œçº¢è‰²è¡¨ç¤ºé¢„æµ‹äº§é‡çš„å¢åŠ 
- en: We are visualizing over all background sample data at once. Reorder by original
    sample ordering and select the nback index to compare to the above plot.
  id: totrans-1252
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ­£åœ¨ä¸€æ¬¡æ€§å¯è§†åŒ–æ‰€æœ‰èƒŒæ™¯æ ·æœ¬æ•°æ®ã€‚æŒ‰åŸå§‹æ ·æœ¬é¡ºåºé‡æ–°æ’åºï¼Œå¹¶é€‰æ‹©nbackç´¢å¼•ä¸ä¸Šé¢çš„å›¾è¿›è¡Œæ¯”è¾ƒã€‚
- en: '[PRE134]'
  id: totrans-1253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE134]'
- en: '**Visualization omitted, Javascript library not loaded!**'
  id: totrans-1254
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯è§†åŒ–çœç•¥ï¼ŒJavaScriptåº“æœªåŠ è½½ï¼**'
- en: Have you run `initjs()` in this notebook? If this notebook was from another
    user you must also trust this notebook (File -> Trust notebook). If you are viewing
    this notebook on github the Javascript has been stripped for security. If you
    are using JupyterLab this error is because a JupyterLab extension has not yet
    been written.
  id: totrans-1255
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åœ¨è¿™ä¸ªç¬”è®°æœ¬ä¸­è¿è¡Œäº†`initjs()`å—ï¼Ÿå¦‚æœè¿™ä¸ªç¬”è®°æœ¬æ˜¯ä»å¦ä¸€ä¸ªç”¨æˆ·é‚£é‡Œæ¥çš„ï¼Œä½ å¿…é¡»ä¹Ÿä¿¡ä»»è¿™ä¸ªç¬”è®°æœ¬ï¼ˆæ–‡ä»¶ -> ä¿¡ä»»ç¬”è®°æœ¬ï¼‰ã€‚å¦‚æœä½ åœ¨githubä¸ŠæŸ¥çœ‹è¿™ä¸ªç¬”è®°æœ¬ï¼ŒJavaScriptå·²ç»è¢«ç§»é™¤ä»¥ä¿éšœå®‰å…¨ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨JupyterLabï¼Œè¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºè¿˜æ²¡æœ‰ç¼–å†™JupyterLabæ‰©å±•ã€‚
- en: Local Force Plot
  id: totrans-1256
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å±€éƒ¨åŠ›å›¾
- en: We pick a specific sample from the background and visualize the force plot.
  id: totrans-1257
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»èƒŒæ™¯ä¸­é€‰å–ä¸€ä¸ªç‰¹å®šçš„æ ·æœ¬å¹¶å¯è§†åŒ–åŠ›å›¾ã€‚
- en: We can see the genesis of the plot above, Shapley values for all features given
    a local set of values in sample \(i\), (\(x_i\)).
  id: totrans-1258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šè¿°å›¾è¡¨çš„èµ·æºï¼Œå³ç»™å®šæ ·æœ¬\(i\)ä¸­çš„å±€éƒ¨å€¼é›†çš„æ‰€æœ‰ç‰¹å¾çš„Shapleyå€¼ï¼ˆ\(x_i\)ï¼‰ã€‚
- en: Compare this result to the above custom plot that I made and you will see that
    it communicates the same information.
  id: totrans-1259
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è¿™ä¸ªç»“æœä¸ä¸Šé¢æˆ‘åˆ¶ä½œçš„è‡ªå®šä¹‰å›¾è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œä½ ä¼šçœ‹åˆ°å®ƒä¼ è¾¾äº†ç›¸åŒçš„ä¿¡æ¯ã€‚
- en: '[PRE135]'
  id: totrans-1260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE135]'
- en: '**Visualization omitted, Javascript library not loaded!**'
  id: totrans-1261
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯è§†åŒ–çœç•¥ï¼ŒJavaScriptåº“æœªåŠ è½½ï¼**'
- en: Have you run `initjs()` in this notebook? If this notebook was from another
    user you must also trust this notebook (File -> Trust notebook). If you are viewing
    this notebook on github the Javascript has been stripped for security. If you
    are using JupyterLab this error is because a JupyterLab extension has not yet
    been written.
  id: totrans-1262
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åœ¨è¿™ä¸ªç¬”è®°æœ¬ä¸­è¿è¡Œäº†`initjs()`å—ï¼Ÿå¦‚æœè¿™ä¸ªç¬”è®°æœ¬æ˜¯ä»å¦ä¸€ä¸ªç”¨æˆ·é‚£é‡Œæ¥çš„ï¼Œä½ å¿…é¡»ä¹Ÿä¿¡ä»»è¿™ä¸ªç¬”è®°æœ¬ï¼ˆæ–‡ä»¶ -> ä¿¡ä»»ç¬”è®°æœ¬ï¼‰ã€‚å¦‚æœä½ åœ¨githubä¸ŠæŸ¥çœ‹è¿™ä¸ªç¬”è®°æœ¬ï¼ŒJavaScriptå·²ç»è¢«ç§»é™¤ä»¥ä¿éšœå®‰å…¨ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨JupyterLabï¼Œè¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºè¿˜æ²¡æœ‰ç¼–å†™JupyterLabæ‰©å±•ã€‚
- en: Appreciation to Xuesong Ma for the suggestion to improve the above local Shapley
    value content and visualizations.
  id: totrans-1263
  prefs: []
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢è–›æ¾Â·é©¬å¯¹æ”¹è¿›ä¸Šè¿°å±€éƒ¨Shapleyå€¼å†…å®¹å’Œå¯è§†åŒ–çš„å»ºè®®ã€‚
- en: Global Shapley Values
  id: totrans-1264
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…¨å±€Shapleyå€¼
- en: Letâ€™s review the global Shapley measures.
  id: totrans-1265
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹å…¨å±€Shapleyåº¦é‡ã€‚
- en: sorted bar chart of the arithmetic average of the absolute SHAP value over the
    background data
  id: totrans-1266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: èƒŒæ™¯æ•°æ®ä¸Šç»å¯¹SHAPå€¼çš„ç®—æœ¯å¹³å‡å€¼çš„æ’åºæ¡å½¢å›¾
- en: sorted plot of the SHAP value over the background data
  id: totrans-1267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: èƒŒæ™¯æ•°æ®ä¸ŠSHAPå€¼çš„æ’åºå›¾
- en: plot of the SHAP value over the background data as a violin plot
  id: totrans-1268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: èƒŒæ™¯æ•°æ®ä¸ŠSHAPå€¼çš„violinå›¾
- en: 'Note: all of these methods are applying the global average (\(E[X_i]\)) for
    each feature to impute for those cases not including feature \(i\).'
  id: totrans-1269
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šæ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯åº”ç”¨æ¯ä¸ªç‰¹å¾çš„å…¨çƒå¹³å‡å€¼ï¼ˆ\(E[X_i]\)ï¼‰æ¥å¡«è¡¥ä¸åŒ…å«ç‰¹å¾\(i\)çš„æ¡ˆä¾‹ã€‚
- en: '[PRE136]'
  id: totrans-1270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE136]'
- en: '![_images/2f143182e5f4f722358c7743d0e8d7cd49f8f2a4e3afecee9fcacac06e45af95.png](../Images/e3945b1cd0e515c4f1adfcc33e2436d8.png)'
  id: totrans-1271
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/e3945b1cd0e515c4f1adfcc33e2436d8.png)'
- en: The the center and right plots show the Shapley values for each feature over
    all the randomly selected background samples, while the plot on the left is the
    bar chart of the mean absolute Shapley values.
  id: totrans-1272
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸­å¿ƒå›¾å’Œå³ä¾§å›¾æ˜¾ç¤ºäº†æ‰€æœ‰ç‰¹å¾åœ¨éšæœºé€‰æ‹©çš„èƒŒæ™¯æ ·æœ¬ä¸Šçš„Shapleyå€¼ï¼Œè€Œå·¦ä¾§å›¾æ˜¯å¹³å‡ç»å¯¹Shapleyå€¼çš„æ¡å½¢å›¾ã€‚
- en: Porosity, Permeability and TOC are the top features
  id: totrans-1273
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­”éš™ç‡ã€æ¸—é€ç‡å’ŒTOCæ˜¯é¡¶çº§ç‰¹å¾
- en: Comments
  id: totrans-1274
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¯„è®º
- en: This was a basic treatment of feature ranking. Much more could be done and discussed,
    I have many more resources. Check out my [shared resource inventory](https://michaelpyrcz.com/my-resources)
    and the YouTube lecture links at the start of this chapter with resource links
    in the videosâ€™ descriptions.
  id: totrans-1275
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¯¹ç‰¹å¾æ’åçš„åŸºæœ¬å¤„ç†ã€‚å¯ä»¥åšå’Œè®¨è®ºçš„è¿˜æœ‰å¾ˆå¤šï¼Œæˆ‘æœ‰å¾ˆå¤šæ›´å¤šçš„èµ„æºã€‚æŸ¥çœ‹æˆ‘çš„[å…±äº«èµ„æºæ¸…å•](https://michaelpyrcz.com/my-resources)ä»¥åŠæœ¬ç« å¼€å¤´å¸¦æœ‰èµ„æºé“¾æ¥çš„YouTubeè®²åº§é“¾æ¥ã€‚
- en: I hope this is helpful,
  id: totrans-1276
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›è¿™æœ‰æ‰€å¸®åŠ©ï¼Œ
- en: '*Michael*'
  id: totrans-1277
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿ˆå…‹å°”*'
- en: About the Author
  id: totrans-1278
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…³äºä½œè€…
- en: '![](../Images/eb709b2c0a0c715da01ae0165efdf3b2.png)'
  id: totrans-1279
  prefs: []
  type: TYPE_IMG
  zh: '![å›¾ç‰‡](../Images/eb709b2c0a0c715da01ae0165efdf3b2.png)'
- en: Professor Michael Pyrcz in his office on the 40 acres, campus of The University
    of Texas at Austin.
  id: totrans-1280
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡æ•™æˆåœ¨å¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡40è‹±äº©æ ¡å›­çš„åŠå…¬å®¤ã€‚
- en: Michael Pyrcz is a professor in the [Cockrell School of Engineering](https://cockrell.utexas.edu/faculty-directory/alphabetical/p),
    and the [Jackson School of Geosciences](https://www.jsg.utexas.edu/researcher/michael_pyrcz/),
    at [The University of Texas at Austin](https://www.utexas.edu/), where he researches
    and teaches subsurface, spatial data analytics, geostatistics, and machine learning.
    Michael is also,
  id: totrans-1281
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡æ˜¯å¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡[Cockrellå·¥ç¨‹å­¦é™¢](https://cockrell.utexas.edu/faculty-directory/alphabetical/p)å’Œ[Jacksonåœ°çƒç§‘å­¦å­¦é™¢](https://www.jsg.utexas.edu/researcher/michael_pyrcz/)çš„æ•™æˆï¼Œä»–åœ¨é‚£é‡Œç ”ç©¶å¹¶æ•™æˆåœ°ä¸‹ã€ç©ºé—´æ•°æ®åˆ†æã€åœ°ç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ ã€‚è¿ˆå…‹å°”è¿˜æ˜¯ï¼Œ
- en: the principal investigator of the [Energy Analytics](https://fri.cns.utexas.edu/energy-analytics)
    freshmen research initiative and a core faculty in the Machine Learn Laboratory
    in the College of Natural Sciences, The University of Texas at Austin
  id: totrans-1282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[èƒ½æºåˆ†æ](https://fri.cns.utexas.edu/energy-analytics)æ–°ç”Ÿç ”ç©¶é¡¹ç›®çš„é¦–å¸­ç ”ç©¶å‘˜ï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡è‡ªç„¶ç§‘å­¦é™¢æœºå™¨å­¦ä¹ å®éªŒå®¤çš„æ ¸å¿ƒæ•™å‘˜'
- en: an associate editor for [Computers and Geosciences](https://www.sciencedirect.com/journal/computers-and-geosciences/about/editorial-board),
    and a board member for [Mathematical Geosciences](https://link.springer.com/journal/11004/editorial-board),
    the International Association for Mathematical Geosciences.
  id: totrans-1283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[è®¡ç®—æœºä¸åœ°å­¦](https://www.sciencedirect.com/journal/computers-and-geosciences/about/editorial-board)çš„å‰¯ç¼–è¾‘ï¼Œä»¥åŠå›½é™…æ•°å­¦åœ°å­¦åä¼šçš„[æ•°å­¦åœ°å­¦](https://link.springer.com/journal/11004/editorial-board)è‘£äº‹ä¼šæˆå‘˜ã€‚'
- en: 'Michael has written over 70 [peer-reviewed publications](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en),
    a [Python package](https://pypi.org/project/geostatspy/) for spatial data analytics,
    co-authored a textbook on spatial data analytics, [Geostatistical Reservoir Modeling](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    and author of two recently released e-books, [Applied Geostatistics in Python:
    a Hands-on Guide with GeostatsPy](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    and [Applied Machine Learning in Python: a Hands-on Guide with Code](https://geostatsguy.github.io/MachineLearningDemos_Book/intro.html).'
  id: totrans-1284
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”å·²æ’°å†™è¶…è¿‡70ç¯‡[åŒè¡Œè¯„å®¡å‡ºç‰ˆç‰©](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en)ï¼Œä¸€ä¸ªç”¨äºç©ºé—´æ•°æ®åˆ†æçš„[PythonåŒ…](https://pypi.org/project/geostatspy/)ï¼Œåˆè‘—äº†ä¸€æœ¬å…³äºç©ºé—´æ•°æ®åˆ†æçš„æ•™ç§‘ä¹¦[åœ°ç»Ÿè®¡å­¦å‚¨å±‚å»ºæ¨¡](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)ï¼Œå¹¶æ˜¯ä¸¤æœ¬æœ€è¿‘å‘å¸ƒçš„ç”µå­ä¹¦çš„ä½œè€…ï¼Œ[Pythonä¸­çš„åº”ç”¨åœ°ç»Ÿè®¡å­¦ï¼šGeostatsPyå®è·µæŒ‡å—](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)å’Œ[Pythonä¸­çš„åº”ç”¨æœºå™¨å­¦ä¹ ï¼šä»£ç å®è·µæŒ‡å—](https://geostatsguy.github.io/MachineLearningDemos_Book/intro.html)ã€‚
- en: All of Michaelâ€™s university lectures are available on his [YouTube Channel](https://www.youtube.com/@GeostatsGuyLectures)
    with links to 100s of Python interactive dashboards and well-documented workflows
    in over 40 repositories on his [GitHub account](https://github.com/GeostatsGuy),
    to support any interested students and working professionals with evergreen content.
    To find out more about Michaelâ€™s work and shared educational resources visit his
    Website.
  id: totrans-1285
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”çš„æ‰€æœ‰å¤§å­¦è®²åº§éƒ½å¯ä»¥åœ¨ä»–çš„ [YouTube é¢‘é“](https://www.youtube.com/@GeostatsGuyLectures)ä¸Šæ‰¾åˆ°ï¼Œå…¶ä¸­åŒ…å«100å¤šä¸ªPythonäº¤äº’å¼ä»ªè¡¨æ¿å’Œ40å¤šä¸ªå­˜å‚¨åº“ä¸­çš„è¯¦ç»†å·¥ä½œæµç¨‹é“¾æ¥ï¼Œè¿™äº›å­˜å‚¨åº“ä½äºä»–çš„
    [GitHub è´¦æˆ·](https://github.com/GeostatsGuy)ï¼Œä»¥æ”¯æŒä»»ä½•æ„Ÿå…´è¶£çš„å­¦ç”Ÿå’Œåœ¨èŒä¸“ä¸šäººå£«ï¼Œæä¾›å¸¸é’å†…å®¹ã€‚äº†è§£æ›´å¤šå…³äºè¿ˆå…‹å°”çš„å·¥ä½œå’Œå…±äº«æ•™è‚²èµ„æºï¼Œè¯·è®¿é—®ä»–çš„ç½‘ç«™ã€‚
- en: Want to Work Together?
  id: totrans-1286
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æƒ³è¦ä¸€èµ·å·¥ä½œå—ï¼Ÿ
- en: I hope this content is helpful to those that want to learn more about subsurface
    modeling, data analytics and machine learning. Students and working professionals
    are welcome to participate.
  id: totrans-1287
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›è¿™ä¸ªå†…å®¹å¯¹é‚£äº›æƒ³äº†è§£æ›´å¤šå…³äºåœ°å­¦å»ºæ¨¡ã€æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººæœ‰æ‰€å¸®åŠ©ã€‚å­¦ç”Ÿå’Œåœ¨èŒä¸“ä¸šäººå£«æ¬¢è¿å‚åŠ ã€‚
- en: Want to invite me to visit your company for training, mentoring, project review,
    workflow design and / or consulting? Iâ€™d be happy to drop by and work with you!
  id: totrans-1288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æƒ³é‚€è¯·æˆ‘åˆ°è´µå…¬å¸è¿›è¡ŒåŸ¹è®­ã€è¾…å¯¼ã€é¡¹ç›®å®¡æŸ¥ã€å·¥ä½œæµç¨‹è®¾è®¡å’Œ/æˆ–å’¨è¯¢å—ï¼Ÿæˆ‘å¾ˆä¹æ„æ‹œè®¿å¹¶ä¸æ‚¨åˆä½œï¼
- en: Interested in partnering, supporting my graduate student research or my Subsurface
    Data Analytics and Machine Learning consortium (co-PI is Professor John Foster)?
    My research combines data analytics, stochastic modeling and machine learning
    theory with practice to develop novel methods and workflows to add value. We are
    solving challenging subsurface problems!
  id: totrans-1289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„Ÿå…´è¶£åˆä½œï¼Œæ”¯æŒæˆ‘çš„ç ”ç©¶ç”Ÿç ”ç©¶æˆ–æˆ‘çš„åœ°å­¦æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ è”ç›Ÿï¼ˆå…±åŒè´Ÿè´£äººæ˜¯çº¦ç¿°Â·ç¦æ–¯ç‰¹æ•™æˆï¼‰å—ï¼Ÿæˆ‘çš„ç ”ç©¶å°†æ•°æ®åˆ†æã€éšæœºå»ºæ¨¡å’Œæœºå™¨å­¦ä¹ ç†è®ºä¸å®è·µç›¸ç»“åˆï¼Œä»¥å¼€å‘æ–°çš„æ–¹æ³•å’Œå·¥ä½œæµç¨‹æ¥å¢åŠ ä»·å€¼ã€‚æˆ‘ä»¬æ­£åœ¨è§£å†³å…·æœ‰æŒ‘æˆ˜æ€§çš„åœ°å­¦é—®é¢˜ï¼
- en: I can be reached at [mpyrcz@austin.utexas.edu](mailto:mpyrcz%40austin.utexas.edu).
  id: totrans-1290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘å¯ä»¥é€šè¿‡ [mpyrcz@austin.utexas.edu](mailto:mpyrcz%40austin.utexas.edu) è”ç³»ã€‚
- en: Iâ€™m always happy to discuss,
  id: totrans-1291
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ€»æ˜¯ä¹äºè®¨è®ºï¼Œ
- en: '*Michael*'
  id: totrans-1292
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿ˆå…‹å°”*'
- en: Michael Pyrcz, Ph.D., P.Eng. Professor, Cockrell School of Engineering and The
    Jackson School of Geosciences, The University of Texas at Austin
  id: totrans-1293
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ˆå…‹å°”Â·çš®å°”å¥‡ï¼Œåšå£«ï¼Œæ³¨å†Œå·¥ç¨‹å¸ˆï¼Œå¾·å…‹è¨æ–¯å¤§å­¦å¥¥æ–¯æ±€åˆ†æ ¡ Cockrell å·¥ç¨‹å­¦é™¢å’Œ Jackson åœ°çƒç§‘å­¦å­¦é™¢æ•™æˆ
- en: 'More Resources Available at: [Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [Website](http://michaelpyrcz.com) | [GoogleScholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [Geostatistics Book](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Applied
    Geostats in Python e-book](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [Applied Machine Learning in Python e-book](https://geostatsguy.github.io/MachineLearningDemos_Book/)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)'
  id: totrans-1294
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´å¤šèµ„æºå¯åœ¨ä»¥ä¸‹é“¾æ¥æ‰¾åˆ°ï¼š[Twitter](https://twitter.com/geostatsguy) | [GitHub](https://github.com/GeostatsGuy)
    | [ç½‘ç«™](http://michaelpyrcz.com) | [Google Scholar](https://scholar.google.com/citations?user=QVZ20eQAAAAJ&hl=en&oi=ao)
    | [åœ°ç»Ÿè®¡å­¦ä¹¦ç±](https://www.amazon.com/Geostatistical-Reservoir-Modeling-Michael-Pyrcz/dp/0199731446)
    | [YouTube](https://www.youtube.com/channel/UCLqEr-xV-ceHdXXXrTId5ig) | [Pythonä¸­åº”ç”¨åœ°ç»Ÿè®¡å­¦ç”µå­ä¹¦](https://geostatsguy.github.io/GeostatsPyDemos_Book/intro.html)
    | [Pythonä¸­åº”ç”¨æœºå™¨å­¦ä¹ ç”µå­ä¹¦](https://geostatsguy.github.io/MachineLearningDemos_Book/)
    | [LinkedIn](https://www.linkedin.com/in/michael-pyrcz-61a648a1)
